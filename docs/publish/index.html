<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Send push notifications to your phone via PUT/POST"><link href=https://ntfy.sh/publish/ rel=canonical><link rel=prev href=..><link href=../subscribe/phone/ rel=next><link rel=icon href=../static/img/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.1.4"><title>Sending messages - ntfy</title><link rel=stylesheet href=../assets/stylesheets/main.240905d7.min.css><link rel=stylesheet href=../assets/stylesheets/palette.a0c5b2b5.min.css><link rel=stylesheet href=../static/css/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary data-md-color-accent> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#publishing class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <style>
    div[data-md-component="announce"] {
        z-index: 10;
    }

    div[data-md-component="announce"] a {
        color: white;
    }

    div[data-md-component="announce"] a:hover, div[data-md-component="announce"] a:focus {
        transition: ease-in 150ms;
        color: #ccc;
    }

    div[data-md-component="announce"] .md-banner__button {
        color: #ccc;
    }

    div[data-md-component="announce"] .md-banner.hidden {
        display: none;
    }

    div[data-md-component="announce"] .twemoji {
        margin-top: 2px;
    }
</style> <button id=announce-bar-close class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"> <path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path> </svg> </button> If you like ntfy, please consider sponsoring it via <a target=_blank href=https://github.com/sponsors/binwiederhier><strong>GitHub Sponsors</strong></a> or <a href=https://en.liberapay.com/ntfy/ target=_blank><strong>Liberapay</strong></a> <svg xmlns=http://www.w3.org/2000/svg role=img viewbox="0 0 36 36" class="twemoji md-footer-custom-text"> <path fill=#DD2E44 d="M35.885 11.833c0-5.45-4.418-9.868-9.867-9.868-3.308 0-6.227 1.633-8.018 4.129-1.791-2.496-4.71-4.129-8.017-4.129-5.45 0-9.868 4.417-9.868 9.868 0 .772.098 1.52.266 2.241C1.751 22.587 11.216 31.568 18 34.034c6.783-2.466 16.249-11.447 17.617-19.959.17-.721.268-1.469.268-2.242z"/> </svg> <script>
    announceBarKey = 'announce-bar-closed-sponsor';
    document.getElementById('announce-bar-close').addEventListener('click', (e) => {
        localStorage.setItem(announceBarKey, 'true');
        document.querySelector('div[data-md-component="announce"] .md-banner').style.display = 'none';
    });
    if (localStorage.getItem(announceBarKey) === 'true') {
        document.querySelector('div[data-md-component="announce"] .md-banner').style.display = 'none';
    }
</script> </div> </aside> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=/ title=ntfy class="md-header__button md-logo" aria-label=ntfy data-md-component=logo> <img src=../static/img/ntfy.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ntfy </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Sending messages </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary data-md-color-accent aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/binwiederhier/ntfy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> binwiederhier/ntfy </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=/ title=ntfy class="md-nav__button md-logo" aria-label=ntfy data-md-component=logo> <img src=../static/img/ntfy.png alt=logo> </a> ntfy </label> <div class=md-nav__source> <a href=https://github.com/binwiederhier/ntfy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> binwiederhier/ntfy </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Getting started </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> Publishing <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Publishing </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Sending messages <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Sending messages </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#message-title class=md-nav__link> Message title </a> </li> <li class=md-nav__item> <a href=#message-priority class=md-nav__link> Message priority </a> </li> <li class=md-nav__item> <a href=#tags-emojis class=md-nav__link> Tags &amp; emojis 🥳 🎉 </a> </li> <li class=md-nav__item> <a href=#scheduled-delivery class=md-nav__link> Scheduled delivery </a> </li> <li class=md-nav__item> <a href=#webhooks-publish-via-get class=md-nav__link> Webhooks (publish via GET) </a> </li> <li class=md-nav__item> <a href=#publish-as-json class=md-nav__link> Publish as JSON </a> </li> <li class=md-nav__item> <a href=#action-buttons class=md-nav__link> Action buttons </a> <nav class=md-nav aria-label="Action buttons"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#defining-actions class=md-nav__link> Defining actions </a> <nav class=md-nav aria-label="Defining actions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-a-header class=md-nav__link> Using a header </a> </li> <li class=md-nav__item> <a href=#using-a-json-array class=md-nav__link> Using a JSON array </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#open-websiteapp class=md-nav__link> Open website/app </a> </li> <li class=md-nav__item> <a href=#send-android-broadcast class=md-nav__link> Send Android broadcast </a> </li> <li class=md-nav__item> <a href=#send-http-request class=md-nav__link> Send HTTP request </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#click-action class=md-nav__link> Click action </a> </li> <li class=md-nav__item> <a href=#attachments class=md-nav__link> Attachments </a> <nav class=md-nav aria-label=Attachments> <ul class=md-nav__list> <li class=md-nav__item> <a href=#attach-local-file class=md-nav__link> Attach local file </a> </li> <li class=md-nav__item> <a href=#attach-file-from-a-url class=md-nav__link> Attach file from a URL </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#icons class=md-nav__link> Icons </a> </li> <li class=md-nav__item> <a href=#e-mail-notifications class=md-nav__link> E-mail notifications </a> </li> <li class=md-nav__item> <a href=#e-mail-publishing class=md-nav__link> E-mail publishing </a> </li> <li class=md-nav__item> <a href=#authentication class=md-nav__link> Authentication </a> <nav class=md-nav aria-label=Authentication> <ul class=md-nav__list> <li class=md-nav__item> <a href=#username-password class=md-nav__link> Username &amp; password </a> </li> <li class=md-nav__item> <a href=#access-tokens class=md-nav__link> Access tokens </a> </li> <li class=md-nav__item> <a href=#query-param class=md-nav__link> Query param </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-features class=md-nav__link> Advanced features </a> <nav class=md-nav aria-label="Advanced features"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#message-caching class=md-nav__link> Message caching </a> </li> <li class=md-nav__item> <a href=#disable-firebase class=md-nav__link> Disable Firebase </a> </li> <li class=md-nav__item> <a href=#unifiedpush class=md-nav__link> UnifiedPush </a> </li> <li class=md-nav__item> <a href=#matrix-gateway class=md-nav__link> Matrix Gateway </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#public-topics class=md-nav__link> Public topics </a> </li> <li class=md-nav__item> <a href=#limitations class=md-nav__link> Limitations </a> </li> <li class=md-nav__item> <a href=#list-of-all-parameters class=md-nav__link> List of all parameters </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> Subscribing <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Subscribing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../subscribe/phone/ class=md-nav__link> From your phone </a> </li> <li class=md-nav__item> <a href=../subscribe/web/ class=md-nav__link> From the Web app </a> </li> <li class=md-nav__item> <a href=../subscribe/cli/ class=md-nav__link> From the CLI </a> </li> <li class=md-nav__item> <a href=../subscribe/api/ class=md-nav__link> Using the API </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> Self-hosting <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Self-hosting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install/ class=md-nav__link> Installation </a> </li> <li class=md-nav__item> <a href=../config/ class=md-nav__link> Configuration </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> Other things <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Other things </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../faq/ class=md-nav__link> FAQs </a> </li> <li class=md-nav__item> <a href=../examples/ class=md-nav__link> Examples </a> </li> <li class=md-nav__item> <a href=../integrations/ class=md-nav__link> Integrations + projects </a> </li> <li class=md-nav__item> <a href=../releases/ class=md-nav__link> Release notes </a> </li> <li class=md-nav__item> <a href=../emojis/ class=md-nav__link> Emojis 🥳 🎉 </a> </li> <li class=md-nav__item> <a href=../troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../known-issues/ class=md-nav__link> Known issues </a> </li> <li class=md-nav__item> <a href=../deprecations/ class=md-nav__link> Deprecation notices </a> </li> <li class=md-nav__item> <a href=../develop/ class=md-nav__link> Development </a> </li> <li class=md-nav__item> <a href=../privacy/ class=md-nav__link> Privacy policy </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=publishing>Publishing<a class=headerlink href=#publishing title="Permanent link">&para;</a></h1> <p>Publishing messages can be done via HTTP PUT/POST or via the <a href=../install/ >ntfy CLI</a>. Topics are created on the fly by subscribing or publishing to them. Because there is no sign-up, <strong>the topic is essentially a password</strong>, so pick something that's not easily guessable.</p> <p>Here's an example showing how to publish a simple message using a POST request:</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:8><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><input id=__tabbed_1_3 name=__tabbed_1 type=radio><input id=__tabbed_1_4 name=__tabbed_1 type=radio><input id=__tabbed_1_5 name=__tabbed_1 type=radio><input id=__tabbed_1_6 name=__tabbed_1 type=radio><input id=__tabbed_1_7 name=__tabbed_1 type=radio><input id=__tabbed_1_8 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Command line (curl)</label><label for=__tabbed_1_2>ntfy CLI</label><label for=__tabbed_1_3>HTTP</label><label for=__tabbed_1_4>JavaScript</label><label for=__tabbed_1_5>Go</label><label for=__tabbed_1_6>PowerShell</label><label for=__tabbed_1_7>Python</label><label for=__tabbed_1_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl -d &quot;Backup successful 😀&quot; ntfy.sh/mytopic
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish mytopic &quot;Backup successful 😀&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mytopic</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

Backup successful 😀
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// PUT works too</span>
<span class=w>  </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Backup successful 😀&#39;</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>http</span><span class=p>.</span><span class=nx>Post</span><span class=p>(</span><span class=s>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;text/plain&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Backup successful 😀&quot;</span><span class=p>))</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=n>https</span><span class=p>://</span><span class=n>ntfy</span><span class=p>.</span><span class=n>sh</span><span class=p>/</span><span class=n>mytopic</span> <span class=n>-Body</span> <span class=s2>&quot;Backup successful&quot;</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span> 
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Backup successful 😀&quot;</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=n>encoding</span><span class=o>=</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=c1>// PUT also works</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Content-Type: text/plain&#39;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Backup successful 😀&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>If you have the <a href=../subscribe/phone/ >Android app</a> installed on your phone, this will create a notification that looks like this:</p> <figure> <p><img alt="basic notification" src=../static/img/android-screenshot-basic-notification.png width=500> </p> <figcaption>Android notification</figcaption> </figure> <p>There are more features related to publishing messages: You can set a <a href=#message-priority>notification priority</a>, a <a href=#message-title>title</a>, and <a href=#tags-emojis>tag messages</a> 🥳 🎉. Here's an example that uses some of them at together:</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:8><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><input id=__tabbed_2_3 name=__tabbed_2 type=radio><input id=__tabbed_2_4 name=__tabbed_2 type=radio><input id=__tabbed_2_5 name=__tabbed_2 type=radio><input id=__tabbed_2_6 name=__tabbed_2 type=radio><input id=__tabbed_2_7 name=__tabbed_2 type=radio><input id=__tabbed_2_8 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>Command line (curl)</label><label for=__tabbed_2_2>ntfy CLI</label><label for=__tabbed_2_3>HTTP</label><label for=__tabbed_2_4>JavaScript</label><label for=__tabbed_2_5>Go</label><label for=__tabbed_2_6>PowerShell</label><label for=__tabbed_2_7>Python</label><label for=__tabbed_2_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
  -H &quot;Title: Unauthorized access detected&quot; \
  -H &quot;Priority: urgent&quot; \
  -H &quot;Tags: warning,skull&quot; \
  -d &quot;Remote access to phils-laptop detected. Act right away.&quot; \
  ntfy.sh/phil_alerts
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --title &quot;Unauthorized access detected&quot; \
    --tags warning,skull \
    --priority urgent \
    mytopic \
    &quot;Remote access to phils-laptop detected. Act right away.&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/phil_alerts</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Title</span><span class=o>:</span> <span class=l>Unauthorized access detected</span>
<span class=na>Priority</span><span class=o>:</span> <span class=l>urgent</span>
<span class=na>Tags</span><span class=o>:</span> <span class=l>warning,skull</span>

Remote access to phils-laptop detected. Act right away.
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/phil_alerts&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// PUT works too</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Remote access to phils-laptop detected. Act right away.&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=s1>&#39;Title&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Unauthorized access detected&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Priority&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;urgent&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Tags&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;warning,skull&#39;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/phil_alerts&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Remote access to phils-laptop detected. Act right away.&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Title&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Unauthorized access detected&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Priority&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;urgent&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Tags&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;warning,skull&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/phil_alerts&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Title</span><span class=p>=</span><span class=s2>&quot;Unauthorized access detected&quot;</span>
              <span class=n>Priority</span><span class=p>=</span><span class=s2>&quot;urgent&quot;</span>
              <span class=n>Tags</span><span class=p>=</span><span class=s2>&quot;warning,skull&quot;</span> <span class=p>}</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=s2>&quot;Remote access to phils-laptop detected. Act right away.&quot;</span>              
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/phil_alerts&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Remote access to phils-laptop detected. Act right away.&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span>
        <span class=s2>&quot;Title&quot;</span><span class=p>:</span> <span class=s2>&quot;Unauthorized access detected&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Priority&quot;</span><span class=p>:</span> <span class=s2>&quot;urgent&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Tags&quot;</span><span class=p>:</span> <span class=s2>&quot;warning,skull&quot;</span>
    <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/phil_alerts&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=c1>// PUT also works</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Title: Unauthorized access detected</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Priority: urgent</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Tags: warning,skull&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Remote access to phils-laptop detected. Act right away.&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <figure> <p><img alt="priority notification" src=../static/img/priority-notification.png width=500> </p> <figcaption>Urgent notification with tags and title</figcaption> </figure> <p>You can also do multi-line messages. Here's an example using a <a href=#click-action>click action</a>, an <a href=#action-buttons>action button</a>, an <a href=#attach-file-from-a-url>external image attachment</a> and <a href=#e-mail-publishing>email publishing</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=3:8><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><input id=__tabbed_3_3 name=__tabbed_3 type=radio><input id=__tabbed_3_4 name=__tabbed_3 type=radio><input id=__tabbed_3_5 name=__tabbed_3 type=radio><input id=__tabbed_3_6 name=__tabbed_3 type=radio><input id=__tabbed_3_7 name=__tabbed_3 type=radio><input id=__tabbed_3_8 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>Command line (curl)</label><label for=__tabbed_3_2>ntfy CLI</label><label for=__tabbed_3_3>HTTP</label><label for=__tabbed_3_4>JavaScript</label><label for=__tabbed_3_5>Go</label><label for=__tabbed_3_6>PowerShell</label><label for=__tabbed_3_7>Python</label><label for=__tabbed_3_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
  -H &quot;Click: https://home.nest.com/&quot; \
  -H &quot;Attach: https://nest.com/view/yAxkasd.jpg&quot; \
  -H &quot;Actions: http, Open door, https://api.nest.com/open/yAxkasd, clear=true&quot; \
  -H &quot;Email: phil@example.com&quot; \
  -d &quot;There&#39;s someone at the door. 🐶

Please check if it&#39;s a good boy or a hooman. 
Doggies have been known to ring the doorbell.&quot; \
  ntfy.sh/mydoorbell
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --click=&quot;https://home.nest.com/&quot; \
    --attach=&quot;https://nest.com/view/yAxkasd.jpg&quot; \
    --actions=&quot;http, Open door, https://api.nest.com/open/yAxkasd, clear=true&quot; \
    --email=&quot;phil@example.com&quot; \
    mydoorbell \
    &quot;There&#39;s someone at the door. 🐶

Please check if it&#39;s a good boy or a hooman. 
Doggies have been known to ring the doorbell.&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mydoorbell</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Click</span><span class=o>:</span> <span class=l>https://home.nest.com/</span>
<span class=na>Attach</span><span class=o>:</span> <span class=l>https://nest.com/view/yAxkasd.jpg</span>
<span class=na>Actions</span><span class=o>:</span> <span class=l>http, Open door, https://api.nest.com/open/yAxkasd, clear=true</span>
<span class=na>Email</span><span class=o>:</span> <span class=l>phil@example.com</span>

There&#39;s someone at the door. 🐶

Please check if it&#39;s a good boy or a hooman. 
Doggies have been known to ring the doorbell.
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mydoorbell&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// PUT works too</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=s1>&#39;Click&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;https://home.nest.com/&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Attach&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;https://nest.com/view/yAxkasd.jpg&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Actions&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;http, Open door, https://api.nest.com/open/yAxkasd, clear=true&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Email&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;phil@example.com&#39;</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=sb>`There&#39;s someone at the door. 🐶</span>

<span class=sb>Please check if it&#39;s a good boy or a hooman. </span>
<span class=sb>Doggies have been known to ring the doorbell.`</span><span class=p>,</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mydoorbell&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>`There&#39;s someone at the door. 🐶</span>

<span class=s>Please check if it&#39;s a good boy or a hooman. </span>
<span class=s>Doggies have been known to ring the doorbell.`</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Click&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://home.nest.com/&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Attach&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://nest.com/view/yAxkasd.jpg&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Actions&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;http, Open door, https://api.nest.com/open/yAxkasd, clear=true&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Email&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;phil@example.com&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/mydoorbell&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Click</span><span class=p>=</span><span class=s2>&quot;https://home.nest.com/&quot;</span>
              <span class=n>Attach</span><span class=p>=</span><span class=s2>&quot;https://nest.com/view/yAxkasd.jpg&quot;</span>
              <span class=n>Actions</span><span class=p>=</span><span class=s2>&quot;http, Open door, https://api.nest.com/open/yAxkasd, clear=true&quot;</span>
              <span class=n>Email</span><span class=p>=</span><span class=s2>&quot;phil@example.com&quot;</span> <span class=p>}</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=sh>@&#39;</span>
<span class=sh>There&#39;s someone at the door. 🐶</span>

<span class=sh>Please check if it&#39;s a good boy or a hooman.</span>
<span class=sh>Doggies have been known to ring the doorbell.</span>
<span class=sh>&#39;@</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mydoorbell&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;&quot;&quot;There&#39;s someone at the door. 🐶</span>

<span class=s2>Please check if it&#39;s a good boy or a hooman.</span>
<span class=s2>Doggies have been known to ring the doorbell.&quot;&quot;&quot;</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>),</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span>
        <span class=s2>&quot;Click&quot;</span><span class=p>:</span> <span class=s2>&quot;https://home.nest.com/&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Attach&quot;</span><span class=p>:</span> <span class=s2>&quot;https://nest.com/view/yAxkasd.jpg&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Actions&quot;</span><span class=p>:</span> <span class=s2>&quot;http, Open door, https://api.nest.com/open/yAxkasd, clear=true&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Email&quot;</span><span class=p>:</span> <span class=s2>&quot;phil@example.com&quot;</span>
    <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mydoorbell&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=c1>// PUT also works</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Click: https://home.nest.com/</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Attach: https://nest.com/view/yAxkasd.jpg</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Actions&quot;</span><span class=o>:</span> <span class=s2>&quot;http, Open door, https://api.nest.com/open/yAxkasd, clear=true</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Email&quot;</span><span class=o>:</span> <span class=s2>&quot;phil@example.com</span><span class=se>\r\n</span><span class=s2>&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;There\&#39;s someone at the door. 🐶</span>

<span class=s1>Please check if it\&#39;s a good boy or a hooman.</span>
<span class=s1>Doggies have been known to ring the doorbell.&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <figure> <p><img alt="priority notification" src=../static/img/android-screenshot-notification-multiline.jpg width=500> </p> <figcaption>Notification using a click action, a user action, with an external image attachment and forwarded via email</figcaption> </figure> <h2 id=message-title>Message title<a class=headerlink href=#message-title title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82c.46 0 .84.36.84.82 0 .46-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83 0-.46.38-.82.84-.82.46 0 .83.36.83.82 0 .46-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74c.01 0 .01 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03Z"/></svg></span></p> <p>The notification title is typically set to the topic short URL (e.g. <code>ntfy.sh/mytopic</code>). To override the title, you can set the <code>X-Title</code> header (or any of its aliases: <code>Title</code>, <code>ti</code>, or <code>t</code>).</p> <div class="tabbed-set tabbed-alternate" data-tabs=4:8><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><input id=__tabbed_4_2 name=__tabbed_4 type=radio><input id=__tabbed_4_3 name=__tabbed_4 type=radio><input id=__tabbed_4_4 name=__tabbed_4 type=radio><input id=__tabbed_4_5 name=__tabbed_4 type=radio><input id=__tabbed_4_6 name=__tabbed_4 type=radio><input id=__tabbed_4_7 name=__tabbed_4 type=radio><input id=__tabbed_4_8 name=__tabbed_4 type=radio><div class=tabbed-labels><label for=__tabbed_4_1>Command line (curl)</label><label for=__tabbed_4_2>ntfy CLI</label><label for=__tabbed_4_3>HTTP</label><label for=__tabbed_4_4>JavaScript</label><label for=__tabbed_4_5>Go</label><label for=__tabbed_4_6>PowerShell</label><label for=__tabbed_4_7>Python</label><label for=__tabbed_4_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl -H &quot;X-Title: Dogs are better than cats&quot; -d &quot;Oh my ...&quot; ntfy.sh/controversial
curl -H &quot;Title: Dogs are better than cats&quot; -d &quot;Oh my ...&quot; ntfy.sh/controversial
curl -H &quot;t: Dogs are better than cats&quot; -d &quot;Oh my ...&quot; ntfy.sh/controversial
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    -t &quot;Dogs are better than cats&quot; \
    controversial &quot;Oh my ...&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/controversial</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Title</span><span class=o>:</span> <span class=l>Dogs are better than cats</span>

Oh my ...
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/controversial&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Oh my ...&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;Title&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Dogs are better than cats&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/controversial&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Oh my ...&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Title&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Dogs are better than cats&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/controversial&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Title</span><span class=p>=</span><span class=s2>&quot;Dogs are better than cats&quot;</span> <span class=p>}</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=s2>&quot;Oh my ...&quot;</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/controversial&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Oh my ...&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Title&quot;</span><span class=p>:</span> <span class=s2>&quot;Dogs are better than cats&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/controversial&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Title: Dogs are better than cats&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Oh my ...&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <figure> <p><img alt="notification with title" src=../static/img/notification-with-title.png width=500> </p> <figcaption>Detail view of notification with title</figcaption> </figure> <h2 id=message-priority>Message priority<a class=headerlink href=#message-priority title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82c.46 0 .84.36.84.82 0 .46-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83 0-.46.38-.82.84-.82.46 0 .83.36.83.82 0 .46-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74c.01 0 .01 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03Z"/></svg></span></p> <p>All messages have a priority, which defines how urgently your phone notifies you. On Android, you can set custom notification sounds and vibration patterns on your phone to map to these priorities (see <a href=../subscribe/phone/ >Android config</a>).</p> <p>The following priorities exist:</p> <table> <thead> <tr> <th>Priority</th> <th>Icon</th> <th>ID</th> <th>Name</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>Max priority</td> <td><img alt="min priority" src=../static/img/priority-5.svg></td> <td><code>5</code></td> <td><code>max</code>/<code>urgent</code></td> <td>Really long vibration bursts, default notification sound with a pop-over notification.</td> </tr> <tr> <td>High priority</td> <td><img alt="min priority" src=../static/img/priority-4.svg></td> <td><code>4</code></td> <td><code>high</code></td> <td>Long vibration burst, default notification sound with a pop-over notification.</td> </tr> <tr> <td><strong>Default priority</strong></td> <td><em>(none)</em></td> <td><code>3</code></td> <td><code>default</code></td> <td>Short default vibration and sound. Default notification behavior.</td> </tr> <tr> <td>Low priority</td> <td><img alt="min priority" src=../static/img/priority-2.svg></td> <td><code>2</code></td> <td><code>low</code></td> <td>No vibration or sound. Notification will not visibly show up until notification drawer is pulled down.</td> </tr> <tr> <td>Min priority</td> <td><img alt="min priority" src=../static/img/priority-1.svg></td> <td><code>1</code></td> <td><code>min</code></td> <td>No vibration or sound. The notification will be under the fold in "Other notifications".</td> </tr> </tbody> </table> <p>You can set the priority with the header <code>X-Priority</code> (or any of its aliases: <code>Priority</code>, <code>prio</code>, or <code>p</code>).</p> <div class="tabbed-set tabbed-alternate" data-tabs=5:8><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><input id=__tabbed_5_2 name=__tabbed_5 type=radio><input id=__tabbed_5_3 name=__tabbed_5 type=radio><input id=__tabbed_5_4 name=__tabbed_5 type=radio><input id=__tabbed_5_5 name=__tabbed_5 type=radio><input id=__tabbed_5_6 name=__tabbed_5 type=radio><input id=__tabbed_5_7 name=__tabbed_5 type=radio><input id=__tabbed_5_8 name=__tabbed_5 type=radio><div class=tabbed-labels><label for=__tabbed_5_1>Command line (curl)</label><label for=__tabbed_5_2>ntfy CLI</label><label for=__tabbed_5_3>HTTP</label><label for=__tabbed_5_4>JavaScript</label><label for=__tabbed_5_5>Go</label><label for=__tabbed_5_6>PowerShell</label><label for=__tabbed_5_7>Python</label><label for=__tabbed_5_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl -H &quot;X-Priority: 5&quot; -d &quot;An urgent message&quot; ntfy.sh/phil_alerts
curl -H &quot;Priority: low&quot; -d &quot;Low priority message&quot; ntfy.sh/phil_alerts
curl -H p:4 -d &quot;A high priority message&quot; ntfy.sh/phil_alerts
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \ 
    -p 5 \
    phil_alerts An urgent message
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/phil_alerts</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Priority</span><span class=o>:</span> <span class=l>5</span>

An urgent message
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/phil_alerts&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;An urgent message&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;Priority&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;5&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/phil_alerts&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;An urgent message&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Priority&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;5&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/phil_alerts&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Priority</span><span class=p>=</span><span class=s2>&quot;5&quot;</span> <span class=p>}</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=s2>&quot;An urgent message&quot;</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/phil_alerts&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;An urgent message&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Priority&quot;</span><span class=p>:</span> <span class=s2>&quot;5&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/phil_alerts&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Priority: 5&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;An urgent message&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <figure> <p><img alt="priority notification" src=../static/img/priority-detail-overview.png width=500> </p> <figcaption>Detail view of priority notifications</figcaption> </figure> <h2 id=tags-emojis>Tags &amp; emojis 🥳 🎉<a class=headerlink href=#tags-emojis title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82c.46 0 .84.36.84.82 0 .46-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83 0-.46.38-.82.84-.82.46 0 .83.36.83.82 0 .46-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74c.01 0 .01 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03Z"/></svg></span></p> <p>You can tag messages with emojis and other relevant strings:</p> <ul> <li><strong>Emojis</strong>: If a tag matches an <a href=../emojis/ >emoji short code</a>, it'll be converted to an emoji and prepended to title or message.</li> <li><strong>Other tags:</strong> If a tag doesn't match, it will be listed below the notification. </li> </ul> <p>This feature is useful for things like warnings (⚠️, ️🚨, or 🚩), but also to simply tag messages otherwise (e.g. script names, hostnames, etc.). Use <a href=../emojis/ >the emoji short code list</a> to figure out what tags can be converted to emojis. Here's an <strong>excerpt of emojis</strong> I've found very useful in alert messages:</p> <table class=remove-md-box><tr> <td> <table><thead><tr><th>Tag</th><th>Emoji</th></tr></thead><tbody> <tr><td><code>+1</code></td><td>👍</td></tr> <tr><td><code>partying_face</code></td><td>🥳</td></tr> <tr><td><code>tada</code></td><td>🎉</td></tr> <tr><td><code>heavy_check_mark</code></td><td>✔️</td></tr> <tr><td><code>loudspeaker</code></td><td>📢</td></tr> <tr><td>...</td><td>...</td></tr> </tbody></table> </td> <td> <table><thead><tr><th>Tag</th><th>Emoji</th></tr></thead><tbody> <tr><td><code>-1</code></td><td>👎️</td></tr> <tr><td><code>warning</code></td><td>⚠️</td></tr> <tr><td><code>rotating_light</code></td><td>️🚨</td></tr> <tr><td><code>triangular_flag_on_post</code></td><td>🚩</td></tr> <tr><td><code>skull</code></td><td>💀</td></tr> <tr><td>...</td><td>...</td></tr> </tbody></table> </td> <td> <table><thead><tr><th>Tag</th><th>Emoji</th></tr></thead><tbody> <tr><td><code>facepalm</code></td><td>🤦</td></tr> <tr><td><code>no_entry</code></td><td>⛔</td></tr> <tr><td><code>no_entry_sign</code></td><td>🚫</td></tr> <tr><td><code>cd</code></td><td>💿</td></tr> <tr><td><code>computer</code></td><td>💻</td></tr> <tr><td>...</td><td>...</td></tr> </tbody></table> </td> </tr></table> <p>You can set tags with the <code>X-Tags</code> header (or any of its aliases: <code>Tags</code>, <code>tag</code>, or <code>ta</code>). Specify multiple tags by separating them with a comma, e.g. <code>tag1,tag2,tag3</code>.</p> <div class="tabbed-set tabbed-alternate" data-tabs=6:8><input checked=checked id=__tabbed_6_1 name=__tabbed_6 type=radio><input id=__tabbed_6_2 name=__tabbed_6 type=radio><input id=__tabbed_6_3 name=__tabbed_6 type=radio><input id=__tabbed_6_4 name=__tabbed_6 type=radio><input id=__tabbed_6_5 name=__tabbed_6 type=radio><input id=__tabbed_6_6 name=__tabbed_6 type=radio><input id=__tabbed_6_7 name=__tabbed_6 type=radio><input id=__tabbed_6_8 name=__tabbed_6 type=radio><div class=tabbed-labels><label for=__tabbed_6_1>Command line (curl)</label><label for=__tabbed_6_2>ntfy CLI</label><label for=__tabbed_6_3>HTTP</label><label for=__tabbed_6_4>JavaScript</label><label for=__tabbed_6_5>Go</label><label for=__tabbed_6_6>PowerShell</label><label for=__tabbed_6_7>Python</label><label for=__tabbed_6_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl -H &quot;X-Tags: warning,mailsrv13,daily-backup&quot; -d &quot;Backup of mailsrv13 failed&quot; ntfy.sh/backups
curl -H &quot;Tags: horse,unicorn&quot; -d &quot;Unicorns are just horses with unique horns&quot; ntfy.sh/backups
curl -H ta:dog -d &quot;Dogs are awesome&quot; ntfy.sh/backups
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --tags=warning,mailsrv13,daily-backup \
    backups &quot;Backup of mailsrv13 failed&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/backups</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Tags</span><span class=o>:</span> <span class=l>warning,mailsrv13,daily-backup</span>

Backup of mailsrv13 failed
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/backups&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Backup of mailsrv13 failed&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;Tags&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;warning,mailsrv13,daily-backup&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/backups&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Backup of mailsrv13 failed&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Tags&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;warning,mailsrv13,daily-backup&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/backups&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Tags</span><span class=p>=</span><span class=s2>&quot;warning,mailsrv13,daily-backup&quot;</span> <span class=p>}</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=s2>&quot;Backup of mailsrv13 failed&quot;</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/backups&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Backup of mailsrv13 failed&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Tags&quot;</span><span class=p>:</span> <span class=s2>&quot;warning,mailsrv13,daily-backup&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/backups&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Tags: warning,mailsrv13,daily-backup&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Backup of mailsrv13 failed&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <figure> <p><img alt="priority notification" src=../static/img/notification-with-tags.png width=500> </p> <figcaption>Detail view of notifications with tags</figcaption> </figure> <h2 id=scheduled-delivery>Scheduled delivery<a class=headerlink href=#scheduled-delivery title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82c.46 0 .84.36.84.82 0 .46-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83 0-.46.38-.82.84-.82.46 0 .83.36.83.82 0 .46-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74c.01 0 .01 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03Z"/></svg></span></p> <p>You can delay the delivery of messages and let ntfy send them at a later date. This can be used to send yourself reminders or even to execute commands at a later date (if your subscriber acts on messages).</p> <p>Usage is pretty straight forward. You can set the delivery time using the <code>X-Delay</code> header (or any of its aliases: <code>Delay</code>, <code>X-At</code>, <code>At</code>, <code>X-In</code> or <code>In</code>), either by specifying a Unix timestamp (e.g. <code>1639194738</code>), a duration (e.g. <code>30m</code>, <code>3h</code>, <code>2 days</code>), or a natural language time string (e.g. <code>10am</code>, <code>8:30pm</code>, <code>tomorrow, 3pm</code>, <code>Tuesday, 7am</code>, <a href=https://github.com/olebedev/when>and more</a>). </p> <p>As of today, the minimum delay you can set is <strong>10 seconds</strong> and the maximum delay is <strong>3 days</strong>. This can currently not be configured otherwise (<a href=https://github.com/binwiederhier/ntfy/issues>let me know</a> if you'd like to change these limits).</p> <p>For the purposes of <a href=../config/#message-cache>message caching</a>, scheduled messages are kept in the cache until 12 hours after they were delivered (or whatever the server-side cache duration is set to). For instance, if a message is scheduled to be delivered in 3 days, it'll remain in the cache for 3 days and 12 hours. Also note that naturally, <a href=#message-caching>turning off server-side caching</a> is not possible in combination with this feature. </p> <div class="tabbed-set tabbed-alternate" data-tabs=7:8><input checked=checked id=__tabbed_7_1 name=__tabbed_7 type=radio><input id=__tabbed_7_2 name=__tabbed_7 type=radio><input id=__tabbed_7_3 name=__tabbed_7 type=radio><input id=__tabbed_7_4 name=__tabbed_7 type=radio><input id=__tabbed_7_5 name=__tabbed_7 type=radio><input id=__tabbed_7_6 name=__tabbed_7 type=radio><input id=__tabbed_7_7 name=__tabbed_7 type=radio><input id=__tabbed_7_8 name=__tabbed_7 type=radio><div class=tabbed-labels><label for=__tabbed_7_1>Command line (curl)</label><label for=__tabbed_7_2>ntfy CLI</label><label for=__tabbed_7_3>HTTP</label><label for=__tabbed_7_4>JavaScript</label><label for=__tabbed_7_5>Go</label><label for=__tabbed_7_6>PowerShell</label><label for=__tabbed_7_7>Python</label><label for=__tabbed_7_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl -H &quot;At: tomorrow, 10am&quot; -d &quot;Good morning&quot; ntfy.sh/hello
curl -H &quot;In: 30min&quot; -d &quot;It&#39;s 30 minutes later now&quot; ntfy.sh/reminder
curl -H &quot;Delay: 1639194738&quot; -d &quot;Unix timestamps are awesome&quot; ntfy.sh/itsaunixsystem
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --at=&quot;tomorrow, 10am&quot; \
    hello &quot;Good morning&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/hello</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>At</span><span class=o>:</span> <span class=l>tomorrow, 10am</span>

Good morning
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/hello&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Good morning&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;At&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;tomorrow, 10am&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/hello&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Good morning&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;At&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;tomorrow, 10am&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/hello&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>At</span><span class=p>=</span><span class=s2>&quot;tomorrow, 10am&quot;</span> <span class=p>}</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=s2>&quot;Good morning&quot;</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/hello&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Good morning&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;At&quot;</span><span class=p>:</span> <span class=s2>&quot;tomorrow, 10am&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/backups&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;At: tomorrow, 10am&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Good morning&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>Here are a few examples (assuming today's date is <strong>12/10/2021, 9am, Eastern Time Zone</strong>):</p> <table class=remove-md-box><tr> <td> <table><thead><tr><th><code>Delay/At/In</code> header</th><th>Message will be delivered at</th><th>Explanation</th></tr></thead><tbody> <tr><td><code>30m</code></td><td>12/10/2021, 9:<b>30</b>am</td><td>30 minutes from now</td></tr> <tr><td><code>2 hours</code></td><td>12/10/2021, <b>11:30</b>am</td><td>2 hours from now</td></tr> <tr><td><code>1 day</code></td><td>12/<b>11</b>/2021, 9am</td><td>24 hours from now</td></tr> <tr><td><code>10am</code></td><td>12/10/2021, <b>10am</b></td><td>Today at 10am (same day, because it's only 9am)</td></tr> <tr><td><code>8am</code></td><td>12/<b>11</b>/2021, <b>8am</b></td><td>Tomorrow at 8am (because it's 9am already)</td></tr> <tr><td><code>1639152000</code></td><td>12/10/2021, 11am (EST)</td><td> Today at 11am (EST)</td></tr> </tbody></table> </td> </tr></table> <h2 id=webhooks-publish-via-get>Webhooks (publish via GET)<a class=headerlink href=#webhooks-publish-via-get title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82c.46 0 .84.36.84.82 0 .46-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83 0-.46.38-.82.84-.82.46 0 .83.36.83.82 0 .46-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74c.01 0 .01 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03Z"/></svg></span></p> <p>In addition to using PUT/POST, you can also send to topics via simple HTTP GET requests. This makes it easy to use a ntfy topic as a <a href=https://en.wikipedia.org/wiki/Webhook>webhook</a>, or if your client has limited HTTP support (e.g. like the <a href="https://play.google.com/store/apps/details?id=com.arlosoft.macrodroid">MacroDroid</a> Android app).</p> <p>To send messages via HTTP GET, simply call the <code>/publish</code> endpoint (or its aliases <code>/send</code> and <code>/trigger</code>). Without any arguments, this will send the message <code>triggered</code> to the topic. However, you can provide all arguments that are also supported as HTTP headers as URL-encoded arguments. Be sure to check the list of all <a href=#list-of-all-parameters>supported parameters and headers</a> for details.</p> <p>For instance, assuming your topic is <code>mywebhook</code>, you can simply call <code>/mywebhook/trigger</code> to send a message (aka trigger the webhook):</p> <div class="tabbed-set tabbed-alternate" data-tabs=8:8><input checked=checked id=__tabbed_8_1 name=__tabbed_8 type=radio><input id=__tabbed_8_2 name=__tabbed_8 type=radio><input id=__tabbed_8_3 name=__tabbed_8 type=radio><input id=__tabbed_8_4 name=__tabbed_8 type=radio><input id=__tabbed_8_5 name=__tabbed_8 type=radio><input id=__tabbed_8_6 name=__tabbed_8 type=radio><input id=__tabbed_8_7 name=__tabbed_8 type=radio><input id=__tabbed_8_8 name=__tabbed_8 type=radio><div class=tabbed-labels><label for=__tabbed_8_1>Command line (curl)</label><label for=__tabbed_8_2>ntfy CLI</label><label for=__tabbed_8_3>HTTP</label><label for=__tabbed_8_4>JavaScript</label><label for=__tabbed_8_5>Go</label><label for=__tabbed_8_6>PowerShell</label><label for=__tabbed_8_7>Python</label><label for=__tabbed_8_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl ntfy.sh/mywebhook/trigger
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy trigger mywebhook
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>GET</span> <span class=nn>/mywebhook/trigger</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mywebhook/trigger&#39;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>http</span><span class=p>.</span><span class=nx>Get</span><span class=p>(</span><span class=s>&quot;https://ntfy.sh/mywebhook/trigger&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Get&#39;</span> <span class=n>-Uri</span> <span class=s2>&quot;ntfy.sh/mywebhook/trigger&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mywebhook/trigger&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mywebhook/trigger&#39;</span><span class=p>);</span>
</code></pre></div> </div> </div> </div> <p>To add a custom message, simply append the <code>message=</code> URL parameter. And of course you can set the <a href=#message-priority>message priority</a>, the <a href=#message-title>message title</a>, and <a href=#tags-emojis>tags</a> as well. For a full list of possible parameters, check the list of <a href=#list-of-all-parameters>supported parameters and headers</a>.</p> <p>Here's an example with a custom message, tags and a priority:</p> <div class="tabbed-set tabbed-alternate" data-tabs=9:8><input checked=checked id=__tabbed_9_1 name=__tabbed_9 type=radio><input id=__tabbed_9_2 name=__tabbed_9 type=radio><input id=__tabbed_9_3 name=__tabbed_9 type=radio><input id=__tabbed_9_4 name=__tabbed_9 type=radio><input id=__tabbed_9_5 name=__tabbed_9 type=radio><input id=__tabbed_9_6 name=__tabbed_9 type=radio><input id=__tabbed_9_7 name=__tabbed_9 type=radio><input id=__tabbed_9_8 name=__tabbed_9 type=radio><div class=tabbed-labels><label for=__tabbed_9_1>Command line (curl)</label><label for=__tabbed_9_2>ntfy CLI</label><label for=__tabbed_9_3>HTTP</label><label for=__tabbed_9_4>JavaScript</label><label for=__tabbed_9_5>Go</label><label for=__tabbed_9_6>PowerShell</label><label for=__tabbed_9_7>Python</label><label for=__tabbed_9_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl &quot;ntfy.sh/mywebhook/publish?message=Webhook+triggered&amp;priority=high&amp;tags=warning,skull&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    -p 5 --tags=warning,skull \
    mywebhook &quot;Webhook triggered&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>GET</span> <span class=nn>/mywebhook/publish?message=Webhook+triggered&amp;priority=high&amp;tags=warning,skull</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mywebhook/publish?message=Webhook+triggered&amp;priority=high&amp;tags=warning,skull&#39;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>http</span><span class=p>.</span><span class=nx>Get</span><span class=p>(</span><span class=s>&quot;https://ntfy.sh/mywebhook/publish?message=Webhook+triggered&amp;priority=high&amp;tags=warning,skull&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Get&#39;</span> <span class=n>-Uri</span> <span class=s2>&quot;ntfy.sh/mywebhook/publish?message=Webhook+triggered&amp;priority=high&amp;tags=warning,skull&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mywebhook/publish?message=Webhook+triggered&amp;priority=high&amp;tags=warning,skull&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mywebhook/publish?message=Webhook+triggered&amp;priority=high&amp;tags=warning,skull&#39;</span><span class=p>);</span>
</code></pre></div> </div> </div> </div> <h2 id=publish-as-json>Publish as JSON<a class=headerlink href=#publish-as-json title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82c.46 0 .84.36.84.82 0 .46-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83 0-.46.38-.82.84-.82.46 0 .83.36.83.82 0 .46-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74c.01 0 .01 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03Z"/></svg></span></p> <p>For some integrations with other tools (e.g. <a href=https://jellyfin.org/ >Jellyfin</a>, <a href=https://overseerr.dev/ >overseerr</a>), adding custom headers to HTTP requests may be tricky or impossible, so ntfy also allows publishing the entire message as JSON in the request body.</p> <p>To publish as JSON, simple PUT/POST the JSON object directly to the ntfy root URL. The message format is described below the example.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>To publish as JSON, you must <strong>PUT/POST to the ntfy root URL</strong>, not to the topic URL. Be sure to check that you're POST-ing to <code>https://ntfy.sh/</code> (correct), and not to <code>https://ntfy.sh/mytopic</code> (incorrect). </p> </div> <p>Here's an example using most supported parameters. Check the table below for a complete list. The <code>topic</code> parameter is the only required one:</p> <div class="tabbed-set tabbed-alternate" data-tabs=10:7><input checked=checked id=__tabbed_10_1 name=__tabbed_10 type=radio><input id=__tabbed_10_2 name=__tabbed_10 type=radio><input id=__tabbed_10_3 name=__tabbed_10 type=radio><input id=__tabbed_10_4 name=__tabbed_10 type=radio><input id=__tabbed_10_5 name=__tabbed_10 type=radio><input id=__tabbed_10_6 name=__tabbed_10 type=radio><input id=__tabbed_10_7 name=__tabbed_10 type=radio><div class=tabbed-labels><label for=__tabbed_10_1>Command line (curl)</label><label for=__tabbed_10_2>HTTP</label><label for=__tabbed_10_3>JavaScript</label><label for=__tabbed_10_4>Go</label><label for=__tabbed_10_5>PowerShell</label><label for=__tabbed_10_6>Python</label><label for=__tabbed_10_7>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl ntfy.sh \
  -d &#39;{
    &quot;topic&quot;: &quot;mytopic&quot;,
    &quot;message&quot;: &quot;Disk space is low at 5.1 GB&quot;,
    &quot;title&quot;: &quot;Low disk space alert&quot;,
    &quot;tags&quot;: [&quot;warning&quot;,&quot;cd&quot;],
    &quot;priority&quot;: 4,
    &quot;attach&quot;: &quot;https://filesrv.lan/space.jpg&quot;,
    &quot;filename&quot;: &quot;diskspace.jpg&quot;,
    &quot;click&quot;: &quot;https://homecamera.lan/xasds1h2xsSsa/&quot;,
    &quot;actions&quot;: [{ &quot;action&quot;: &quot;view&quot;, &quot;label&quot;: &quot;Admin panel&quot;, &quot;url&quot;: &quot;https://filesrv.lan/admin&quot; }]
  }&#39;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

{
    &quot;topic&quot;: &quot;mytopic&quot;,
    &quot;message&quot;: &quot;Disk space is low at 5.1 GB&quot;,
    &quot;title&quot;: &quot;Low disk space alert&quot;,
    &quot;tags&quot;: [&quot;warning&quot;,&quot;cd&quot;],
    &quot;priority&quot;: 4,
    &quot;attach&quot;: &quot;https://filesrv.lan/space.jpg&quot;,
    &quot;filename&quot;: &quot;diskspace.jpg&quot;,
    &quot;click&quot;: &quot;https://homecamera.lan/xasds1h2xsSsa/&quot;,
    &quot;actions&quot;: [{ &quot;action&quot;: &quot;view&quot;, &quot;label&quot;: &quot;Admin panel&quot;, &quot;url&quot;: &quot;https://filesrv.lan/admin&quot; }]
}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=nb>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>({</span>
<span class=w>        </span><span class=s2>&quot;topic&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;mytopic&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=s2>&quot;message&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Disk space is low at 5.1 GB&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=s2>&quot;title&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Low disk space alert&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=s2>&quot;tags&quot;</span><span class=o>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span><span class=s2>&quot;cd&quot;</span><span class=p>],</span>
<span class=w>        </span><span class=s2>&quot;priority&quot;</span><span class=o>:</span><span class=w> </span><span class=mf>4</span><span class=p>,</span>
<span class=w>        </span><span class=s2>&quot;attach&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;https://filesrv.lan/space.jpg&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=s2>&quot;filename&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;diskspace.jpg&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=s2>&quot;click&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;https://homecamera.lan/xasds1h2xsSsa/&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=s2>&quot;actions&quot;</span><span class=o>:</span><span class=w> </span><span class=p>[{</span><span class=w> </span><span class=s2>&quot;action&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;view&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;label&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Admin panel&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;url&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;https://filesrv.lan/admin&quot;</span><span class=w> </span><span class=p>}]</span>
<span class=w>    </span><span class=p>})</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// You should probably use json.Marshal() instead and make a proper struct,</span>
<span class=c1>// or even just use req.Header.Set() like in the other examples, but for the </span>
<span class=c1>// sake of the example, this is easier.</span>

<span class=nx>body</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`{</span>
<span class=s>    &quot;topic&quot;: &quot;mytopic&quot;,</span>
<span class=s>    &quot;message&quot;: &quot;Disk space is low at 5.1 GB&quot;,</span>
<span class=s>    &quot;title&quot;: &quot;Low disk space alert&quot;,</span>
<span class=s>    &quot;tags&quot;: [&quot;warning&quot;,&quot;cd&quot;],</span>
<span class=s>    &quot;priority&quot;: 4,</span>
<span class=s>    &quot;attach&quot;: &quot;https://filesrv.lan/space.jpg&quot;,</span>
<span class=s>    &quot;filename&quot;: &quot;diskspace.jpg&quot;,</span>
<span class=s>    &quot;click&quot;: &quot;https://homecamera.lan/xasds1h2xsSsa/&quot;,</span>
<span class=s>    &quot;actions&quot;: [{ &quot;action&quot;: &quot;view&quot;, &quot;label&quot;: &quot;Admin panel&quot;, &quot;url&quot;: &quot;https://filesrv.lan/admin&quot; }]</span>
<span class=s>}`</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=nx>body</span><span class=p>))</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh&quot;</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>topic</span>    <span class=p>=</span> <span class=s2>&quot;mytopic&quot;</span>
    <span class=n>title</span>    <span class=p>=</span> <span class=s2>&quot;Low disk space alert&quot;</span>
    <span class=n>message</span>  <span class=p>=</span> <span class=s2>&quot;Disk space is low at 5.1 GB&quot;</span>
    <span class=n>priority</span> <span class=p>=</span> <span class=n>4</span>
    <span class=n>attach</span>   <span class=p>=</span> <span class=s2>&quot;https://filesrv.lan/space.jpg&quot;</span>
    <span class=n>filename</span> <span class=p>=</span> <span class=s2>&quot;diskspace.jpg&quot;</span>
    <span class=n>tags</span>     <span class=p>=</span> <span class=p>@(</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span> <span class=s2>&quot;cd&quot;</span><span class=p>)</span>
    <span class=n>click</span>    <span class=p>=</span> <span class=s2>&quot;https://homecamera.lan/xasds1h2xsSsa/&quot;</span>
    <span class=n>actions</span>  <span class=p>=</span> <span class=p>@(</span>
        <span class=p>@{</span> 
            <span class=n>action</span> <span class=p>=</span> <span class=s2>&quot;view&quot;</span>
            <span class=n>label</span>  <span class=p>=</span> <span class=s2>&quot;Admin panel&quot;</span>
            <span class=n>url</span>    <span class=p>=</span> <span class=s2>&quot;https://filesrv.lan/admin&quot;</span>
        <span class=p>}</span>
    <span class=p>)</span>
<span class=p>}</span> <span class=p>|</span> <span class=nb>ConvertTo-Json</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-ContentType</span> <span class=s2>&quot;application/json&quot;</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span>
        <span class=s2>&quot;topic&quot;</span><span class=p>:</span> <span class=s2>&quot;mytopic&quot;</span><span class=p>,</span>
        <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Disk space is low at 5.1 GB&quot;</span><span class=p>,</span>
        <span class=s2>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;Low disk space alert&quot;</span><span class=p>,</span>
        <span class=s2>&quot;tags&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span><span class=s2>&quot;cd&quot;</span><span class=p>],</span>
        <span class=s2>&quot;priority&quot;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span>
        <span class=s2>&quot;attach&quot;</span><span class=p>:</span> <span class=s2>&quot;https://filesrv.lan/space.jpg&quot;</span><span class=p>,</span>
        <span class=s2>&quot;filename&quot;</span><span class=p>:</span> <span class=s2>&quot;diskspace.jpg&quot;</span><span class=p>,</span>
        <span class=s2>&quot;click&quot;</span><span class=p>:</span> <span class=s2>&quot;https://homecamera.lan/xasds1h2xsSsa/&quot;</span><span class=p>,</span>
        <span class=s2>&quot;actions&quot;</span><span class=p>:</span> <span class=p>[{</span> <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;view&quot;</span><span class=p>,</span> <span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Admin panel&quot;</span><span class=p>,</span> <span class=s2>&quot;url&quot;</span><span class=p>:</span> <span class=s2>&quot;https://filesrv.lan/admin&quot;</span> <span class=p>}]</span>
    <span class=p>})</span>
<span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;Content-Type: application/json&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=nb>json_encode</span><span class=p>([</span>
            <span class=s2>&quot;topic&quot;</span><span class=o>:</span> <span class=s2>&quot;mytopic&quot;</span><span class=p>,</span>
            <span class=s2>&quot;message&quot;</span><span class=o>:</span> <span class=s2>&quot;Disk space is low at 5.1 GB&quot;</span><span class=p>,</span>
            <span class=s2>&quot;title&quot;</span><span class=o>:</span> <span class=s2>&quot;Low disk space alert&quot;</span><span class=p>,</span>
            <span class=s2>&quot;tags&quot;</span><span class=o>:</span> <span class=p>[</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span><span class=s2>&quot;cd&quot;</span><span class=p>],</span>
            <span class=s2>&quot;priority&quot;</span><span class=o>:</span> <span class=mi>4</span><span class=p>,</span>
            <span class=s2>&quot;attach&quot;</span><span class=o>:</span> <span class=s2>&quot;https://filesrv.lan/space.jpg&quot;</span><span class=p>,</span>
            <span class=s2>&quot;filename&quot;</span><span class=o>:</span> <span class=s2>&quot;diskspace.jpg&quot;</span><span class=p>,</span>
            <span class=s2>&quot;click&quot;</span><span class=o>:</span> <span class=s2>&quot;https://homecamera.lan/xasds1h2xsSsa/&quot;</span><span class=p>,</span>
            <span class=s2>&quot;actions&quot;</span><span class=o>:</span> <span class=p>[[</span><span class=s2>&quot;action&quot;</span><span class=o>:</span> <span class=s2>&quot;view&quot;</span><span class=p>,</span> <span class=s2>&quot;label&quot;</span><span class=o>:</span> <span class=s2>&quot;Admin panel&quot;</span><span class=p>,</span> <span class=s2>&quot;url&quot;</span><span class=o>:</span> <span class=s2>&quot;https://filesrv.lan/admin&quot;</span> <span class=p>]]</span>
        <span class=p>])</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>The JSON message format closely mirrors the format of the message you can consume when you <a href=../subscribe/api/ >subscribe via the API</a> (see <a href=../subscribe/api/#json-message-format>JSON message format</a> for details), but is not exactly identical. Here's an overview of all the supported fields:</p> <table> <thead> <tr> <th>Field</th> <th>Required</th> <th>Type</th> <th>Example</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>topic</code></td> <td>✔️</td> <td><em>string</em></td> <td><code>topic1</code></td> <td>Target topic name</td> </tr> <tr> <td><code>message</code></td> <td>-</td> <td><em>string</em></td> <td><code>Some message</code></td> <td>Message body; set to <code>triggered</code> if empty or not passed</td> </tr> <tr> <td><code>title</code></td> <td>-</td> <td><em>string</em></td> <td><code>Some title</code></td> <td>Message <a href=#message-title>title</a></td> </tr> <tr> <td><code>tags</code></td> <td>-</td> <td><em>string array</em></td> <td><code>["tag1","tag2"]</code></td> <td>List of <a href=#tags-emojis>tags</a> that may or not map to emojis</td> </tr> <tr> <td><code>priority</code></td> <td>-</td> <td><em>int (one of: 1, 2, 3, 4, or 5)</em></td> <td><code>4</code></td> <td>Message <a href=#message-priority>priority</a> with 1=min, 3=default and 5=max</td> </tr> <tr> <td><code>actions</code></td> <td>-</td> <td><em>JSON array</em></td> <td><em>(see <a href=#action-buttons>action buttons</a>)</em></td> <td>Custom <a href=#action-buttons>user action buttons</a> for notifications</td> </tr> <tr> <td><code>click</code></td> <td>-</td> <td><em>URL</em></td> <td><code>https://example.com</code></td> <td>Website opened when notification is <a href=#click-action>clicked</a></td> </tr> <tr> <td><code>attach</code></td> <td>-</td> <td><em>URL</em></td> <td><code>https://example.com/file.jpg</code></td> <td>URL of an attachment, see <a href=#attach-file-from-url>attach via URL</a></td> </tr> <tr> <td><code>filename</code></td> <td>-</td> <td><em>string</em></td> <td><code>file.jpg</code></td> <td>File name of the attachment</td> </tr> <tr> <td><code>delay</code></td> <td>-</td> <td><em>string</em></td> <td><code>30min</code>, <code>9am</code></td> <td>Timestamp or duration for delayed delivery</td> </tr> <tr> <td><code>email</code></td> <td>-</td> <td><em>e-mail address</em></td> <td><code>phil@example.com</code></td> <td>E-mail address for e-mail notifications</td> </tr> </tbody> </table> <h2 id=action-buttons>Action buttons<a class=headerlink href=#action-buttons title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82c.46 0 .84.36.84.82 0 .46-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83 0-.46.38-.82.84-.82.46 0 .83.36.83.82 0 .46-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74c.01 0 .01 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03Z"/></svg></span></p> <p>You can add action buttons to notifications to allow yourself to react to a notification directly. This is incredibly useful and has countless applications. </p> <p>You can control your home appliances (open/close garage door, change temperature on thermostat, ...), react to common monitoring alerts (clear logs when disk is full, ...), and many other things. The sky is the limit.</p> <p>As of today, the following actions are supported:</p> <ul> <li><a href=#open-websiteapp><code>view</code></a>: Opens a website or app when the action button is tapped</li> <li><a href=#send-android-broadcast><code>broadcast</code></a>: Sends an <a href=https://developer.android.com/guide/components/broadcasts>Android broadcast</a> intent when the action button is tapped (only supported on Android)</li> <li><a href=#send-http-request><code>http</code></a>: Sends HTTP POST/GET/PUT request when the action button is tapped</li> </ul> <p>Here's an example of what that a notification with actions can look like:</p> <figure> <p><img alt="notification with actions" src=../static/img/android-screenshot-notification-actions.png width=500> </p> <figcaption>Notification with two user actions</figcaption> </figure> <h3 id=defining-actions>Defining actions<a class=headerlink href=#defining-actions title="Permanent link">&para;</a></h3> <p>You can define <strong>up to three user actions</strong> in your notifications, using either of the following methods:</p> <ul> <li>In the <a href=#using-a-header><code>X-Actions</code> header</a>, using a simple comma-separated format</li> <li>As a <a href=#using-a-json-array>JSON array</a> in the <code>actions</code> key, when <a href=#publish-as-json>publishing as JSON</a> </li> </ul> <h4 id=using-a-header>Using a header<a class=headerlink href=#using-a-header title="Permanent link">&para;</a></h4> <p>To define actions using the <code>X-Actions</code> header (or any of its aliases: <code>Actions</code>, <code>Action</code>), use the following format:</p> <div class="tabbed-set tabbed-alternate" data-tabs=11:2><input checked=checked id=__tabbed_11_1 name=__tabbed_11 type=radio><input id=__tabbed_11_2 name=__tabbed_11 type=radio><div class=tabbed-labels><label for=__tabbed_11_1>Header format (long)</label><label for=__tabbed_11_2>Header format (short)</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>action=&lt;action1&gt;, label=&lt;label1&gt;, paramN=... [; action=&lt;action2&gt;, label=&lt;label2&gt;, ...]
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>&lt;action1&gt;, &lt;label1&gt;, paramN=... [; &lt;action2&gt;, &lt;label2&gt;, ...]
</code></pre></div> </div> </div> </div> <p>Multiple actions are separated by a semicolon (<code>;</code>), and key/value pairs are separated by commas (<code>,</code>). Values may be quoted with double quotes (<code>"</code>) or single quotes (<code>'</code>) if the value itself contains commas or semicolons. </p> <p>The <code>action=</code> and <code>label=</code> prefix are optional in all actions, and the <code>url=</code> prefix is optional in the <code>view</code> and <code>http</code> action. The only limitation of this format is that depending on your language/library, UTF-8 characters may not work. If they don't, use the <a href=#using-a-json-array>JSON array format</a> instead.</p> <p>As an example, here's how you can create the above notification using this format. Refer to the <a href=#open-websiteapp><code>view</code> action</a> and <a href=#send-http-request><code>http</code> action</a> section for details on the specific actions:</p> <div class="tabbed-set tabbed-alternate" data-tabs=12:8><input checked=checked id=__tabbed_12_1 name=__tabbed_12 type=radio><input id=__tabbed_12_2 name=__tabbed_12 type=radio><input id=__tabbed_12_3 name=__tabbed_12 type=radio><input id=__tabbed_12_4 name=__tabbed_12 type=radio><input id=__tabbed_12_5 name=__tabbed_12 type=radio><input id=__tabbed_12_6 name=__tabbed_12 type=radio><input id=__tabbed_12_7 name=__tabbed_12 type=radio><input id=__tabbed_12_8 name=__tabbed_12 type=radio><div class=tabbed-labels><label for=__tabbed_12_1>Command line (curl)</label><label for=__tabbed_12_2>ntfy CLI</label><label for=__tabbed_12_3>HTTP</label><label for=__tabbed_12_4>JavaScript</label><label for=__tabbed_12_5>Go</label><label for=__tabbed_12_6>PowerShell</label><label for=__tabbed_12_7>Python</label><label for=__tabbed_12_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>body=&#39;{&quot;temperature&quot;: 65}&#39;
curl \
    -d &quot;You left the house. Turn down the A/C?&quot; \
    -H &quot;Actions: view, Open portal, https://home.nest.com/, clear=true; \
                 http, Turn down, https://api.nest.com/, body=&#39;$body&#39;&quot; \
    ntfy.sh/myhome
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>body=&#39;{&quot;temperature&quot;: 65}&#39;
ntfy publish \
    --actions=&quot;view, Open portal, https://home.nest.com/, clear=true; \
               http, Turn down, https://api.nest.com/, body=&#39;$body&#39;&quot; \
    myhome \
    &quot;You left the house. Turn down the A/C?&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/myhome</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Actions</span><span class=o>:</span> <span class=l>view, Open portal, https://home.nest.com/, clear=true; http, Turn down, https://api.nest.com/, body=&#39;{&quot;temperature&quot;: 65}&#39;</span>

You left the house. Turn down the A/C?
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/myhome&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;You left the house. Turn down the A/C?&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span>
<span class=w>        </span><span class=s1>&#39;Actions&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;view, Open portal, https://home.nest.com/, clear=true; http, Turn down, https://api.nest.com/, body=\&#39;{&quot;temperature&quot;: 65}\&#39;&#39;</span><span class=w> </span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/myhome&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;You left the house. Turn down the A/C?&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Actions&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;view, Open portal, https://home.nest.com/, clear=true; http, Turn down, https://api.nest.com/, body=&#39;{\&quot;temperature\&quot;: 65}&#39;&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/myhome&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Actions</span><span class=p>=</span><span class=s2>&quot;view, Open portal, https://home.nest.com/, clear=true; http, Turn down, https://api.nest.com/, body=&#39;{\&quot;</span><span class=n>temperature</span><span class=p>\</span><span class=s2>&quot;: 65}&#39;&quot;</span> <span class=p>}</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=s2>&quot;You left the house. Turn down the A/C?&quot;</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/myhome&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;You left the house. Turn down the A/C?&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Actions&quot;</span><span class=p>:</span> <span class=s2>&quot;view, Open portal, https://home.nest.com/, clear=true; http, Turn down, https://api.nest.com/, body=&#39;{</span><span class=se>\&quot;</span><span class=s2>temperature</span><span class=se>\&quot;</span><span class=s2>: 65}&#39;&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/reddit_alerts&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Actions: view, Open portal, https://home.nest.com/, clear=true; http, Turn down, https://api.nest.com/, body=&#39;{</span><span class=se>\&quot;</span><span class=s2>temperature</span><span class=se>\&quot;</span><span class=s2>: 65}&#39;&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;You left the house. Turn down the A/C?&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <h4 id=using-a-json-array>Using a JSON array<a class=headerlink href=#using-a-json-array title="Permanent link">&para;</a></h4> <p>Alternatively, the same actions can be defined as <strong>JSON array</strong>, if the notification is defined as part of the JSON body (see <a href=#publish-as-json>publish as JSON</a>):</p> <div class="tabbed-set tabbed-alternate" data-tabs=13:8><input checked=checked id=__tabbed_13_1 name=__tabbed_13 type=radio><input id=__tabbed_13_2 name=__tabbed_13 type=radio><input id=__tabbed_13_3 name=__tabbed_13 type=radio><input id=__tabbed_13_4 name=__tabbed_13 type=radio><input id=__tabbed_13_5 name=__tabbed_13 type=radio><input id=__tabbed_13_6 name=__tabbed_13 type=radio><input id=__tabbed_13_7 name=__tabbed_13 type=radio><input id=__tabbed_13_8 name=__tabbed_13 type=radio><div class=tabbed-labels><label for=__tabbed_13_1>Command line (curl)</label><label for=__tabbed_13_2>ntfy CLI</label><label for=__tabbed_13_3>HTTP</label><label for=__tabbed_13_4>JavaScript</label><label for=__tabbed_13_5>Go</label><label for=__tabbed_13_6>PowerShell</label><label for=__tabbed_13_7>Python</label><label for=__tabbed_13_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl ntfy.sh \
  -d &#39;{
    &quot;topic&quot;: &quot;myhome&quot;,
    &quot;message&quot;: &quot;You left the house. Turn down the A/C?&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;view&quot;,
        &quot;label&quot;: &quot;Open portal&quot;,
        &quot;url&quot;: &quot;https://home.nest.com/&quot;,
        &quot;clear&quot;: true
      },
      {
        &quot;action&quot;: &quot;http&quot;,
        &quot;label&quot;: &quot;Turn down&quot;,
        &quot;url&quot;: &quot;https://api.nest.com/&quot;,
        &quot;body&quot;: &quot;{\&quot;temperature\&quot;: 65}&quot;
      }
    ]
  }&#39;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions &#39;[
        {
            &quot;action&quot;: &quot;view&quot;,
            &quot;label&quot;: &quot;Open portal&quot;,
            &quot;url&quot;: &quot;https://home.nest.com/&quot;,
            &quot;clear&quot;: true
        },
        {
            &quot;action&quot;: &quot;http&quot;,
            &quot;label&quot;: &quot;Turn down&quot;,
            &quot;url&quot;: &quot;https://api.nest.com/&quot;,
            &quot;body&quot;: &quot;{\&quot;temperature\&quot;: 65}&quot;
        }
    ]&#39; \
    myhome \
    &quot;You left the house. Turn down the A/C?&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

{
    &quot;topic&quot;: &quot;myhome&quot;,
    &quot;message&quot;: &quot;You left the house. Turn down the A/C?&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;view&quot;,
        &quot;label&quot;: &quot;Open portal&quot;,
        &quot;url&quot;: &quot;https://home.nest.com/&quot;,
        &quot;clear&quot;: true
      },
      {
        &quot;action&quot;: &quot;http&quot;,
        &quot;label&quot;: &quot;Turn down&quot;,
        &quot;url&quot;: &quot;https://api.nest.com/&quot;,
        &quot;body&quot;: &quot;{\&quot;temperature\&quot;: 65}&quot;
      }
    ]
}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=nb>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>({</span>
<span class=w>        </span><span class=nx>topic</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>message</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;You left the house. Turn down the A/C?&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>actions</span><span class=o>:</span><span class=w> </span><span class=p>[</span>
<span class=w>            </span><span class=p>{</span>
<span class=w>                </span><span class=nx>action</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;view&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>label</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Open portal&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;https://home.nest.com/&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>clear</span><span class=o>:</span><span class=w> </span><span class=kc>true</span>
<span class=w>            </span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span>
<span class=w>                </span><span class=nx>action</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;http&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>label</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Turn down&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;https://api.nest.com/&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;{\&quot;temperature\&quot;: 65}&quot;</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>        </span><span class=p>]</span>
<span class=w>    </span><span class=p>})</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// You should probably use json.Marshal() instead and make a proper struct,</span>
<span class=c1>// but for the sake of the example, this is easier.</span>

<span class=nx>body</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`{</span>
<span class=s>    &quot;topic&quot;: &quot;myhome&quot;,</span>
<span class=s>    &quot;message&quot;: &quot;You left the house. Turn down the A/C?&quot;,</span>
<span class=s>    &quot;actions&quot;: [</span>
<span class=s>      {</span>
<span class=s>        &quot;action&quot;: &quot;view&quot;,</span>
<span class=s>        &quot;label&quot;: &quot;Open portal&quot;,</span>
<span class=s>        &quot;url&quot;: &quot;https://home.nest.com/&quot;,</span>
<span class=s>        &quot;clear&quot;: true</span>
<span class=s>      },</span>
<span class=s>      {</span>
<span class=s>        &quot;action&quot;: &quot;http&quot;,</span>
<span class=s>        &quot;label&quot;: &quot;Turn down&quot;,</span>
<span class=s>        &quot;url&quot;: &quot;https://api.nest.com/&quot;,</span>
<span class=s>        &quot;body&quot;: &quot;{\&quot;temperature\&quot;: 65}&quot;</span>
<span class=s>      }</span>
<span class=s>    ]</span>
<span class=s>}`</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=nx>body</span><span class=p>))</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh&quot;</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>topic</span>   <span class=p>=</span> <span class=s2>&quot;myhome&quot;</span>
    <span class=n>message</span> <span class=p>=</span> <span class=s2>&quot;You left the house. Turn down the A/C?&quot;</span>
    <span class=n>actions</span> <span class=p>=</span> <span class=p>@(</span>
        <span class=p>@{</span>
            <span class=n>action</span> <span class=p>=</span> <span class=s2>&quot;view&quot;</span>
            <span class=n>label</span>  <span class=p>=</span> <span class=s2>&quot;Open portal&quot;</span>
            <span class=n>url</span>    <span class=p>=</span> <span class=s2>&quot;https://home.nest.com/&quot;</span>
            <span class=nb>clear </span> <span class=p>=</span> <span class=nv>$true</span>
        <span class=p>},</span>
        <span class=p>@{</span>
            <span class=n>action</span> <span class=p>=</span> <span class=s2>&quot;http&quot;</span>
            <span class=n>label</span>  <span class=p>=</span> <span class=s2>&quot;Turn down&quot;</span>
            <span class=n>url</span>    <span class=p>=</span> <span class=s2>&quot;https://api.nest.com/&quot;</span>
            <span class=n>body</span>   <span class=p>=</span> <span class=s1>&#39;{&quot;temperature&quot;: 65}&#39;</span>
        <span class=p>}</span>
    <span class=p>)</span>
<span class=p>}</span> <span class=p>|</span> <span class=nb>ConvertTo-Json</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-ContentType</span> <span class=s2>&quot;application/json&quot;</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span>
        <span class=s2>&quot;topic&quot;</span><span class=p>:</span> <span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
        <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;You left the house. Turn down the A/C?&quot;</span><span class=p>,</span>
        <span class=s2>&quot;actions&quot;</span><span class=p>:</span> <span class=p>[</span>
            <span class=p>{</span>
                <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;view&quot;</span><span class=p>,</span>
                <span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Open portal&quot;</span><span class=p>,</span>
                <span class=s2>&quot;url&quot;</span><span class=p>:</span> <span class=s2>&quot;https://home.nest.com/&quot;</span><span class=p>,</span>
                <span class=s2>&quot;clear&quot;</span><span class=p>:</span> <span class=n>true</span>
            <span class=p>},</span>
            <span class=p>{</span>
                <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;http&quot;</span><span class=p>,</span>
                <span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Turn down&quot;</span><span class=p>,</span>
                <span class=s2>&quot;url&quot;</span><span class=p>:</span> <span class=s2>&quot;https://api.nest.com/&quot;</span><span class=p>,</span>
                <span class=s2>&quot;body&quot;</span><span class=p>:</span> <span class=s2>&quot;{</span><span class=se>\&quot;</span><span class=s2>temperature</span><span class=se>\&quot;</span><span class=s2>: 65}&quot;</span>
            <span class=p>}</span>
        <span class=p>]</span>
    <span class=p>})</span>
<span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;Content-Type: application/json&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=nb>json_encode</span><span class=p>([</span>
            <span class=s2>&quot;topic&quot;</span><span class=o>:</span> <span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
            <span class=s2>&quot;message&quot;</span><span class=o>:</span> <span class=s2>&quot;You left the house. Turn down the A/C?&quot;</span><span class=p>,</span>
            <span class=s2>&quot;actions&quot;</span><span class=o>:</span> <span class=p>[</span>
                <span class=p>[</span>
                    <span class=s2>&quot;action&quot;</span><span class=o>:</span> <span class=s2>&quot;view&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;label&quot;</span><span class=o>:</span> <span class=s2>&quot;Open portal&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;url&quot;</span><span class=o>:</span> <span class=s2>&quot;https://home.nest.com/&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;clear&quot;</span><span class=o>:</span> <span class=k>true</span>
                <span class=p>],</span>
                <span class=p>[</span>
                    <span class=s2>&quot;action&quot;</span><span class=o>:</span> <span class=s2>&quot;http&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;label&quot;</span><span class=o>:</span> <span class=s2>&quot;Turn down&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;url&quot;</span><span class=o>:</span> <span class=s2>&quot;https://api.nest.com/&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;headers&quot;</span><span class=o>:</span> <span class=p>[</span>
                        <span class=s2>&quot;Authorization&quot;</span><span class=o>:</span> <span class=s2>&quot;Bearer ...&quot;</span>
                    <span class=p>],</span>
                    <span class=s2>&quot;body&quot;</span><span class=o>:</span> <span class=s2>&quot;{</span><span class=se>\&quot;</span><span class=s2>temperature</span><span class=se>\&quot;</span><span class=s2>: 65}&quot;</span>
                <span class=p>]</span>
            <span class=p>]</span>
        <span class=p>])</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>The required/optional fields for each action depend on the type of the action itself. Please refer to <a href=#open-websiteapp><code>view</code> action</a>, <a href=#send-android-broadcast><code>broadcast</code> action</a>, and <a href=#send-http-request><code>http</code> action</a> for details.</p> <h3 id=open-websiteapp>Open website/app<a class=headerlink href=#open-websiteapp title="Permanent link">&para;</a></h3> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82c.46 0 .84.36.84.82 0 .46-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83 0-.46.38-.82.84-.82.46 0 .83.36.83.82 0 .46-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74c.01 0 .01 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03Z"/></svg></span></p> <p>The <code>view</code> action <strong>opens a website or app when the action button is tapped</strong>, e.g. a browser, a Google Maps location, or even a deep link into Twitter or a show ntfy topic. How exactly the action is handled depends on how Android and your desktop browser treat the links. Normally it'll just open a link in the browser. </p> <p>Examples:</p> <ul> <li><code>http://</code> or <code>https://</code> will open your browser (or an app if it registered for a URL)</li> <li><code>mailto:</code> links will open your mail app, e.g. <code>mailto:phil@example.com</code></li> <li><code>geo:</code> links will open Google Maps, e.g. <code>geo:0,0?q=1600+Amphitheatre+Parkway,+Mountain+View,+CA</code></li> <li><code>ntfy://</code> links will open ntfy (see <a href=../subscribe/phone/#ntfy-links>ntfy:// links</a>), e.g. <code>ntfy://ntfy.sh/stats</code></li> <li><code>twitter://</code> links will open Twitter, e.g. <code>twitter://user?screen_name=..</code></li> <li>...</li> </ul> <p>Here's an example using the <a href=#using-a-header><code>X-Actions</code> header</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=14:8><input checked=checked id=__tabbed_14_1 name=__tabbed_14 type=radio><input id=__tabbed_14_2 name=__tabbed_14 type=radio><input id=__tabbed_14_3 name=__tabbed_14 type=radio><input id=__tabbed_14_4 name=__tabbed_14 type=radio><input id=__tabbed_14_5 name=__tabbed_14 type=radio><input id=__tabbed_14_6 name=__tabbed_14 type=radio><input id=__tabbed_14_7 name=__tabbed_14 type=radio><input id=__tabbed_14_8 name=__tabbed_14 type=radio><div class=tabbed-labels><label for=__tabbed_14_1>Command line (curl)</label><label for=__tabbed_14_2>ntfy CLI</label><label for=__tabbed_14_3>HTTP</label><label for=__tabbed_14_4>JavaScript</label><label for=__tabbed_14_5>Go</label><label for=__tabbed_14_6>PowerShell</label><label for=__tabbed_14_7>Python</label><label for=__tabbed_14_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -d &quot;Somebody retweeted your tweet.&quot; \
    -H &quot;Actions: view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392&quot; \
ntfy.sh/myhome
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions=&quot;view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392&quot; \
    myhome \
    &quot;Somebody retweeted your tweet.&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/myhome</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Actions</span><span class=o>:</span> <span class=l>view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392</span>

Somebody retweeted your tweet.
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/myhome&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Somebody retweeted your tweet.&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span>
<span class=w>        </span><span class=s1>&#39;Actions&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392&#39;</span><span class=w> </span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/myhome&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Somebody retweeted your tweet.&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Actions&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/myhome&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Actions</span><span class=p>=</span><span class=s2>&quot;view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span> <span class=p>}</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=s2>&quot;Somebody retweeted your tweet.&quot;</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/myhome&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Somebody retweeted your tweet.&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Actions&quot;</span><span class=p>:</span> <span class=s2>&quot;view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/reddit_alerts&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Actions: view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Somebody retweeted your tweet.&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>And the same example using <a href=#publish-as-json>JSON publishing</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=15:8><input checked=checked id=__tabbed_15_1 name=__tabbed_15 type=radio><input id=__tabbed_15_2 name=__tabbed_15 type=radio><input id=__tabbed_15_3 name=__tabbed_15 type=radio><input id=__tabbed_15_4 name=__tabbed_15 type=radio><input id=__tabbed_15_5 name=__tabbed_15 type=radio><input id=__tabbed_15_6 name=__tabbed_15 type=radio><input id=__tabbed_15_7 name=__tabbed_15 type=radio><input id=__tabbed_15_8 name=__tabbed_15 type=radio><div class=tabbed-labels><label for=__tabbed_15_1>Command line (curl)</label><label for=__tabbed_15_2>ntfy CLI</label><label for=__tabbed_15_3>HTTP</label><label for=__tabbed_15_4>JavaScript</label><label for=__tabbed_15_5>Go</label><label for=__tabbed_15_6>PowerShell</label><label for=__tabbed_15_7>Python</label><label for=__tabbed_15_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl ntfy.sh \
  -d &#39;{
    &quot;topic&quot;: &quot;myhome&quot;,
    &quot;message&quot;: &quot;Somebody retweeted your tweet.&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;view&quot;,
        &quot;label&quot;: &quot;Open Twitter&quot;,
        &quot;url&quot;: &quot;https://twitter.com/binwiederhier/status/1467633927951163392&quot;
      }
    ]
  }&#39;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions &#39;[
        {
            &quot;action&quot;: &quot;view&quot;,
            &quot;label&quot;: &quot;Open Twitter&quot;,
            &quot;url&quot;: &quot;https://twitter.com/binwiederhier/status/1467633927951163392&quot;
        }
    ]&#39; \
    myhome \
    &quot;Somebody retweeted your tweet.&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

{
    &quot;topic&quot;: &quot;myhome&quot;,
    &quot;message&quot;: &quot;Somebody retweeted your tweet.&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;view&quot;,
        &quot;label&quot;: &quot;Open Twitter&quot;,
        &quot;url&quot;: &quot;https://twitter.com/binwiederhier/status/1467633927951163392&quot;
      }
    ]
}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=nb>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>({</span>
<span class=w>        </span><span class=nx>topic</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>message</span><span class=s2>&quot;: &quot;</span><span class=nx>Somebody</span><span class=w> </span><span class=nx>retweeted</span><span class=w> </span><span class=nx>your</span><span class=w> </span><span class=nx>tweet</span><span class=p>.</span><span class=s2>&quot;,</span>
<span class=s2>        actions: [</span>
<span class=s2>            {</span>
<span class=s2>                action: &quot;</span><span class=nx>view</span><span class=s2>&quot;,</span>
<span class=s2>                label: &quot;</span><span class=nx>Open</span><span class=w> </span><span class=nx>Twitter</span><span class=s2>&quot;,</span>
<span class=s2>                url: &quot;</span><span class=nx>https</span><span class=o>:</span><span class=c1>//twitter.com/binwiederhier/status/1467633927951163392&quot;</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>        </span><span class=p>]</span>
<span class=w>    </span><span class=p>})</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// You should probably use json.Marshal() instead and make a proper struct,</span>
<span class=c1>// but for the sake of the example, this is easier.</span>

<span class=nx>body</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`{</span>
<span class=s>    &quot;topic&quot;: &quot;myhome&quot;,</span>
<span class=s>    &quot;message&quot;: &quot;Somebody retweeted your tweet.&quot;,</span>
<span class=s>    &quot;actions&quot;: [</span>
<span class=s>      {</span>
<span class=s>        &quot;action&quot;: &quot;view&quot;,</span>
<span class=s>        &quot;label&quot;: &quot;Open Twitter&quot;,</span>
<span class=s>        &quot;url&quot;: &quot;https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span>
<span class=s>      }</span>
<span class=s>    ]</span>
<span class=s>}`</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=nx>body</span><span class=p>))</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh&quot;</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>topic</span> <span class=p>=</span> <span class=s2>&quot;myhome&quot;</span>
    <span class=n>message</span> <span class=p>=</span> <span class=s2>&quot;Somebody retweeted your tweet.&quot;</span>
    <span class=n>actions</span> <span class=p>=</span> <span class=p>@(</span>
        <span class=p>@{</span>
            <span class=s2>&quot;action&quot;</span><span class=p>=</span><span class=s2>&quot;view&quot;</span>
            <span class=s2>&quot;label&quot;</span><span class=p>=</span><span class=s2>&quot;Open Twitter&quot;</span>
            <span class=s2>&quot;url&quot;</span><span class=p>=</span><span class=s2>&quot;https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span>
        <span class=p>}</span>
    <span class=p>)</span>
<span class=p>}</span> <span class=p>|</span> <span class=nb>ConvertTo-Json</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-ContentType</span> <span class=s2>&quot;application/json&quot;</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span>
        <span class=s2>&quot;topic&quot;</span><span class=p>:</span> <span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
        <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Somebody retweeted your tweet.&quot;</span><span class=p>,</span>
        <span class=s2>&quot;actions&quot;</span><span class=p>:</span> <span class=p>[</span>
            <span class=p>{</span>
                <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;view&quot;</span><span class=p>,</span>
                <span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Open Twitter&quot;</span><span class=p>,</span>
                <span class=s2>&quot;url&quot;</span><span class=p>:</span> <span class=s2>&quot;https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span>
            <span class=p>}</span>
        <span class=p>]</span>
    <span class=p>})</span>
<span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;Content-Type: application/json&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=nb>json_encode</span><span class=p>([</span>
            <span class=s2>&quot;topic&quot;</span><span class=o>:</span> <span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
            <span class=s2>&quot;message&quot;</span><span class=o>:</span> <span class=s2>&quot;Somebody retweeted your tweet.&quot;</span><span class=p>,</span>
            <span class=s2>&quot;actions&quot;</span><span class=o>:</span> <span class=p>[</span>
                <span class=p>[</span>
                    <span class=s2>&quot;action&quot;</span><span class=o>:</span> <span class=s2>&quot;view&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;label&quot;</span><span class=o>:</span> <span class=s2>&quot;Open Twitter&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;url&quot;</span><span class=o>:</span> <span class=s2>&quot;https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span>
                <span class=p>]</span>
            <span class=p>]</span>
        <span class=p>])</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>The <code>view</code> action supports the following fields:</p> <table> <thead> <tr> <th>Field</th> <th>Required</th> <th>Type</th> <th>Default</th> <th>Example</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>action</code></td> <td>✔️</td> <td><em>string</em></td> <td>-</td> <td><code>view</code></td> <td>Action type (<strong>must be <code>view</code></strong>)</td> </tr> <tr> <td><code>label</code></td> <td>✔️</td> <td><em>string</em></td> <td>-</td> <td><code>Turn on light</code></td> <td>Label of the action button in the notification</td> </tr> <tr> <td><code>url</code></td> <td>✔️</td> <td><em>URL</em></td> <td>-</td> <td><code>https://example.com</code></td> <td>URL to open when action is tapped</td> </tr> <tr> <td><code>clear</code></td> <td>-️</td> <td><em>boolean</em></td> <td><code>false</code></td> <td><code>true</code></td> <td>Clear notification after action button is tapped</td> </tr> </tbody> </table> <h3 id=send-android-broadcast>Send Android broadcast<a class=headerlink href=#send-android-broadcast title="Permanent link">&para;</a></h3> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82c.46 0 .84.36.84.82 0 .46-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83 0-.46.38-.82.84-.82.46 0 .83.36.83.82 0 .46-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86Z"/></svg></span></p> <p>The <code>broadcast</code> action <strong>sends an <a href=https://developer.android.com/guide/components/broadcasts>Android broadcast</a> intent when the action button is tapped</strong>. This allows integration into automation apps such as <a href="https://play.google.com/store/apps/details?id=com.arlosoft.macrodroid">MacroDroid</a> or <a href="https://play.google.com/store/apps/details?id=net.dinglisch.android.taskerm">Tasker</a>, which basically means you can do everything your phone is capable of. Examples include taking pictures, launching/killing apps, change device settings, write/read files, etc.</p> <p>By default, the intent action <strong><code>io.heckel.ntfy.USER_ACTION</code></strong> is broadcast, though this can be changed with the <code>intent</code> parameter (see below). To send extras, use the <code>extras</code> parameter. Currently, <strong>only string extras are supported</strong>.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>If you have no idea what this is, check out the <a href=../subscribe/phone/#automation-apps>automation apps</a> section, which shows how to integrate Tasker and MacroDroid <strong>with screenshots</strong>. The action button integration is identical, except that you have to use <strong>the intent action <code>io.heckel.ntfy.USER_ACTION</code></strong> instead.</p> </div> <p>Here's an example using the <a href=#using-a-header><code>X-Actions</code> header</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=16:8><input checked=checked id=__tabbed_16_1 name=__tabbed_16 type=radio><input id=__tabbed_16_2 name=__tabbed_16 type=radio><input id=__tabbed_16_3 name=__tabbed_16 type=radio><input id=__tabbed_16_4 name=__tabbed_16 type=radio><input id=__tabbed_16_5 name=__tabbed_16 type=radio><input id=__tabbed_16_6 name=__tabbed_16 type=radio><input id=__tabbed_16_7 name=__tabbed_16 type=radio><input id=__tabbed_16_8 name=__tabbed_16 type=radio><div class=tabbed-labels><label for=__tabbed_16_1>Command line (curl)</label><label for=__tabbed_16_2>ntfy CLI</label><label for=__tabbed_16_3>HTTP</label><label for=__tabbed_16_4>JavaScript</label><label for=__tabbed_16_5>Go</label><label for=__tabbed_16_6>PowerShell</label><label for=__tabbed_16_7>Python</label><label for=__tabbed_16_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -d &quot;Your wife requested you send a picture of yourself.&quot; \
    -H &quot;Actions: broadcast, Take picture, extras.cmd=pic, extras.camera=front&quot; \
ntfy.sh/wifey
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions=&quot;broadcast, Take picture, extras.cmd=pic, extras.camera=front&quot; \
    wifey \
    &quot;Your wife requested you send a picture of yourself.&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/wifey</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Actions</span><span class=o>:</span> <span class=l>broadcast, Take picture, extras.cmd=pic, extras.camera=front</span>

Your wife requested you send a picture of yourself.
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/wifey&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Your wife requested you send a picture of yourself.&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span>
<span class=w>        </span><span class=s1>&#39;Actions&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;broadcast, Take picture, extras.cmd=pic, extras.camera=front&#39;</span><span class=w> </span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/wifey&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Your wife requested you send a picture of yourself.&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Actions&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;broadcast, Take picture, extras.cmd=pic, extras.camera=front&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/wifey&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Actions</span><span class=p>=</span><span class=s2>&quot;broadcast, Take picture, extras.cmd=pic, extras.camera=front&quot;</span> <span class=p>}</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=s2>&quot;Your wife requested you send a picture of yourself.&quot;</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/wifey&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Your wife requested you send a picture of yourself.&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Actions&quot;</span><span class=p>:</span> <span class=s2>&quot;broadcast, Take picture, extras.cmd=pic, extras.camera=front&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/wifey&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Actions: broadcast, Take picture, extras.cmd=pic, extras.camera=front&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Your wife requested you send a picture of yourself.&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>And the same example using <a href=#publish-as-json>JSON publishing</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=17:8><input checked=checked id=__tabbed_17_1 name=__tabbed_17 type=radio><input id=__tabbed_17_2 name=__tabbed_17 type=radio><input id=__tabbed_17_3 name=__tabbed_17 type=radio><input id=__tabbed_17_4 name=__tabbed_17 type=radio><input id=__tabbed_17_5 name=__tabbed_17 type=radio><input id=__tabbed_17_6 name=__tabbed_17 type=radio><input id=__tabbed_17_7 name=__tabbed_17 type=radio><input id=__tabbed_17_8 name=__tabbed_17 type=radio><div class=tabbed-labels><label for=__tabbed_17_1>Command line (curl)</label><label for=__tabbed_17_2>ntfy CLI</label><label for=__tabbed_17_3>HTTP</label><label for=__tabbed_17_4>JavaScript</label><label for=__tabbed_17_5>Go</label><label for=__tabbed_17_6>PowerShell</label><label for=__tabbed_17_7>Python</label><label for=__tabbed_17_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl ntfy.sh \
  -d &#39;{
    &quot;topic&quot;: &quot;wifey&quot;,
    &quot;message&quot;: &quot;Your wife requested you send a picture of yourself.&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;broadcast&quot;,
        &quot;label&quot;: &quot;Take picture&quot;,
        &quot;extras&quot;: {
            &quot;cmd&quot;: &quot;pic&quot;,
            &quot;camera&quot;: &quot;front&quot;
        }
      }
    ]
  }&#39;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions &#39;[
        {
            &quot;action&quot;: &quot;broadcast&quot;,
            &quot;label&quot;: &quot;Take picture&quot;,
            &quot;extras&quot;: {
                &quot;cmd&quot;: &quot;pic&quot;,
                &quot;camera&quot;: &quot;front&quot;
            }
        }
    ]&#39; \
    wifey \
    &quot;Your wife requested you send a picture of yourself.&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

{
    &quot;topic&quot;: &quot;wifey&quot;,
    &quot;message&quot;: &quot;Your wife requested you send a picture of yourself.&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;broadcast&quot;,
        &quot;label&quot;: &quot;Take picture&quot;,
        &quot;extras&quot;: {
            &quot;cmd&quot;: &quot;pic&quot;,
            &quot;camera&quot;: &quot;front&quot;
        }
      }
    ]
}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=nb>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>({</span>
<span class=w>        </span><span class=nx>topic</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;wifey&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>message</span><span class=s2>&quot;: &quot;</span><span class=nx>Your</span><span class=w> </span><span class=nx>wife</span><span class=w> </span><span class=nx>requested</span><span class=w> </span><span class=nx>you</span><span class=w> </span><span class=nx>send</span><span class=w> </span><span class=nx>a</span><span class=w> </span><span class=nx>picture</span><span class=w> </span><span class=k>of</span><span class=w> </span><span class=nx>yourself</span><span class=p>.</span><span class=s2>&quot;,</span>
<span class=s2>        actions: [</span>
<span class=s2>            {</span>
<span class=s2>                &quot;</span><span class=nx>action</span><span class=s2>&quot;: &quot;</span><span class=nx>broadcast</span><span class=s2>&quot;,</span>
<span class=s2>                &quot;</span><span class=nx>label</span><span class=s2>&quot;: &quot;</span><span class=nx>Take</span><span class=w> </span><span class=nx>picture</span><span class=s2>&quot;,</span>
<span class=s2>                &quot;</span><span class=nx>extras</span><span class=s2>&quot;: {</span>
<span class=s2>                    &quot;</span><span class=nx>cmd</span><span class=s2>&quot;: &quot;</span><span class=nx>pic</span><span class=s2>&quot;,</span>
<span class=s2>                    &quot;</span><span class=nx>camera</span><span class=s2>&quot;: &quot;</span><span class=nx>front</span><span class=err>&quot;</span>
<span class=w>                </span><span class=p>}</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>        </span><span class=p>]</span>
<span class=w>    </span><span class=p>})</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// You should probably use json.Marshal() instead and make a proper struct,</span>
<span class=c1>// but for the sake of the example, this is easier.</span>

<span class=nx>body</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`{</span>
<span class=s>    &quot;topic&quot;: &quot;wifey&quot;,</span>
<span class=s>    &quot;message&quot;: &quot;Your wife requested you send a picture of yourself.&quot;,</span>
<span class=s>    &quot;actions&quot;: [</span>
<span class=s>      {</span>
<span class=s>        &quot;action&quot;: &quot;broadcast&quot;,</span>
<span class=s>        &quot;label&quot;: &quot;Take picture&quot;,</span>
<span class=s>        &quot;extras&quot;: {</span>
<span class=s>            &quot;cmd&quot;: &quot;pic&quot;,</span>
<span class=s>            &quot;camera&quot;: &quot;front&quot;</span>
<span class=s>        }</span>
<span class=s>      }</span>
<span class=s>    ]</span>
<span class=s>}`</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=nx>body</span><span class=p>))</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c># Powershell requires the &#39;Depth&#39; argument to equal 3 here to expand &#39;Extras&#39;,</span>
<span class=c># otherwise it will read System.Collections.Hashtable in the returned JSON</span>

<span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh&quot;</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>topic</span> <span class=p>=</span> <span class=s2>&quot;wifey&quot;</span>
    <span class=n>message</span> <span class=p>=</span> <span class=s2>&quot;Your wife requested you send a picture of yourself.&quot;</span>
    <span class=n>actions</span> <span class=p>=</span> <span class=p>@(</span>
        <span class=p>@{</span>
            <span class=n>action</span> <span class=p>=</span> <span class=s2>&quot;broadcast&quot;</span>
            <span class=n>label</span> <span class=p>=</span> <span class=s2>&quot;Take picture&quot;</span>
            <span class=n>extras</span> <span class=p>=</span> <span class=p>@{</span>
                 <span class=n>cmd</span> <span class=p>=</span><span class=s2>&quot;pic&quot;</span>
                 <span class=n>camera</span> <span class=p>=</span> <span class=s2>&quot;front&quot;</span>
            <span class=p>}</span>
        <span class=p>}</span>
    <span class=p>)</span>
<span class=p>}</span> <span class=p>|</span> <span class=nb>ConvertTo-Json</span> <span class=n>-Depth</span> <span class=n>3</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-ContentType</span> <span class=s2>&quot;application/json&quot;</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span>
        <span class=s2>&quot;topic&quot;</span><span class=p>:</span> <span class=s2>&quot;wifey&quot;</span><span class=p>,</span>
        <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Your wife requested you send a picture of yourself.&quot;</span><span class=p>,</span>
        <span class=s2>&quot;actions&quot;</span><span class=p>:</span> <span class=p>[</span>
            <span class=p>{</span>
                <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;broadcast&quot;</span><span class=p>,</span>
                <span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Take picture&quot;</span><span class=p>,</span>
                <span class=s2>&quot;extras&quot;</span><span class=p>:</span> <span class=p>{</span>
                    <span class=s2>&quot;cmd&quot;</span><span class=p>:</span> <span class=s2>&quot;pic&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;camera&quot;</span><span class=p>:</span> <span class=s2>&quot;front&quot;</span>
                <span class=p>}</span>
            <span class=p>}</span>
        <span class=p>]</span>
    <span class=p>})</span>
<span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;Content-Type: application/json&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=nb>json_encode</span><span class=p>([</span>
            <span class=s2>&quot;topic&quot;</span><span class=o>:</span> <span class=s2>&quot;wifey&quot;</span><span class=p>,</span>
            <span class=s2>&quot;message&quot;</span><span class=o>:</span> <span class=s2>&quot;Your wife requested you send a picture of yourself.&quot;</span><span class=p>,</span>
            <span class=s2>&quot;actions&quot;</span><span class=o>:</span> <span class=p>[</span>
                <span class=p>[</span>
                <span class=s2>&quot;action&quot;</span><span class=o>:</span> <span class=s2>&quot;broadcast&quot;</span><span class=p>,</span>
                <span class=s2>&quot;label&quot;</span><span class=o>:</span> <span class=s2>&quot;Take picture&quot;</span><span class=p>,</span>
                <span class=s2>&quot;extras&quot;</span><span class=o>:</span> <span class=p>[</span>
                    <span class=s2>&quot;cmd&quot;</span><span class=o>:</span> <span class=s2>&quot;pic&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;camera&quot;</span><span class=o>:</span> <span class=s2>&quot;front&quot;</span>
                <span class=p>]</span>
            <span class=p>]</span>
        <span class=p>])</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>The <code>broadcast</code> action supports the following fields:</p> <table> <thead> <tr> <th>Field</th> <th>Required</th> <th>Type</th> <th>Default</th> <th>Example</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>action</code></td> <td>✔️</td> <td><em>string</em></td> <td>-</td> <td><code>broadcast</code></td> <td>Action type (<strong>must be <code>broadcast</code></strong>)</td> </tr> <tr> <td><code>label</code></td> <td>✔️</td> <td><em>string</em></td> <td>-</td> <td><code>Turn on light</code></td> <td>Label of the action button in the notification</td> </tr> <tr> <td><code>intent</code></td> <td>-️</td> <td><em>string</em></td> <td><code>io.heckel.ntfy.USER_ACTION</code></td> <td><code>com.example.AN_INTENT</code></td> <td>Android intent name, <strong>default is <code>io.heckel.ntfy.USER_ACTION</code></strong></td> </tr> <tr> <td><code>extras</code></td> <td>-️</td> <td><em>map of strings</em></td> <td>-</td> <td><em>see above</em></td> <td>Android intent extras. Currently, only string extras are supported. When publishing as JSON, extras are passed as a map. When the simple format is used, use <code>extras.&lt;param&gt;=&lt;value&gt;</code>.</td> </tr> <tr> <td><code>clear</code></td> <td>-️</td> <td><em>boolean</em></td> <td><code>false</code></td> <td><code>true</code></td> <td>Clear notification after action button is tapped</td> </tr> </tbody> </table> <h3 id=send-http-request>Send HTTP request<a class=headerlink href=#send-http-request title="Permanent link">&para;</a></h3> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82c.46 0 .84.36.84.82 0 .46-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83 0-.46.38-.82.84-.82.46 0 .83.36.83.82 0 .46-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74c.01 0 .01 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03Z"/></svg></span></p> <p>The <code>http</code> action <strong>sends a HTTP request when the action button is tapped</strong>. You can use this to trigger REST APIs for whatever systems you have, e.g. opening the garage door, or turning on/off lights.</p> <p>By default, this action sends a <strong>POST request</strong> (not GET!), though this can be changed with the <code>method</code> parameter. The only required parameter is <code>url</code>. Headers can be passed along using the <code>headers</code> parameter. </p> <p>Here's an example using the <a href=#using-a-header><code>X-Actions</code> header</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=18:8><input checked=checked id=__tabbed_18_1 name=__tabbed_18 type=radio><input id=__tabbed_18_2 name=__tabbed_18 type=radio><input id=__tabbed_18_3 name=__tabbed_18 type=radio><input id=__tabbed_18_4 name=__tabbed_18 type=radio><input id=__tabbed_18_5 name=__tabbed_18 type=radio><input id=__tabbed_18_6 name=__tabbed_18 type=radio><input id=__tabbed_18_7 name=__tabbed_18 type=radio><input id=__tabbed_18_8 name=__tabbed_18 type=radio><div class=tabbed-labels><label for=__tabbed_18_1>Command line (curl)</label><label for=__tabbed_18_2>ntfy CLI</label><label for=__tabbed_18_3>HTTP</label><label for=__tabbed_18_4>JavaScript</label><label for=__tabbed_18_5>Go</label><label for=__tabbed_18_6>PowerShell</label><label for=__tabbed_18_7>Python</label><label for=__tabbed_18_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -d &quot;Garage door has been open for 15 minutes. Close it?&quot; \
    -H &quot;Actions: http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={\&quot;action\&quot;: \&quot;close\&quot;}&quot; \
    ntfy.sh/myhome
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions=&quot;http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={\&quot;action\&quot;: \&quot;close\&quot;}&quot; \
    myhome \
    &quot;Garage door has been open for 15 minutes. Close it?&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/myhome</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Actions</span><span class=o>:</span> <span class=l>http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={&quot;action&quot;: &quot;close&quot;}</span>

Garage door has been open for 15 minutes. Close it?
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/myhome&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Garage door has been open for 15 minutes. Close it?&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span>
<span class=w>        </span><span class=s1>&#39;Actions&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={\&quot;action\&quot;: \&quot;close\&quot;}&#39;</span><span class=w> </span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/myhome&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Garage door has been open for 15 minutes. Close it?&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Actions&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={\&quot;action\&quot;: \&quot;close\&quot;}&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/myhome&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Actions</span><span class=p>=</span><span class=s2>&quot;http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={\&quot;</span><span class=n>action</span><span class=p>\</span><span class=s2>&quot;: \&quot;</span><span class=n>close</span><span class=p>\</span><span class=s2>&quot;}&quot;</span> <span class=p>}</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=s2>&quot;Garage door has been open for 15 minutes. Close it?&quot;</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/myhome&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Garage door has been open for 15 minutes. Close it?&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Actions&quot;</span><span class=p>:</span> <span class=s2>&quot;http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={</span><span class=se>\&quot;</span><span class=s2>action</span><span class=se>\&quot;</span><span class=s2>: </span><span class=se>\&quot;</span><span class=s2>close</span><span class=se>\&quot;</span><span class=s2>}&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/reddit_alerts&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Actions: http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={</span><span class=se>\&quot;</span><span class=s2>action</span><span class=se>\&quot;</span><span class=s2>: </span><span class=se>\&quot;</span><span class=s2>close</span><span class=se>\&quot;</span><span class=s2>}&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Garage door has been open for 15 minutes. Close it?&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>And the same example using <a href=#publish-as-json>JSON publishing</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=19:8><input checked=checked id=__tabbed_19_1 name=__tabbed_19 type=radio><input id=__tabbed_19_2 name=__tabbed_19 type=radio><input id=__tabbed_19_3 name=__tabbed_19 type=radio><input id=__tabbed_19_4 name=__tabbed_19 type=radio><input id=__tabbed_19_5 name=__tabbed_19 type=radio><input id=__tabbed_19_6 name=__tabbed_19 type=radio><input id=__tabbed_19_7 name=__tabbed_19 type=radio><input id=__tabbed_19_8 name=__tabbed_19 type=radio><div class=tabbed-labels><label for=__tabbed_19_1>Command line (curl)</label><label for=__tabbed_19_2>ntfy CLI</label><label for=__tabbed_19_3>HTTP</label><label for=__tabbed_19_4>JavaScript</label><label for=__tabbed_19_5>Go</label><label for=__tabbed_19_6>PowerShell</label><label for=__tabbed_19_7>Python</label><label for=__tabbed_19_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl ntfy.sh \
  -d &#39;{
    &quot;topic&quot;: &quot;myhome&quot;,
    &quot;message&quot;: &quot;Garage door has been open for 15 minutes. Close it?&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;http&quot;,
        &quot;label&quot;: &quot;Close door&quot;,
        &quot;url&quot;: &quot;https://api.mygarage.lan/&quot;,
        &quot;method&quot;: &quot;PUT&quot;,
        &quot;headers&quot;: {
            &quot;Authorization&quot;: &quot;Bearer zAzsx1sk..&quot;
        },
        &quot;body&quot;: &quot;{\&quot;action\&quot;: \&quot;close\&quot;}&quot;
      }
    ]
  }&#39;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions &#39;[
        {
          &quot;action&quot;: &quot;http&quot;,
          &quot;label&quot;: &quot;Close door&quot;,
          &quot;url&quot;: &quot;https://api.mygarage.lan/&quot;,
          &quot;method&quot;: &quot;PUT&quot;,
          &quot;headers&quot;: {
            &quot;Authorization&quot;: &quot;Bearer zAzsx1sk..&quot;
          },
          &quot;body&quot;: &quot;{\&quot;action\&quot;: \&quot;close\&quot;}&quot;
        }
    ]&#39; \
    myhome \
    &quot;Garage door has been open for 15 minutes. Close it?&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

{
    &quot;topic&quot;: &quot;myhome&quot;,
    &quot;message&quot;: &quot;Garage door has been open for 15 minutes. Close it?&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;http&quot;,
        &quot;label&quot;: &quot;Close door&quot;,
        &quot;url&quot;: &quot;https://api.mygarage.lan/&quot;,
        &quot;method&quot;: &quot;PUT&quot;,
        &quot;headers&quot;: {
          &quot;Authorization&quot;: &quot;Bearer zAzsx1sk..&quot;
        },
        &quot;body&quot;: &quot;{\&quot;action\&quot;: \&quot;close\&quot;}&quot;
      }
    ]
}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=nb>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>({</span>
<span class=w>        </span><span class=nx>topic</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>message</span><span class=s2>&quot;: &quot;</span><span class=nx>Garage</span><span class=w> </span><span class=nx>door</span><span class=w> </span><span class=nx>has</span><span class=w> </span><span class=nx>been</span><span class=w> </span><span class=nx>open</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=mf>15</span><span class=w> </span><span class=nx>minutes</span><span class=p>.</span><span class=w> </span><span class=nx>Close</span><span class=w> </span><span class=nx>it</span><span class=o>?</span><span class=s2>&quot;,</span>
<span class=s2>        actions: [</span>
<span class=s2>          {</span>
<span class=s2>            &quot;</span><span class=nx>action</span><span class=s2>&quot;: &quot;</span><span class=nx>http</span><span class=s2>&quot;,</span>
<span class=s2>            &quot;</span><span class=nx>label</span><span class=s2>&quot;: &quot;</span><span class=nx>Close</span><span class=w> </span><span class=nx>door</span><span class=s2>&quot;,</span>
<span class=s2>            &quot;</span><span class=nx>url</span><span class=s2>&quot;: &quot;</span><span class=nx>https</span><span class=o>:</span><span class=c1>//api.mygarage.lan/&quot;,</span>
<span class=w>            </span><span class=s2>&quot;method&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;PUT&quot;</span><span class=p>,</span>
<span class=w>            </span><span class=s2>&quot;headers&quot;</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>              </span><span class=s2>&quot;Authorization&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Bearer zAzsx1sk..&quot;</span>
<span class=w>            </span><span class=p>},</span>
<span class=w>            </span><span class=s2>&quot;body&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;{\&quot;action\&quot;: \&quot;close\&quot;}&quot;</span>
<span class=w>          </span><span class=p>}</span>
<span class=w>        </span><span class=p>]</span>
<span class=w>    </span><span class=p>})</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// You should probably use json.Marshal() instead and make a proper struct,</span>
<span class=c1>// but for the sake of the example, this is easier.</span>

<span class=nx>body</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`{</span>
<span class=s>    &quot;topic&quot;: &quot;myhome&quot;,</span>
<span class=s>    &quot;message&quot;: &quot;Garage door has been open for 15 minutes. Close it?&quot;,</span>
<span class=s>    &quot;actions&quot;: [</span>
<span class=s>      {</span>
<span class=s>        &quot;action&quot;: &quot;http&quot;,</span>
<span class=s>        &quot;label&quot;: &quot;Close door&quot;,</span>
<span class=s>        &quot;method&quot;: &quot;PUT&quot;,</span>
<span class=s>        &quot;url&quot;: &quot;https://api.mygarage.lan/&quot;,</span>
<span class=s>        &quot;headers&quot;: {</span>
<span class=s>          &quot;Authorization&quot;: &quot;Bearer zAzsx1sk..&quot;</span>
<span class=s>        },</span>
<span class=s>        &quot;body&quot;: &quot;{\&quot;action\&quot;: \&quot;close\&quot;}&quot;</span>
<span class=s>      }</span>
<span class=s>    ]</span>
<span class=s>}`</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=nx>body</span><span class=p>))</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c># Powershell requires the &#39;Depth&#39; argument to equal 3 here to expand &#39;headers&#39;, </span>
<span class=c># otherwise it will read System.Collections.Hashtable in the returned JSON</span>

<span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh&quot;</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>topic</span>   <span class=p>=</span> <span class=s2>&quot;myhome&quot;</span>
    <span class=n>message</span> <span class=p>=</span> <span class=s2>&quot;Garage door has been open for 15 minutes. Close it?&quot;</span>
    <span class=n>actions</span> <span class=p>=</span> <span class=p>@(</span>
        <span class=p>@{</span>
            <span class=n>action</span>  <span class=p>=</span> <span class=s2>&quot;http&quot;</span>
            <span class=n>label</span>   <span class=p>=</span> <span class=s2>&quot;Close door&quot;</span>
            <span class=n>url</span>     <span class=p>=</span> <span class=s2>&quot;https://api.mygarage.lan/&quot;</span>
            <span class=n>method</span>  <span class=p>=</span> <span class=s2>&quot;PUT&quot;</span>
            <span class=n>headers</span> <span class=p>=</span> <span class=p>@{</span>
                <span class=n>Authorization</span> <span class=p>=</span> <span class=s2>&quot;Bearer zAzsx1sk..&quot;</span>
            <span class=p>}</span>
            <span class=n>body</span>    <span class=p>=</span> <span class=s1>&#39;{&quot;action&quot;: &quot;close&quot;}&#39;</span>
        <span class=p>}</span>
    <span class=p>)</span>
<span class=p>}</span> <span class=p>|</span> <span class=nb>ConvertTo-Json</span> <span class=n>-Depth</span> <span class=n>3</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-ContentType</span> <span class=s2>&quot;application/json&quot;</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span>
        <span class=s2>&quot;topic&quot;</span><span class=p>:</span> <span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
        <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Garage door has been open for 15 minutes. Close it?&quot;</span><span class=p>,</span>
        <span class=s2>&quot;actions&quot;</span><span class=p>:</span> <span class=p>[</span>
            <span class=p>{</span>
              <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;http&quot;</span><span class=p>,</span>
              <span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Close door&quot;</span><span class=p>,</span>
              <span class=s2>&quot;url&quot;</span><span class=p>:</span> <span class=s2>&quot;https://api.mygarage.lan/&quot;</span><span class=p>,</span>
              <span class=s2>&quot;method&quot;</span><span class=p>:</span> <span class=s2>&quot;PUT&quot;</span><span class=p>,</span>
              <span class=s2>&quot;headers&quot;</span><span class=p>:</span> <span class=p>{</span>
                <span class=s2>&quot;Authorization&quot;</span><span class=p>:</span> <span class=s2>&quot;Bearer zAzsx1sk..&quot;</span>
              <span class=p>},</span>
              <span class=s2>&quot;body&quot;</span><span class=p>:</span> <span class=s2>&quot;{</span><span class=se>\&quot;</span><span class=s2>action</span><span class=se>\&quot;</span><span class=s2>: </span><span class=se>\&quot;</span><span class=s2>close</span><span class=se>\&quot;</span><span class=s2>}&quot;</span>
            <span class=p>}</span>
        <span class=p>]</span>
    <span class=p>})</span>
<span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;Content-Type: application/json&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=nb>json_encode</span><span class=p>([</span>
            <span class=s2>&quot;topic&quot;</span><span class=o>:</span> <span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
            <span class=s2>&quot;message&quot;</span><span class=o>:</span> <span class=s2>&quot;Garage door has been open for 15 minutes. Close it?&quot;</span><span class=p>,</span>
            <span class=s2>&quot;actions&quot;</span><span class=o>:</span> <span class=p>[</span>
                <span class=p>[</span>
                    <span class=s2>&quot;action&quot;</span><span class=o>:</span> <span class=s2>&quot;http&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;label&quot;</span><span class=o>:</span> <span class=s2>&quot;Close door&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;url&quot;</span><span class=o>:</span> <span class=s2>&quot;https://api.mygarage.lan/&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;method&quot;</span><span class=o>:</span> <span class=s2>&quot;PUT&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;headers&quot;</span><span class=o>:</span> <span class=p>[</span>
                        <span class=s2>&quot;Authorization&quot;</span><span class=o>:</span> <span class=s2>&quot;Bearer zAzsx1sk..&quot;</span>
                     <span class=p>],</span>
                    <span class=s2>&quot;body&quot;</span><span class=o>:</span> <span class=s2>&quot;{</span><span class=se>\&quot;</span><span class=s2>action</span><span class=se>\&quot;</span><span class=s2>: </span><span class=se>\&quot;</span><span class=s2>close</span><span class=se>\&quot;</span><span class=s2>}&quot;</span>
                <span class=p>]</span>
            <span class=p>]</span>
        <span class=p>])</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>The <code>http</code> action supports the following fields:</p> <table> <thead> <tr> <th>Field</th> <th>Required</th> <th>Type</th> <th>Default</th> <th>Example</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>action</code></td> <td>✔️</td> <td><em>string</em></td> <td>-</td> <td><code>http</code></td> <td>Action type (<strong>must be <code>http</code></strong>)</td> </tr> <tr> <td><code>label</code></td> <td>✔️</td> <td><em>string</em></td> <td>-</td> <td><code>Open garage door</code></td> <td>Label of the action button in the notification</td> </tr> <tr> <td><code>url</code></td> <td>✔️</td> <td><em>string</em></td> <td>-</td> <td><code>https://ntfy.sh/mytopic</code></td> <td>URL to which the HTTP request will be sent</td> </tr> <tr> <td><code>method</code></td> <td>-️</td> <td><em>GET/POST/PUT/...</em></td> <td><code>POST</code> ⚠️</td> <td><code>GET</code></td> <td>HTTP method to use for request, <strong>default is POST</strong> ⚠️</td> </tr> <tr> <td><code>headers</code></td> <td>-️</td> <td><em>map of strings</em></td> <td>-</td> <td><em>see above</em></td> <td>HTTP headers to pass in request. When publishing as JSON, headers are passed as a map. When the simple format is used, use <code>headers.&lt;header1&gt;=&lt;value&gt;</code>.</td> </tr> <tr> <td><code>body</code></td> <td>-️</td> <td><em>string</em></td> <td><em>empty</em></td> <td><code>some body, somebody?</code></td> <td>HTTP body</td> </tr> <tr> <td><code>clear</code></td> <td>-️</td> <td><em>boolean</em></td> <td><code>false</code></td> <td><code>true</code></td> <td>Clear notification after HTTP request succeeds. If the request fails, the notification is not cleared.</td> </tr> </tbody> </table> <h2 id=click-action>Click action<a class=headerlink href=#click-action title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82c.46 0 .84.36.84.82 0 .46-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83 0-.46.38-.82.84-.82.46 0 .83.36.83.82 0 .46-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74c.01 0 .01 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03Z"/></svg></span></p> <p>You can define which URL to open when a notification is clicked. This may be useful if your notification is related to a Zabbix alert or a transaction that you'd like to provide the deep-link for. Tapping the notification will open the web browser (or the app) and open the website.</p> <p>To define a click action for the notification, pass a URL as the value of the <code>X-Click</code> header (or its aliase <code>Click</code>). If you pass a website URL (<code>http://</code> or <code>https://</code>) the web browser will open. If you pass another URI that can be handled by another app, the responsible app may open. </p> <p>Examples:</p> <ul> <li><code>http://</code> or <code>https://</code> will open your browser (or an app if it registered for a URL)</li> <li><code>mailto:</code> links will open your mail app, e.g. <code>mailto:phil@example.com</code></li> <li><code>geo:</code> links will open Google Maps, e.g. <code>geo:0,0?q=1600+Amphitheatre+Parkway,+Mountain+View,+CA</code></li> <li><code>ntfy://</code> links will open ntfy (see <a href=../subscribe/phone/#ntfy-links>ntfy:// links</a>), e.g. <code>ntfy://ntfy.sh/stats</code></li> <li><code>twitter://</code> links will open Twitter, e.g. <code>twitter://user?screen_name=..</code></li> <li>...</li> </ul> <p>Here's an example that will open Reddit when the notification is clicked:</p> <div class="tabbed-set tabbed-alternate" data-tabs=20:8><input checked=checked id=__tabbed_20_1 name=__tabbed_20 type=radio><input id=__tabbed_20_2 name=__tabbed_20 type=radio><input id=__tabbed_20_3 name=__tabbed_20 type=radio><input id=__tabbed_20_4 name=__tabbed_20 type=radio><input id=__tabbed_20_5 name=__tabbed_20 type=radio><input id=__tabbed_20_6 name=__tabbed_20 type=radio><input id=__tabbed_20_7 name=__tabbed_20 type=radio><input id=__tabbed_20_8 name=__tabbed_20 type=radio><div class=tabbed-labels><label for=__tabbed_20_1>Command line (curl)</label><label for=__tabbed_20_2>ntfy CLI</label><label for=__tabbed_20_3>HTTP</label><label for=__tabbed_20_4>JavaScript</label><label for=__tabbed_20_5>Go</label><label for=__tabbed_20_6>PowerShell</label><label for=__tabbed_20_7>Python</label><label for=__tabbed_20_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -d &quot;New messages on Reddit&quot; \
    -H &quot;Click: https://www.reddit.com/message/messages&quot; \
    ntfy.sh/reddit_alerts
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --click=&quot;https://www.reddit.com/message/messages&quot; \
    reddit_alerts &quot;New messages on Reddit&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/reddit_alerts</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Click</span><span class=o>:</span> <span class=l>https://www.reddit.com/message/messages </span>

New messages on Reddit
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/reddit_alerts&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;New messages on Reddit&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;Click&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;https://www.reddit.com/message/messages&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/reddit_alerts&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;New messages on Reddit&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Click&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://www.reddit.com/message/messages&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/reddit_alerts&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Click</span><span class=p>=</span><span class=s2>&quot;https://www.reddit.com/message/messages&quot;</span> <span class=p>}</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=s2>&quot;New messages on Reddit&quot;</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/reddit_alerts&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;New messages on Reddit&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Click&quot;</span><span class=p>:</span> <span class=s2>&quot;https://www.reddit.com/message/messages&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/reddit_alerts&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Click: https://www.reddit.com/message/messages&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;New messages on Reddit&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <h2 id=attachments>Attachments<a class=headerlink href=#attachments title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82c.46 0 .84.36.84.82 0 .46-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83 0-.46.38-.82.84-.82.46 0 .83.36.83.82 0 .46-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74c.01 0 .01 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03Z"/></svg></span></p> <p>You can <strong>send images and other files to your phone</strong> as attachments to a notification. The attachments are then downloaded onto your phone (depending on size and setting automatically), and can be used from the Downloads folder.</p> <p>There are two different ways to send attachments: </p> <ul> <li>sending <a href=#attach-local-file>a local file</a> via PUT, e.g. from <code>~/Flowers/flower.jpg</code> or <code>ringtone.mp3</code></li> <li>or by <a href=#attach-file-from-a-url>passing an external URL</a> as an attachment, e.g. <code>https://f-droid.org/F-Droid.apk</code> </li> </ul> <h3 id=attach-local-file>Attach local file<a class=headerlink href=#attach-local-file title="Permanent link">&para;</a></h3> <p>To <strong>send a file from your computer</strong> as an attachment, you can send it as the PUT request body. If a message is greater than the maximum message size (4,096 bytes) or consists of non UTF-8 characters, the ntfy server will automatically detect the mime type and size, and send the message as an attachment file. To send smaller text-only messages or files as attachments, you must pass a filename by passing the <code>X-Filename</code> header or query parameter (or any of its aliases <code>Filename</code>, <code>File</code> or <code>f</code>). </p> <p>By default, and how ntfy.sh is configured, the <strong>max attachment size is 15 MB</strong> (with 100 MB total per visitor). Attachments <strong>expire after 3 hours</strong>, which typically is plenty of time for the user to download it, or for the Android app to auto-download it. Please also check out the <a href=#limitations>other limits below</a>.</p> <p>Here's an example showing how to upload an image:</p> <div class="tabbed-set tabbed-alternate" data-tabs=21:7><input checked=checked id=__tabbed_21_1 name=__tabbed_21 type=radio><input id=__tabbed_21_2 name=__tabbed_21 type=radio><input id=__tabbed_21_3 name=__tabbed_21 type=radio><input id=__tabbed_21_4 name=__tabbed_21 type=radio><input id=__tabbed_21_5 name=__tabbed_21 type=radio><input id=__tabbed_21_6 name=__tabbed_21 type=radio><input id=__tabbed_21_7 name=__tabbed_21 type=radio><div class=tabbed-labels><label for=__tabbed_21_1>Command line (curl)</label><label for=__tabbed_21_2>ntfy CLI</label><label for=__tabbed_21_3>HTTP</label><label for=__tabbed_21_4>JavaScript</label><label for=__tabbed_21_5>Go</label><label for=__tabbed_21_6>Python</label><label for=__tabbed_21_7>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -T flower.jpg \
    -H &quot;Filename: flower.jpg&quot; \
    ntfy.sh/flowers
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --file=flower.jpg \
    flowers
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>PUT</span> <span class=nn>/flowers</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Filename</span><span class=o>:</span> <span class=l>flower.jpg</span>
<span class=na>Content-Type</span><span class=o>:</span> <span class=l>52312</span>

(binary JPEG data)
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/flowers&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;PUT&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;file&quot;</span><span class=p>).</span><span class=nx>files</span><span class=p>[</span><span class=mf>0</span><span class=p>],</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;Filename&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;flower.jpg&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>file</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Open</span><span class=p>(</span><span class=s>&quot;flower.jpg&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;PUT&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/flowers&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>file</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Filename&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;flower.jpg&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/flowers&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=nb>open</span><span class=p>(</span><span class=s2>&quot;flower.jpg&quot;</span><span class=p>,</span> <span class=s1>&#39;rb&#39;</span><span class=p>),</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Filename&quot;</span><span class=p>:</span> <span class=s2>&quot;flower.jpg&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/flowers&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;PUT&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: application/octet-stream</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span> <span class=c1>// Does not matter</span>
            <span class=s2>&quot;Filename: flower.jpg&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;flower.jpg&#39;</span><span class=p>)</span> <span class=c1>// Dangerous for large files </span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>Here's what that looks like on Android:</p> <figure> <p><img alt="image attachment" src=../static/img/android-screenshot-attachment-image.png width=500> </p> <figcaption>Image attachment sent from a local file</figcaption> </figure> <h3 id=attach-file-from-a-url>Attach file from a URL<a class=headerlink href=#attach-file-from-a-url title="Permanent link">&para;</a></h3> <p>Instead of sending a local file to your phone, you can use <strong>an external URL</strong> to specify where the attachment is hosted. This could be a Dropbox link, a file from social media, or any other publicly available URL. Since the files are externally hosted, the expiration or size limits from above do not apply here.</p> <p>To attach an external file, simple pass the <code>X-Attach</code> header or query parameter (or any of its aliases <code>Attach</code> or <code>a</code>) to specify the attachment URL. It can be any type of file. </p> <p>ntfy will automatically try to derive the file name from the URL (e.g <code>https://example.com/flower.jpg</code> will yield a filename <code>flower.jpg</code>). To override this filename, you may send the <code>X-Filename</code> header or query parameter (or any of its aliases <code>Filename</code>, <code>File</code> or <code>f</code>).</p> <p>Here's an example showing how to attach an APK file:</p> <div class="tabbed-set tabbed-alternate" data-tabs=22:8><input checked=checked id=__tabbed_22_1 name=__tabbed_22 type=radio><input id=__tabbed_22_2 name=__tabbed_22 type=radio><input id=__tabbed_22_3 name=__tabbed_22 type=radio><input id=__tabbed_22_4 name=__tabbed_22 type=radio><input id=__tabbed_22_5 name=__tabbed_22 type=radio><input id=__tabbed_22_6 name=__tabbed_22 type=radio><input id=__tabbed_22_7 name=__tabbed_22 type=radio><input id=__tabbed_22_8 name=__tabbed_22 type=radio><div class=tabbed-labels><label for=__tabbed_22_1>Command line (curl)</label><label for=__tabbed_22_2>ntfy CLI</label><label for=__tabbed_22_3>HTTP</label><label for=__tabbed_22_4>JavaScript</label><label for=__tabbed_22_5>Go</label><label for=__tabbed_22_6>PowerShell</label><label for=__tabbed_22_7>Python</label><label for=__tabbed_22_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -X POST \
    -H &quot;Attach: https://f-droid.org/F-Droid.apk&quot; \
    ntfy.sh/mydownloads
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --attach=&quot;https://f-droid.org/F-Droid.apk&quot; \
    mydownloads
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mydownloads</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Attach</span><span class=o>:</span> <span class=l>https://f-droid.org/F-Droid.apk</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mydownloads&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;Attach&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;https://f-droid.org/F-Droid.apk&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mydownloads&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>file</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Attach&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://f-droid.org/F-Droid.apk&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/mydownloads&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Attach</span><span class=p>=</span><span class=s2>&quot;https://f-droid.org/F-Droid.apk&quot;</span> <span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mydownloads&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Attach&quot;</span><span class=p>:</span> <span class=s2>&quot;https://f-droid.org/F-Droid.apk&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mydownloads&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
    <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;PUT&#39;</span><span class=p>,</span>
    <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
        <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span> <span class=c1>// Does not matter</span>
        <span class=s2>&quot;Attach: https://f-droid.org/F-Droid.apk&quot;</span><span class=p>,</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <figure> <p><img alt="file attachment" src=../static/img/android-screenshot-attachment-file.png width=500> </p> <figcaption>File attachment sent from an external URL</figcaption> </figure> <h2 id=icons>Icons<a class=headerlink href=#icons title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82c.46 0 .84.36.84.82 0 .46-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83 0-.46.38-.82.84-.82.46 0 .83.36.83.82 0 .46-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86Z"/></svg></span></p> <p>You can include an icon that will appear next to the text of the notification. Simply pass the <code>X-Icon</code> header or query parameter (or its alias <code>Icon</code>) to specify the URL that the icon is located at. The client will automatically download the icon (unless it is already cached locally, and less than 24 hours old), and show it in the notification. Icons are cached locally in the client until the notification is deleted. <strong>Only JPEG and PNG images are supported at this time</strong>.</p> <p>Here's an example showing how to include an icon:</p> <div class="tabbed-set tabbed-alternate" data-tabs=23:8><input checked=checked id=__tabbed_23_1 name=__tabbed_23 type=radio><input id=__tabbed_23_2 name=__tabbed_23 type=radio><input id=__tabbed_23_3 name=__tabbed_23 type=radio><input id=__tabbed_23_4 name=__tabbed_23 type=radio><input id=__tabbed_23_5 name=__tabbed_23 type=radio><input id=__tabbed_23_6 name=__tabbed_23 type=radio><input id=__tabbed_23_7 name=__tabbed_23 type=radio><input id=__tabbed_23_8 name=__tabbed_23 type=radio><div class=tabbed-labels><label for=__tabbed_23_1>Command line (curl)</label><label for=__tabbed_23_2>ntfy CLI</label><label for=__tabbed_23_3>HTTP</label><label for=__tabbed_23_4>JavaScript</label><label for=__tabbed_23_5>Go</label><label for=__tabbed_23_6>PowerShell</label><label for=__tabbed_23_7>Python</label><label for=__tabbed_23_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -H &quot;Icon: https://styles.redditmedia.com/t5_32uhe/styles/communityIcon_xnt6chtnr2j21.png&quot; \
    -H &quot;Title: Kodi: Resuming Playback&quot; \
    -H &quot;Tags: arrow_forward&quot; \
    -d &quot;The Wire, S01E01&quot; \
    ntfy.sh/tvshows
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --icon=&quot;https://styles.redditmedia.com/t5_32uhe/styles/communityIcon_xnt6chtnr2j21.png&quot; \
    --title=&quot;Kodi: Resuming Playback&quot; \
    --tags=&quot;arrow_forward&quot; \
    tvshows \
    &quot;The Wire, S01E01&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/tvshows</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Icon</span><span class=o>:</span> <span class=l>https://styles.redditmedia.com/t5_32uhe/styles/communityIcon_xnt6chtnr2j21.png</span>
<span class=na>Tags</span><span class=o>:</span> <span class=l>arrow_forward</span>
<span class=na>Title</span><span class=o>:</span> <span class=l>Kodi: Resuming Playback</span>

The Wire, S01E01
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/tvshows&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span>
<span class=w>        </span><span class=s1>&#39;Icon&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;https://styles.redditmedia.com/t5_32uhe/styles/communityIcon_xnt6chtnr2j21.png&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Title&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Kodi: Resuming Playback&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Tags&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;arrow_forward&#39;</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;The Wire, S01E01&quot;</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/tvshows&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;The Wire, S01E01&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Icon&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://styles.redditmedia.com/t5_32uhe/styles/communityIcon_xnt6chtnr2j21.png&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Tags&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;arrow_forward&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Title&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Kodi: Resuming Playback&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/tvshows&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Title</span><span class=s2>&quot;=&quot;</span><span class=n>Kodi</span><span class=p>:</span> <span class=n>Resuming</span> <span class=n>Playback</span><span class=s2>&quot;</span>
<span class=s2>              Tags=&quot;</span><span class=n>arrow_forward</span><span class=s2>&quot;</span>
<span class=s2>              Icon=&quot;</span><span class=n>https</span><span class=p>://</span><span class=n>styles</span><span class=p>.</span><span class=n>redditmedia</span><span class=p>.</span><span class=n>com</span><span class=p>/</span><span class=n>t5_32uhe</span><span class=p>/</span><span class=n>styles</span><span class=p>/</span><span class=n>communityIcon_xnt6chtnr2j21</span><span class=p>.</span><span class=n>png</span><span class=s2>&quot; }</span>
<span class=s2>$body = &quot;</span><span class=n>The</span> <span class=n>Wire</span><span class=p>,</span> <span class=n>S01E01</span><span class=s2>&quot;</span>
<span class=s2>Invoke-RestMethod -Method &#39;Post&#39; -Uri $uri -Headers $headers -Body $body -UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/tvshows&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;The Wire, S01E01&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span>
        <span class=s2>&quot;Title&quot;</span><span class=p>:</span> <span class=s2>&quot;Kodi: Resuming Playback&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Tags&quot;</span><span class=p>:</span> <span class=s2>&quot;arrow_forward&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Icon&quot;</span><span class=p>:</span> <span class=s2>&quot;https://styles.redditmedia.com/t5_32uhe/styles/communityIcon_xnt6chtnr2j21.png&quot;</span>
    <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/tvshows&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
    <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;PUT&#39;</span><span class=p>,</span>
    <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
        <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span> <span class=c1>// Does not matter</span>
        <span class=s2>&quot;Title: Kodi: Resuming Playback</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
        <span class=s2>&quot;Tags: arrow_forward</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
        <span class=s2>&quot;Icon: https://styles.redditmedia.com/t5_32uhe/styles/communityIcon_xnt6chtnr2j21.png&quot;</span><span class=p>,</span>
    <span class=p>],</span>
    <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;The Wire, S01E01&quot;</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>Here's an example of how it will look on Android:</p> <figure> <p><img alt="file attachment" src=../static/img/android-screenshot-icon.png width=500> </p> <figcaption>Custom icon from an external URL</figcaption> </figure> <h2 id=e-mail-notifications>E-mail notifications<a class=headerlink href=#e-mail-notifications title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82c.46 0 .84.36.84.82 0 .46-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83 0-.46.38-.82.84-.82.46 0 .83.36.83.82 0 .46-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74c.01 0 .01 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03Z"/></svg></span></p> <p>You can forward messages to e-mail by specifying an address in the header. This can be useful for messages that you'd like to persist longer, or to blast-notify yourself on all possible channels. </p> <p>Usage is easy: Simply pass the <code>X-Email</code> header (or any of its aliases: <code>X-E-mail</code>, <code>Email</code>, <code>E-mail</code>, <code>Mail</code>, or <code>e</code>). Only one e-mail address is supported.</p> <p>Since ntfy does not provide auth (yet), the rate limiting is pretty strict (see <a href=#limitations>limitations</a>). In the default configuration, you get <strong>16 e-mails per visitor</strong> (IP address) and then after that one per hour. On top of that, your IP address appears in the e-mail body. This is to prevent abuse.</p> <div class="tabbed-set tabbed-alternate" data-tabs=24:8><input checked=checked id=__tabbed_24_1 name=__tabbed_24 type=radio><input id=__tabbed_24_2 name=__tabbed_24 type=radio><input id=__tabbed_24_3 name=__tabbed_24 type=radio><input id=__tabbed_24_4 name=__tabbed_24 type=radio><input id=__tabbed_24_5 name=__tabbed_24 type=radio><input id=__tabbed_24_6 name=__tabbed_24 type=radio><input id=__tabbed_24_7 name=__tabbed_24 type=radio><input id=__tabbed_24_8 name=__tabbed_24 type=radio><div class=tabbed-labels><label for=__tabbed_24_1>Command line (curl)</label><label for=__tabbed_24_2>ntfy CLI</label><label for=__tabbed_24_3>HTTP</label><label for=__tabbed_24_4>JavaScript</label><label for=__tabbed_24_5>Go</label><label for=__tabbed_24_6>PowerShell</label><label for=__tabbed_24_7>Python</label><label for=__tabbed_24_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -H &quot;Email: phil@example.com&quot; \
    -H &quot;Tags: warning,skull,backup-host,ssh-login&quot; \
    -H &quot;Priority: high&quot; \
    -d &quot;Unknown login from 5.31.23.83 to backups.example.com&quot; \
    ntfy.sh/alerts
curl -H &quot;Email: phil@example.com&quot; -d &quot;You&#39;ve Got Mail&quot; 
curl -d &quot;You&#39;ve Got Mail&quot; &quot;ntfy.sh/alerts?email=phil@example.com&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --email=phil@example.com \
    --tags=warning,skull,backup-host,ssh-login \
    --priority=high \
    alerts &quot;Unknown login from 5.31.23.83 to backups.example.com&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/alerts</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Email</span><span class=o>:</span> <span class=l>phil@example.com</span>
<span class=na>Tags</span><span class=o>:</span> <span class=l>warning,skull,backup-host,ssh-login</span>
<span class=na>Priority</span><span class=o>:</span> <span class=l>high</span>

Unknown login from 5.31.23.83 to backups.example.com
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/alerts&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Unknown login from 5.31.23.83 to backups.example.com&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span>
<span class=w>        </span><span class=s1>&#39;Email&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;phil@example.com&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Tags&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;warning,skull,backup-host,ssh-login&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Priority&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;high&#39;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/alerts&quot;</span><span class=p>,</span><span class=w> </span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Unknown login from 5.31.23.83 to backups.example.com&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Email&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;phil@example.com&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Tags&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;warning,skull,backup-host,ssh-login&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Priority&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;high&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/alerts&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Title</span><span class=s2>&quot;=&quot;</span><span class=n>Low</span> <span class=n>disk</span> <span class=n>space</span> <span class=n>alert</span><span class=s2>&quot;</span>
<span class=s2>              Priority=&quot;</span><span class=n>high</span><span class=s2>&quot;</span>
<span class=s2>              Tags=&quot;</span><span class=n>warning</span><span class=p>,</span><span class=n>skull</span><span class=p>,</span><span class=nb>backup-host</span><span class=p>,</span><span class=n>ssh-login</span><span class=s2>&quot;)</span>
<span class=s2>              Email=&quot;</span><span class=n>phil</span><span class=nv>@example</span><span class=p>.</span><span class=n>com</span><span class=s2>&quot; }</span>
<span class=s2>$body = &quot;</span><span class=n>Unknown</span> <span class=n>login</span> <span class=n>from</span> <span class=n>5</span><span class=p>.</span><span class=n>31</span><span class=p>.</span><span class=n>23</span><span class=p>.</span><span class=n>83</span> <span class=n>to</span> <span class=n>backups</span><span class=p>.</span><span class=n>example</span><span class=p>.</span><span class=n>com</span><span class=s2>&quot;</span>
<span class=s2>Invoke-RestMethod -Method &#39;Post&#39; -Uri $uri -Body $body -UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/alerts&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Unknown login from 5.31.23.83 to backups.example.com&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> 
        <span class=s2>&quot;Email&quot;</span><span class=p>:</span> <span class=s2>&quot;phil@example.com&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Tags&quot;</span><span class=p>:</span> <span class=s2>&quot;warning,skull,backup-host,ssh-login&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Priority&quot;</span><span class=p>:</span> <span class=s2>&quot;high&quot;</span>
    <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/alerts&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Email: phil@example.com</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Tags: warning,skull,backup-host,ssh-login</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Priority: high&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Unknown login from 5.31.23.83 to backups.example.com&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>Here's what that looks like in Google Mail:</p> <figure> <p><img alt="e-mail notification" src=../static/img/screenshot-email.png width=600> </p> <figcaption>E-mail notification</figcaption> </figure> <h2 id=e-mail-publishing>E-mail publishing<a class=headerlink href=#e-mail-publishing title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82c.46 0 .84.36.84.82 0 .46-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83 0-.46.38-.82.84-.82.46 0 .83.36.83.82 0 .46-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11Z"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74c.01 0 .01 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03Z"/></svg></span></p> <p>You can publish messages to a topic via e-mail, i.e. by sending an email to a specific address. For instance, you can publish a message to the topic <code>sometopic</code> by sending an e-mail to <code>ntfy-sometopic@ntfy.sh</code>. This is useful for e-mail based integrations such as for statuspage.io (though these days most services also support webhooks and HTTP calls).</p> <p>Depending on the <a href=../config/#e-mail-publishing>server configuration</a>, the e-mail address format can have a prefix to prevent spam on topics. For ntfy.sh, the prefix is configured to <code>ntfy-</code>, meaning that the general e-mail address format is:</p> <div class=highlight><pre><span></span><code>ntfy-$topic@ntfy.sh
</code></pre></div> <p>If <a href=../config/#access-control>access control</a> is enabled, and the target topic does not support anonymous writes, e-mail publishing won't work without providing an authorized access token. That will change the format of the e-mail's recipient address to <div class=highlight><pre><span></span><code>ntfy-$topic+$token@ntfy.sh
</code></pre></div></p> <p>As of today, e-mail publishing only supports adding a <a href=#message-title>message title</a> (the e-mail subject). Tags, priority, delay and other features are not supported (yet). Here's an example that will publish a message with the title <code>You've Got Mail</code> to topic <code>sometopic</code> (see <a href=https://ntfy.sh/sometopic>ntfy.sh/sometopic</a>):</p> <figure> <p><img alt="e-mail publishing" src=../static/img/screenshot-email-publishing-gmail.png width=500> </p> <figcaption>Publishing a message via e-mail</figcaption> </figure> <h2 id=authentication>Authentication<a class=headerlink href=#authentication title="Permanent link">&para;</a></h2> <p>Depending on whether the server is configured to support <a href=../config/#access-control>access control</a>, some topics may be read/write protected so that only users with the correct credentials can subscribe or publish to them. To publish/subscribe to protected topics, you can: </p> <ul> <li>Use <a href=#username-password>username &amp; password</a> via Basic auth, e.g. <code>Authorization: Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk</code></li> <li>Use <a href=#bearer-auth>access tokens</a> via Bearer/Basic auth, e.g. <code>Authorization: Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2</code></li> <li>or use either with the <a href=#query-param><code>auth</code> query parameter</a>, e.g. <code>?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw</code></li> </ul> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>When using Basic auth, base64 only encodes username and password. It <strong>is not encrypting it</strong>. For your self-hosted server, <strong>be sure to use HTTPS to avoid eavesdropping</strong> and exposing your password. </p> </div> <h3 id=username-password>Username &amp; password<a class=headerlink href=#username-password title="Permanent link">&para;</a></h3> <p>The simplest way to authenticate against a ntfy server is to use <a href=https://en.wikipedia.org/wiki/Basic_access_authentication>Basic auth</a>. Here's an example with a user <code>testuser</code> and password <code>fakepassword</code>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=25:8><input checked=checked id=__tabbed_25_1 name=__tabbed_25 type=radio><input id=__tabbed_25_2 name=__tabbed_25 type=radio><input id=__tabbed_25_3 name=__tabbed_25 type=radio><input id=__tabbed_25_4 name=__tabbed_25 type=radio><input id=__tabbed_25_5 name=__tabbed_25 type=radio><input id=__tabbed_25_6 name=__tabbed_25 type=radio><input id=__tabbed_25_7 name=__tabbed_25 type=radio><input id=__tabbed_25_8 name=__tabbed_25 type=radio><div class=tabbed-labels><label for=__tabbed_25_1>Command line (curl)</label><label for=__tabbed_25_2>ntfy CLI</label><label for=__tabbed_25_3>HTTP</label><label for=__tabbed_25_4>JavaScript</label><label for=__tabbed_25_5>Go</label><label for=__tabbed_25_6>PowerShell</label><label for=__tabbed_25_7>Python</label><label for=__tabbed_25_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
  -u testuser:fakepassword \
  -d &quot;Look ma, with auth&quot; \
  https://ntfy.example.com/mysecrets
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
  -u testuser:fakepassword \
  ntfy.example.com/mysecrets \
  &quot;Look ma, with auth&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mysecrets</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.example.com</span>
<span class=na>Authorization</span><span class=o>:</span> <span class=l>Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk</span>

Look ma, with auth
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// PUT works too</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Look ma, with auth&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=s1>&#39;Authorization&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk&#39;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.example.com/mysecrets&quot;</span><span class=p>,</span>
<span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Look ma, with auth&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Authorization&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.example.com/mysecrets&quot;</span>
<span class=nv>$credentials</span> <span class=p>=</span> <span class=s1>&#39;testuser:fakepassword&#39;</span>
<span class=nv>$encodedCredentials</span> <span class=p>=</span> <span class=no>[convert]</span><span class=p>::</span><span class=n>ToBase64String</span><span class=p>(</span><span class=no>[text.Encoding]</span><span class=p>::</span><span class=n>UTF8</span><span class=p>.</span><span class=n>GetBytes</span><span class=p>(</span><span class=nv>$credentials</span><span class=p>))</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span><span class=n>Authorization</span><span class=p>=</span><span class=s2>&quot;Basic $encodedCredentials&quot;</span><span class=p>}</span>
<span class=nv>$message</span> <span class=p>=</span> <span class=s2>&quot;Look ma, with auth&quot;</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Body</span> <span class=nv>$message</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-Method</span> <span class=s2>&quot;Post&quot;</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.example.com/mysecrets&quot;</span><span class=p>,</span>
<span class=n>data</span><span class=o>=</span><span class=s2>&quot;Look ma, with auth&quot;</span><span class=p>,</span>
<span class=n>headers</span><span class=o>=</span><span class=p>{</span>
    <span class=s2>&quot;Authorization&quot;</span><span class=p>:</span> <span class=s2>&quot;Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk&quot;</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=c1>// PUT also works</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s1>&#39;Content-Type: text/plain\r\n&#39;</span> <span class=o>.</span>
            <span class=s1>&#39;Authorization: Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk&#39;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Look ma, with auth&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>To generate the <code>Authorization</code> header, use <strong>standard base64</strong> to encode the colon-separated <code>&lt;username&gt;:&lt;password&gt;</code> and prepend the word <code>Basic</code>, i.e. <code>Authorization: Basic base64(&lt;username&gt;:&lt;password&gt;)</code>. Here's some pseudo-code that hopefully explains it better:</p> <div class=highlight><pre><span></span><code>username   = &quot;testuser&quot;
password   = &quot;fakepassword&quot;
authHeader = &quot;Basic &quot; + base64(username + &quot;:&quot; + password) // -&gt; Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk
</code></pre></div> <p>The following command will generate the appropriate value for you on *nix systems:</p> <div class=highlight><pre><span></span><code>echo &quot;Basic $(echo -n &#39;testuser:fakepassword&#39; | base64)&quot;
</code></pre></div> <h3 id=access-tokens>Access tokens<a class=headerlink href=#access-tokens title="Permanent link">&para;</a></h3> <p>In addition to username/password auth, ntfy also provides authentication via access tokens. Access tokens are useful to avoid having to configure your password across multiple publishing/subscribing applications. For instance, you may want to use a dedicated token to publish from your backup host, and one from your home automation system.</p> <p>You can create access tokens using the <code>ntfy token</code> command, or in the web app in the "Account" section (when logged in). See <a href=../config/#access-tokens>access tokens</a> for details.</p> <p>Once an access token is created, you can use it to authenticate against the ntfy server, e.g. when you publish or subscribe to topics. Here's an example using <a href=https://swagger.io/docs/specification/authentication/bearer-authentication/ >Bearer auth</a>, with the token <code>tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2</code>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=26:8><input checked=checked id=__tabbed_26_1 name=__tabbed_26 type=radio><input id=__tabbed_26_2 name=__tabbed_26 type=radio><input id=__tabbed_26_3 name=__tabbed_26 type=radio><input id=__tabbed_26_4 name=__tabbed_26 type=radio><input id=__tabbed_26_5 name=__tabbed_26 type=radio><input id=__tabbed_26_6 name=__tabbed_26 type=radio><input id=__tabbed_26_7 name=__tabbed_26 type=radio><input id=__tabbed_26_8 name=__tabbed_26 type=radio><div class=tabbed-labels><label for=__tabbed_26_1>Command line (curl)</label><label for=__tabbed_26_2>ntfy CLI</label><label for=__tabbed_26_3>HTTP</label><label for=__tabbed_26_4>JavaScript</label><label for=__tabbed_26_5>Go</label><label for=__tabbed_26_6>PowerShell</label><label for=__tabbed_26_7>Python</label><label for=__tabbed_26_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
  -H &quot;Authorization: Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&quot; \
  -d &quot;Look ma, with auth&quot; \
  https://ntfy.example.com/mysecrets
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
  --token tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2 \
  ntfy.example.com/mysecrets \
  &quot;Look ma, with auth&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mysecrets</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.example.com</span>
<span class=na>Authorization</span><span class=o>:</span> <span class=l>Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2</span>

Look ma, with auth
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// PUT works too</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Look ma, with auth&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=s1>&#39;Authorization&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&#39;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.example.com/mysecrets&quot;</span><span class=p>,</span>
<span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Look ma, with auth&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Authorization&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.example.com/mysecrets&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span><span class=n>Authorization</span><span class=p>=</span><span class=s2>&quot;Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&quot;</span><span class=p>}</span>
<span class=nv>$message</span> <span class=p>=</span> <span class=s2>&quot;Look ma, with auth&quot;</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Body</span> <span class=nv>$message</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-Method</span> <span class=s2>&quot;Post&quot;</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.example.com/mysecrets&quot;</span><span class=p>,</span>
<span class=n>data</span><span class=o>=</span><span class=s2>&quot;Look ma, with auth&quot;</span><span class=p>,</span>
<span class=n>headers</span><span class=o>=</span><span class=p>{</span>
    <span class=s2>&quot;Authorization&quot;</span><span class=p>:</span> <span class=s2>&quot;Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&quot;</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=c1>// PUT also works</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s1>&#39;Content-Type: text/plain\r\n&#39;</span> <span class=o>.</span>
            <span class=s1>&#39;Authorization: Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&#39;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Look ma, with auth&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>Alternatively, you can use <a href=https://en.wikipedia.org/wiki/Basic_access_authentication>Basic Auth</a> to send the access token. When sending an empty username, the basic auth password is treated by the ntfy server as an access token. This is primarily useful to make <code>curl</code> calls easier, e.g. <code>curl -u:tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2 ...</code>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=27:8><input checked=checked id=__tabbed_27_1 name=__tabbed_27 type=radio><input id=__tabbed_27_2 name=__tabbed_27 type=radio><input id=__tabbed_27_3 name=__tabbed_27 type=radio><input id=__tabbed_27_4 name=__tabbed_27 type=radio><input id=__tabbed_27_5 name=__tabbed_27 type=radio><input id=__tabbed_27_6 name=__tabbed_27 type=radio><input id=__tabbed_27_7 name=__tabbed_27 type=radio><input id=__tabbed_27_8 name=__tabbed_27 type=radio><div class=tabbed-labels><label for=__tabbed_27_1>Command line (curl)</label><label for=__tabbed_27_2>ntfy CLI</label><label for=__tabbed_27_3>HTTP</label><label for=__tabbed_27_4>JavaScript</label><label for=__tabbed_27_5>Go</label><label for=__tabbed_27_6>PowerShell</label><label for=__tabbed_27_7>Python</label><label for=__tabbed_27_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
  -u :tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2 \
  -d &quot;Look ma, with auth&quot; \
  https://ntfy.example.com/mysecrets
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
  --token tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2 \
  ntfy.example.com/mysecrets \
  &quot;Look ma, with auth&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mysecrets</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.example.com</span>
<span class=na>Authorization</span><span class=o>:</span> <span class=l>Basic OnRrX0FnUWRxN21WQm9GRDM3elFWTjI5Umh1TXpOSXoy</span>

Look ma, with auth
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// PUT works too</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Look ma, with auth&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=s1>&#39;Authorization&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Basic OnRrX0FnUWRxN21WQm9GRDM3elFWTjI5Umh1TXpOSXoy&#39;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.example.com/mysecrets&quot;</span><span class=p>,</span>
<span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Look ma, with auth&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Authorization&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Basic OnRrX0FnUWRxN21WQm9GRDM3elFWTjI5Umh1TXpOSXoy&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.example.com/mysecrets&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span><span class=n>Authorization</span><span class=p>=</span><span class=s2>&quot;Basic OnRrX0FnUWRxN21WQm9GRDM3elFWTjI5Umh1TXpOSXoy&quot;</span><span class=p>}</span>
<span class=nv>$message</span> <span class=p>=</span> <span class=s2>&quot;Look ma, with auth&quot;</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Body</span> <span class=nv>$message</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-Method</span> <span class=s2>&quot;Post&quot;</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.example.com/mysecrets&quot;</span><span class=p>,</span>
<span class=n>data</span><span class=o>=</span><span class=s2>&quot;Look ma, with auth&quot;</span><span class=p>,</span>
<span class=n>headers</span><span class=o>=</span><span class=p>{</span>
    <span class=s2>&quot;Authorization&quot;</span><span class=p>:</span> <span class=s2>&quot;Basic OnRrX0FnUWRxN21WQm9GRDM3elFWTjI5Umh1TXpOSXoy&quot;</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=c1>// PUT also works</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s1>&#39;Content-Type: text/plain\r\n&#39;</span> <span class=o>.</span>
            <span class=s1>&#39;Authorization: Basic OnRrX0FnUWRxN21WQm9GRDM3elFWTjI5Umh1TXpOSXoy&#39;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Look ma, with auth&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <h3 id=query-param>Query param<a class=headerlink href=#query-param title="Permanent link">&para;</a></h3> <p>Here's an example using the <code>auth</code> query parameter:</p> <div class="tabbed-set tabbed-alternate" data-tabs=28:8><input checked=checked id=__tabbed_28_1 name=__tabbed_28 type=radio><input id=__tabbed_28_2 name=__tabbed_28 type=radio><input id=__tabbed_28_3 name=__tabbed_28 type=radio><input id=__tabbed_28_4 name=__tabbed_28 type=radio><input id=__tabbed_28_5 name=__tabbed_28 type=radio><input id=__tabbed_28_6 name=__tabbed_28 type=radio><input id=__tabbed_28_7 name=__tabbed_28 type=radio><input id=__tabbed_28_8 name=__tabbed_28 type=radio><div class=tabbed-labels><label for=__tabbed_28_1>Command line (curl)</label><label for=__tabbed_28_2>ntfy CLI</label><label for=__tabbed_28_3>HTTP</label><label for=__tabbed_28_4>JavaScript</label><label for=__tabbed_28_5>Go</label><label for=__tabbed_28_6>PowerShell</label><label for=__tabbed_28_7>Python</label><label for=__tabbed_28_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
  -d &quot;Look ma, with auth&quot; \
  &quot;https://ntfy.example.com/mysecrets?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
  -u testuser:fakepassword \
  ntfy.example.com/mysecrets \
  &quot;Look ma, with auth&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mysecrets?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.example.com</span>

Look ma, with auth
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// PUT works too</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Look ma, with auth&#39;</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.example.com/mysecrets?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Look ma, with auth&quot;</span><span class=p>))</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.example.com/mysecrets?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw&quot;</span>
<span class=nv>$message</span> <span class=p>=</span> <span class=s2>&quot;Look ma, with auth&quot;</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Body</span> <span class=nv>$message</span>  <span class=n>-Method</span> <span class=s2>&quot;Post&quot;</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.example.com/mysecrets?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw&quot;</span><span class=p>,</span>
<span class=n>data</span><span class=o>=</span><span class=s2>&quot;Look ma, with auth&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=c1>// PUT also works</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Content-Type: text/plain&#39;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Look ma, with auth&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>To generate the value of the <code>auth</code> parameter, encode the value of the <code>Authorization</code> header (see above) using <strong>raw base64 encoding</strong> (like base64, but strip any trailing <code>=</code>). Here's some pseudo-code that hopefully explains it better:</p> <div class=highlight><pre><span></span><code>username   = &quot;testuser&quot;
password   = &quot;fakepassword&quot;
authHeader = &quot;Basic &quot; + base64(username + &quot;:&quot; + password) // -&gt; Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk
authParam  = base64_raw(authHeader) // -&gt; QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw (no trailing =)

// If your language does not have a function to encode raw base64, simply use normal base64
// and REMOVE TRAILING &quot;=&quot; characters. 
</code></pre></div> <p>The following command will generate the appropriate value for you on *nix systems:</p> <div class=highlight><pre><span></span><code>echo -n &quot;Basic `echo -n &#39;testuser:fakepassword&#39; | base64`&quot; | base64 | tr -d &#39;=&#39;
</code></pre></div> <h2 id=advanced-features>Advanced features<a class=headerlink href=#advanced-features title="Permanent link">&para;</a></h2> <h3 id=message-caching>Message caching<a class=headerlink href=#message-caching title="Permanent link">&para;</a></h3> <div class="admonition info"> <p class=admonition-title>Info</p> <p>If <code>Cache: no</code> is used, messages will only be delivered to connected subscribers, and won't be re-delivered if a client re-connects. If a subscriber has (temporary) network issues or is reconnecting momentarily, <strong>messages might be missed</strong>.</p> </div> <p>By default, the ntfy server caches messages on disk for 12 hours (see <a href=../config/#message-cache>message caching</a>), so all messages you publish are stored server-side for a little while. The reason for this is to overcome temporary client-side network disruptions, but arguably this feature also may raise privacy concerns.</p> <p>To avoid messages being cached server-side entirely, you can set <code>X-Cache</code> header (or its alias: <code>Cache</code>) to <code>no</code>. This will make sure that your message is not cached on the server, even if server-side caching is enabled. Messages are still delivered to connected subscribers, but <a href=../subscribe/api/#fetch-cached-messages><code>since=</code></a> and <a href=../subscribe/api/#poll-for-messages><code>poll=1</code></a> won't return the message anymore.</p> <div class="tabbed-set tabbed-alternate" data-tabs=29:8><input checked=checked id=__tabbed_29_1 name=__tabbed_29 type=radio><input id=__tabbed_29_2 name=__tabbed_29 type=radio><input id=__tabbed_29_3 name=__tabbed_29 type=radio><input id=__tabbed_29_4 name=__tabbed_29 type=radio><input id=__tabbed_29_5 name=__tabbed_29 type=radio><input id=__tabbed_29_6 name=__tabbed_29 type=radio><input id=__tabbed_29_7 name=__tabbed_29 type=radio><input id=__tabbed_29_8 name=__tabbed_29 type=radio><div class=tabbed-labels><label for=__tabbed_29_1>Command line (curl)</label><label for=__tabbed_29_2>ntfy CLI</label><label for=__tabbed_29_3>HTTP</label><label for=__tabbed_29_4>JavaScript</label><label for=__tabbed_29_5>Go</label><label for=__tabbed_29_6>PowerShell</label><label for=__tabbed_29_7>Python</label><label for=__tabbed_29_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl -H &quot;X-Cache: no&quot; -d &quot;This message won&#39;t be stored server-side&quot; ntfy.sh/mytopic
curl -H &quot;Cache: no&quot; -d &quot;This message won&#39;t be stored server-side&quot; ntfy.sh/mytopic
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --no-cache \
    mytopic &quot;This message won&#39;t be stored server-side&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mytopic</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Cache</span><span class=o>:</span> <span class=l>no</span>

This message won&#39;t be stored server-side
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;This message won&#39;</span><span class=nx>t</span><span class=w> </span><span class=nx>be</span><span class=w> </span><span class=nx>stored</span><span class=w> </span><span class=nx>server</span><span class=o>-</span><span class=nx>side</span><span class=s1>&#39;,</span>
<span class=s1>    headers: { &#39;</span><span class=nx>Cache</span><span class=s1>&#39;: &#39;</span><span class=nx>no</span><span class=err>&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;This message won&#39;t be stored server-side&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Cache&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;no&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Cache</span><span class=p>=</span><span class=s2>&quot;no&quot;</span> <span class=p>}</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=s2>&quot;This message won&#39;t be stored server-side&quot;</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;This message won&#39;t be stored server-side&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Cache&quot;</span><span class=p>:</span> <span class=s2>&quot;no&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Cache: no&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;This message won&#39;</span><span class=nx>t</span> <span class=nx>be</span> <span class=nx>stored</span> <span class=nx>server</span><span class=o>-</span><span class=nx>side</span><span class=err>&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <h3 id=disable-firebase>Disable Firebase<a class=headerlink href=#disable-firebase title="Permanent link">&para;</a></h3> <div class="admonition info"> <p class=admonition-title>Info</p> <p>If <code>Firebase: no</code> is used and <a href=../subscribe/phone/#instant-delivery>instant delivery</a> isn't enabled in the Android app (Google Play variant only), <strong>message delivery will be significantly delayed (up to 15 minutes)</strong>. To overcome this delay, simply enable instant delivery.</p> </div> <p>The ntfy server can be configured to use <a href=https://firebase.google.com/docs/cloud-messaging>Firebase Cloud Messaging (FCM)</a> (see <a href=../config/#firebase-fcm>Firebase config</a>) for message delivery on Android (to minimize the app's battery footprint). The ntfy.sh server is configured this way, meaning that all messages published to ntfy.sh are also published to corresponding FCM topics.</p> <p>If you'd like to avoid forwarding messages to Firebase, you can set the <code>X-Firebase</code> header (or its alias: <code>Firebase</code>) to <code>no</code>. This will instruct the server not to forward messages to Firebase.</p> <div class="tabbed-set tabbed-alternate" data-tabs=30:8><input checked=checked id=__tabbed_30_1 name=__tabbed_30 type=radio><input id=__tabbed_30_2 name=__tabbed_30 type=radio><input id=__tabbed_30_3 name=__tabbed_30 type=radio><input id=__tabbed_30_4 name=__tabbed_30 type=radio><input id=__tabbed_30_5 name=__tabbed_30 type=radio><input id=__tabbed_30_6 name=__tabbed_30 type=radio><input id=__tabbed_30_7 name=__tabbed_30 type=radio><input id=__tabbed_30_8 name=__tabbed_30 type=radio><div class=tabbed-labels><label for=__tabbed_30_1>Command line (curl)</label><label for=__tabbed_30_2>ntfy CLI</label><label for=__tabbed_30_3>HTTP</label><label for=__tabbed_30_4>JavaScript</label><label for=__tabbed_30_5>Go</label><label for=__tabbed_30_6>PowerShell</label><label for=__tabbed_30_7>Python</label><label for=__tabbed_30_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl -H &quot;X-Firebase: no&quot; -d &quot;This message won&#39;t be forwarded to FCM&quot; ntfy.sh/mytopic
curl -H &quot;Firebase: no&quot; -d &quot;This message won&#39;t be forwarded to FCM&quot; ntfy.sh/mytopic
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --no-firebase \
    mytopic &quot;This message won&#39;t be forwarded to FCM&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mytopic</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Firebase</span><span class=o>:</span> <span class=l>no</span>

This message won&#39;t be forwarded to FCM
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;This message won&#39;</span><span class=nx>t</span><span class=w> </span><span class=nx>be</span><span class=w> </span><span class=nx>forwarded</span><span class=w> </span><span class=nx>to</span><span class=w> </span><span class=nx>FCM</span><span class=s1>&#39;,</span>
<span class=s1>    headers: { &#39;</span><span class=nx>Firebase</span><span class=s1>&#39;: &#39;</span><span class=nx>no</span><span class=err>&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;This message won&#39;t be forwarded to FCM&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Firebase&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;no&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span>
<span class=nv>$headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Firebase</span><span class=p>=</span><span class=s2>&quot;no&quot;</span> <span class=p>}</span>
<span class=nv>$body</span> <span class=p>=</span> <span class=s2>&quot;This message won&#39;t be forwarded to FCM&quot;</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=s1>&#39;Post&#39;</span> <span class=n>-Uri</span> <span class=nv>$uri</span> <span class=n>-Body</span> <span class=nv>$body</span> <span class=n>-Headers</span> <span class=nv>$headers</span> <span class=n>-UseBasicParsing</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;This message won&#39;t be forwarded to FCM&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Firebase&quot;</span><span class=p>:</span> <span class=s2>&quot;no&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Firebase: no&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;This message won&#39;</span><span class=nx>t</span> <span class=nx>be</span> <span class=nx>stored</span> <span class=nx>server</span><span class=o>-</span><span class=nx>side</span><span class=err>&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <h3 id=unifiedpush>UnifiedPush<a class=headerlink href=#unifiedpush title="Permanent link">&para;</a></h3> <div class="admonition info"> <p class=admonition-title>Info</p> <p>This setting is not relevant to users, only to app developers and people interested in <a href=https://unifiedpush.org>UnifiedPush</a>. </p> </div> <p><a href=https://unifiedpush.org>UnifiedPush</a> is a standard for receiving push notifications without using the Google-owned <a href=https://firebase.google.com/docs/cloud-messaging>Firebase Cloud Messaging (FCM)</a> service. It puts push notifications in the control of the user. ntfy can act as a <strong>UnifiedPush distributor</strong>, forwarding messages to apps that support it.</p> <p>When publishing messages to a topic, apps using ntfy as a UnifiedPush distributor can set the <code>X-UnifiedPush</code> header or query parameter (or any of its aliases <code>unifiedpush</code> or <code>up</code>) to <code>1</code> to <a href=#disable-firebase>disable Firebase</a>. As of today, this option is mostly equivalent to <code>Firebase: no</code>, but was introduced to allow future flexibility. The flag additionally enables auto-detection of the message encoding. If the message is binary, it'll be encoded as base64.</p> <h3 id=matrix-gateway>Matrix Gateway<a class=headerlink href=#matrix-gateway title="Permanent link">&para;</a></h3> <p>The ntfy server implements a <a href=https://spec.matrix.org/v1.2/push-gateway-api/ >Matrix Push Gateway</a> (in combination with <a href=https://unifiedpush.org>UnifiedPush</a> as the <a href=https://unifiedpush.org/developers/gateway/ >Provider Push Protocol</a>). This makes it easier to integrate with self-hosted <a href=https://matrix.org/ >Matrix</a> servers (such as <a href=https://github.com/matrix-org/synapse>synapse</a>), since you don't have to set up a separate push proxy (such as <a href=https://github.com/UnifiedPush/common-proxies>common-proxies</a>).</p> <p>In short, ntfy accepts Matrix messages on the <code>/_matrix/push/v1/notify</code> endpoint (see <a href=https://spec.matrix.org/v1.2/push-gateway-api/ >Push Gateway API</a>), and forwards them to the ntfy topic defined in the <code>pushkey</code> of the message. The message will then be forwarded to the ntfy Android app, and passed on to the Matrix client there.</p> <p>There is a nice diagram in the <a href=https://spec.matrix.org/v1.2/push-gateway-api/ >Push Gateway docs</a>. In this diagram, the ntfy server plays the role of the Push Gateway, as well as the Push Provider. UnifiedPush is the Provider Push Protocol.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>This is not a generic Matrix Push Gateway. It only works in combination with UnifiedPush and ntfy.</p> </div> <h2 id=public-topics>Public topics<a class=headerlink href=#public-topics title="Permanent link">&para;</a></h2> <p>Obviously all topics on ntfy.sh are public, but there are a few designated topics that are used in examples, and topics that you can use to try out what <a href=#authentication>authentication and access control</a> looks like.</p> <table> <thead> <tr> <th>Topic</th> <th>User</th> <th>Permissions</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><a href=https://ntfy.sh/announcements>announcements</a></td> <td><code>*</code> (unauthenticated)</td> <td>Read-only for everyone</td> <td>Release announcements and such</td> </tr> <tr> <td><a href=https://ntfy.sh/stats>stats</a></td> <td><code>*</code> (unauthenticated)</td> <td>Read-only for everyone</td> <td>Daily statistics about ntfy.sh usage</td> </tr> </tbody> </table> <h2 id=limitations>Limitations<a class=headerlink href=#limitations title="Permanent link">&para;</a></h2> <p>There are a few limitations to the API to prevent abuse and to keep the server healthy. Almost all of these settings are configurable via the server side <a href=../config/#rate-limiting>rate limiting settings</a>. Most of these limits you won't run into, but just in case, let's list them all:</p> <table> <thead> <tr> <th>Limit</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong>Message length</strong></td> <td>Each message can be up to 4,096 bytes long. Longer messages are treated as <a href=#attachments>attachments</a>.</td> </tr> <tr> <td><strong>Requests</strong></td> <td>By default, the server is configured to allow 60 requests per visitor at once, and then refills the your allowed requests bucket at a rate of one request per 5 seconds.</td> </tr> <tr> <td><strong>Daily messages</strong></td> <td>By default, the number of messages is governed by the request limits. This can be overridden. On ntfy.sh, the daily message limit is 1,000.</td> </tr> <tr> <td><strong>E-mails</strong></td> <td>By default, the server is configured to allow sending 16 e-mails per visitor at once, and then refills the your allowed e-mail bucket at a rate of one per hour. On ntfy.sh, the daily limit is 10.</td> </tr> <tr> <td><strong>Subscription limit</strong></td> <td>By default, the server allows each visitor to keep 30 connections to the server open.</td> </tr> <tr> <td><strong>Attachment size limit</strong></td> <td>By default, the server allows attachments up to 15 MB in size, up to 100 MB in total per visitor and up to 5 GB across all visitors. On ntfy.sh, the attachment size limit is 5 MB, and the per-visitor total is 50 MB.</td> </tr> <tr> <td><strong>Attachment expiry</strong></td> <td>By default, the server deletes attachments after 3 hours and thereby frees up space from the total visitor attachment limit.</td> </tr> <tr> <td><strong>Attachment bandwidth</strong></td> <td>By default, the server allows 500 MB of GET/PUT/POST traffic for attachments per visitor in a 24 hour period. Traffic exceeding that is rejected. On ntfy.sh, the daily bandwidth limit is 200 MB.</td> </tr> <tr> <td><strong>Total number of topics</strong></td> <td>By default, the server is configured to allow 15,000 topics. The ntfy.sh server has higher limits though.</td> </tr> </tbody> </table> <p>These limits can be changed on a per-user basis using <a href=../config/#tiers>tiers</a>. If <a href=../config/#payments>payments</a> are enabled, a user tier can be changed by purchasing a higher tier. ntfy.sh offers multiple paid tiers, which allows for much hier limits than the ones listed above. </p> <h2 id=list-of-all-parameters>List of all parameters<a class=headerlink href=#list-of-all-parameters title="Permanent link">&para;</a></h2> <p>The following is a list of all parameters that can be passed when publishing a message. Parameter names are <strong>case-insensitive</strong> when used in <strong>HTTP headers</strong>, and must be <strong>lowercase</strong> when used as <strong>query parameters in the URL</strong>. They are listed in the table in their canonical form.</p> <table> <thead> <tr> <th>Parameter</th> <th>Aliases</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>X-Message</code></td> <td><code>Message</code>, <code>m</code></td> <td>Main body of the message as shown in the notification</td> </tr> <tr> <td><code>X-Title</code></td> <td><code>Title</code>, <code>t</code></td> <td><a href=#message-title>Message title</a></td> </tr> <tr> <td><code>X-Priority</code></td> <td><code>Priority</code>, <code>prio</code>, <code>p</code></td> <td><a href=#message-priority>Message priority</a></td> </tr> <tr> <td><code>X-Tags</code></td> <td><code>Tags</code>, <code>Tag</code>, <code>ta</code></td> <td><a href=#tags-emojis>Tags and emojis</a></td> </tr> <tr> <td><code>X-Delay</code></td> <td><code>Delay</code>, <code>X-At</code>, <code>At</code>, <code>X-In</code>, <code>In</code></td> <td>Timestamp or duration for <a href=#scheduled-delivery>delayed delivery</a></td> </tr> <tr> <td><code>X-Actions</code></td> <td><code>Actions</code>, <code>Action</code></td> <td>JSON array or short format of <a href=#action-buttons>user actions</a></td> </tr> <tr> <td><code>X-Click</code></td> <td><code>Click</code></td> <td>URL to open when <a href=#click-action>notification is clicked</a></td> </tr> <tr> <td><code>X-Attach</code></td> <td><code>Attach</code>, <code>a</code></td> <td>URL to send as an <a href=#attachments>attachment</a>, as an alternative to PUT/POST-ing an attachment</td> </tr> <tr> <td><code>X-Icon</code></td> <td><code>Icon</code></td> <td>URL to use as notification <a href=#icons>icon</a></td> </tr> <tr> <td><code>X-Filename</code></td> <td><code>Filename</code>, <code>file</code>, <code>f</code></td> <td>Optional <a href=#attachments>attachment</a> filename, as it appears in the client</td> </tr> <tr> <td><code>X-Email</code></td> <td><code>X-E-Mail</code>, <code>Email</code>, <code>E-Mail</code>, <code>mail</code>, <code>e</code></td> <td>E-mail address for <a href=#e-mail-notifications>e-mail notifications</a></td> </tr> <tr> <td><code>X-Cache</code></td> <td><code>Cache</code></td> <td>Allows disabling <a href=#message-caching>message caching</a></td> </tr> <tr> <td><code>X-Firebase</code></td> <td><code>Firebase</code></td> <td>Allows disabling <a href=#disable-firebase>sending to Firebase</a></td> </tr> <tr> <td><code>X-UnifiedPush</code></td> <td><code>UnifiedPush</code>, <code>up</code></td> <td><a href=#unifiedpush>UnifiedPush</a> publish option, only to be used by UnifiedPush apps</td> </tr> <tr> <td><code>X-Poll-ID</code></td> <td><code>Poll-ID</code></td> <td>Internal parameter, used for <a href=../config/#ios-instant-notifications>iOS push notifications</a></td> </tr> <tr> <td><code>Authorization</code></td> <td>-</td> <td>If supported by the server, you can <a href=#authentication>login to access</a> protected topics</td> </tr> </tbody> </table> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Made with ❤️ by Philipp C. Heckel </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/binwiederhier target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["search.suggest", "search.highlight", "search.share", "navigation.sections", "toc.integrate", "content.tabs.link"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.19047be9.min.js></script> <script src=../static/js/extra.js></script> </body> </html>