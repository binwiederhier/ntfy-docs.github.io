<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Send push notifications to your phone via PUT/POST"><link href=https://ntfy.sh/publish/ rel=canonical><link rel=prev href=..><link href=../subscribe/phone/ rel=next><link rel=icon href=../static/img/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>Sending messages - ntfy</title><link rel=stylesheet href=../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../assets/stylesheets/palette.ab4e12ef.min.css><link rel=stylesheet href=../static/css/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#publishing class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <style>
    div[data-md-component="announce"] {
        z-index: 10;
    }

    div[data-md-component="announce"] a {
        color: white;
    }

    div[data-md-component="announce"] a:hover, div[data-md-component="announce"] a:focus {
        transition: ease-in 150ms;
        color: #ccc;
    }

    div[data-md-component="announce"] .md-banner__button {
        color: #ccc;
    }

    div[data-md-component="announce"] .md-banner.hidden {
        display: none;
    }

    div[data-md-component="announce"] .twemoji {
        margin-top: 2px;
    }
</style> <button id=announce-bar-close class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"> <path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path> </svg> </button> If you like ntfy, please consider sponsoring me via <a target=_blank href=https://github.com/sponsors/binwiederhier><strong>GitHub Sponsors</strong></a> or <a href=https://en.liberapay.com/ntfy/ target=_blank><strong>Liberapay</strong></a> <svg xmlns=http://www.w3.org/2000/svg role=img viewbox="0 0 36 36" class="twemoji md-footer-custom-text"> <path fill=#DD2E44 d="M35.885 11.833c0-5.45-4.418-9.868-9.867-9.868-3.308 0-6.227 1.633-8.018 4.129-1.791-2.496-4.71-4.129-8.017-4.129-5.45 0-9.868 4.417-9.868 9.868 0 .772.098 1.52.266 2.241C1.751 22.587 11.216 31.568 18 34.034c6.783-2.466 16.249-11.447 17.617-19.959.17-.721.268-1.469.268-2.242z"/> </svg>, or subscribing to <a target=_blank href=https://ntfy.sh/app><strong>ntfy Pro</strong></a>. <script>
    announceBarKey = 'announce-bar-closed-sponsor';
    document.getElementById('announce-bar-close').addEventListener('click', (e) => {
        localStorage.setItem(announceBarKey, 'true');
        document.querySelector('div[data-md-component="announce"] .md-banner').style.display = 'none';
    });
    if (localStorage.getItem(announceBarKey) === 'true') {
        document.querySelector('div[data-md-component="announce"] .md-banner').style.display = 'none';
    }
</script> </div> </aside> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=/ title=ntfy class="md-header__button md-logo" aria-label=ntfy data-md-component=logo> <img src=../static/img/ntfy.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ntfy </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Sending messages </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/binwiederhier/ntfy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> binwiederhier/ntfy </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=/ title=ntfy class="md-nav__button md-logo" aria-label=ntfy data-md-component=logo> <img src=../static/img/ntfy.png alt=logo> </a> ntfy </label> <div class=md-nav__source> <a href=https://github.com/binwiederhier/ntfy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> binwiederhier/ntfy </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Getting started </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Publishing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Publishing </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Sending messages </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Sending messages </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#message-title class=md-nav__link> <span class=md-ellipsis> Message title </span> </a> </li> <li class=md-nav__item> <a href=#message-priority class=md-nav__link> <span class=md-ellipsis> Message priority </span> </a> </li> <li class=md-nav__item> <a href=#tags-emojis class=md-nav__link> <span class=md-ellipsis> Tags &amp; emojis ü•≥ üéâ </span> </a> </li> <li class=md-nav__item> <a href=#markdown-formatting class=md-nav__link> <span class=md-ellipsis> Markdown formatting </span> </a> </li> <li class=md-nav__item> <a href=#click-action class=md-nav__link> <span class=md-ellipsis> Click action </span> </a> </li> <li class=md-nav__item> <a href=#icons class=md-nav__link> <span class=md-ellipsis> Icons </span> </a> </li> <li class=md-nav__item> <a href=#attachments class=md-nav__link> <span class=md-ellipsis> Attachments </span> </a> <nav class=md-nav aria-label=Attachments> <ul class=md-nav__list> <li class=md-nav__item> <a href=#attach-local-file class=md-nav__link> <span class=md-ellipsis> Attach local file </span> </a> </li> <li class=md-nav__item> <a href=#attach-file-from-a-url class=md-nav__link> <span class=md-ellipsis> Attach file from a URL </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#action-buttons class=md-nav__link> <span class=md-ellipsis> Action buttons </span> </a> <nav class=md-nav aria-label="Action buttons"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#defining-actions class=md-nav__link> <span class=md-ellipsis> Defining actions </span> </a> <nav class=md-nav aria-label="Defining actions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-a-header class=md-nav__link> <span class=md-ellipsis> Using a header </span> </a> </li> <li class=md-nav__item> <a href=#using-a-json-array class=md-nav__link> <span class=md-ellipsis> Using a JSON array </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#open-websiteapp class=md-nav__link> <span class=md-ellipsis> Open website/app </span> </a> </li> <li class=md-nav__item> <a href=#send-android-broadcast class=md-nav__link> <span class=md-ellipsis> Send Android broadcast </span> </a> </li> <li class=md-nav__item> <a href=#send-http-request class=md-nav__link> <span class=md-ellipsis> Send HTTP request </span> </a> </li> <li class=md-nav__item> <a href=#copy-to-clipboard class=md-nav__link> <span class=md-ellipsis> Copy to clipboard </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#scheduled-delivery class=md-nav__link> <span class=md-ellipsis> Scheduled delivery </span> </a> <nav class=md-nav aria-label="Scheduled delivery"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#updating-scheduled-notifications class=md-nav__link> <span class=md-ellipsis> Updating scheduled notifications </span> </a> </li> <li class=md-nav__item> <a href=#canceling-scheduled-notifications class=md-nav__link> <span class=md-ellipsis> Canceling scheduled notifications </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#message-templating class=md-nav__link> <span class=md-ellipsis> Message templating </span> </a> <nav class=md-nav aria-label="Message templating"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pre-defined-templates class=md-nav__link> <span class=md-ellipsis> Pre-defined templates </span> </a> </li> <li class=md-nav__item> <a href=#custom-templates class=md-nav__link> <span class=md-ellipsis> Custom templates </span> </a> </li> <li class=md-nav__item> <a href=#inline-templating class=md-nav__link> <span class=md-ellipsis> Inline templating </span> </a> </li> <li class=md-nav__item> <a href=#template-syntax class=md-nav__link> <span class=md-ellipsis> Template syntax </span> </a> </li> <li class=md-nav__item> <a href=#template-functions class=md-nav__link> <span class=md-ellipsis> Template functions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#e-mail-notifications class=md-nav__link> <span class=md-ellipsis> E-mail notifications </span> </a> </li> <li class=md-nav__item> <a href=#e-mail-publishing class=md-nav__link> <span class=md-ellipsis> E-mail publishing </span> </a> </li> <li class=md-nav__item> <a href=#phone-calls class=md-nav__link> <span class=md-ellipsis> Phone calls </span> </a> </li> <li class=md-nav__item> <a href=#publish-as-json class=md-nav__link> <span class=md-ellipsis> Publish as JSON </span> </a> </li> <li class=md-nav__item> <a href=#webhooks-publish-via-get class=md-nav__link> <span class=md-ellipsis> Webhooks (publish via GET) </span> </a> </li> <li class=md-nav__item> <a href=#updating-deleting-notifications class=md-nav__link> <span class=md-ellipsis> Updating + deleting notifications </span> </a> <nav class=md-nav aria-label="Updating + deleting notifications"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#updating-notifications class=md-nav__link> <span class=md-ellipsis> Updating notifications </span> </a> </li> <li class=md-nav__item> <a href=#clearing-notifications class=md-nav__link> <span class=md-ellipsis> Clearing notifications </span> </a> </li> <li class=md-nav__item> <a href=#deleting-notifications class=md-nav__link> <span class=md-ellipsis> Deleting notifications </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#authentication class=md-nav__link> <span class=md-ellipsis> Authentication </span> </a> <nav class=md-nav aria-label=Authentication> <ul class=md-nav__list> <li class=md-nav__item> <a href=#username-password class=md-nav__link> <span class=md-ellipsis> Username + password </span> </a> </li> <li class=md-nav__item> <a href=#access-tokens class=md-nav__link> <span class=md-ellipsis> Access tokens </span> </a> </li> <li class=md-nav__item> <a href=#query-param class=md-nav__link> <span class=md-ellipsis> Query param </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-features class=md-nav__link> <span class=md-ellipsis> Advanced features </span> </a> <nav class=md-nav aria-label="Advanced features"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#message-caching class=md-nav__link> <span class=md-ellipsis> Message caching </span> </a> </li> <li class=md-nav__item> <a href=#disable-firebase class=md-nav__link> <span class=md-ellipsis> Disable Firebase </span> </a> </li> <li class=md-nav__item> <a href=#unifiedpush class=md-nav__link> <span class=md-ellipsis> UnifiedPush </span> </a> </li> <li class=md-nav__item> <a href=#matrix-gateway class=md-nav__link> <span class=md-ellipsis> Matrix Gateway </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#public-topics class=md-nav__link> <span class=md-ellipsis> Public topics </span> </a> </li> <li class=md-nav__item> <a href=#limitations class=md-nav__link> <span class=md-ellipsis> Limitations </span> </a> </li> <li class=md-nav__item> <a href=#list-of-all-parameters class=md-nav__link> <span class=md-ellipsis> List of all parameters </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Subscribing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Subscribing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../subscribe/phone/ class=md-nav__link> <span class=md-ellipsis> From your phone </span> </a> </li> <li class=md-nav__item> <a href=../subscribe/web/ class=md-nav__link> <span class=md-ellipsis> From the Web app </span> </a> </li> <li class=md-nav__item> <a href=../subscribe/pwa/ class=md-nav__link> <span class=md-ellipsis> From the Desktop </span> </a> </li> <li class=md-nav__item> <a href=../subscribe/cli/ class=md-nav__link> <span class=md-ellipsis> From the CLI </span> </a> </li> <li class=md-nav__item> <a href=../subscribe/api/ class=md-nav__link> <span class=md-ellipsis> Using the API </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Self-hosting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Self-hosting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../config/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Other things </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Other things </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../faq/ class=md-nav__link> <span class=md-ellipsis> FAQs </span> </a> </li> <li class=md-nav__item> <a href=../examples/ class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> <li class=md-nav__item> <a href=../integrations/ class=md-nav__link> <span class=md-ellipsis> Integrations + projects </span> </a> </li> <li class=md-nav__item> <a href=../releases/ class=md-nav__link> <span class=md-ellipsis> Release notes </span> </a> </li> <li class=md-nav__item> <a href=../emojis/ class=md-nav__link> <span class=md-ellipsis> Emojis ü•≥ üéâ </span> </a> </li> <li class=md-nav__item> <a href=template-functions/ class=md-nav__link> <span class=md-ellipsis> Template functions </span> </a> </li> <li class=md-nav__item> <a href=../troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> <li class=md-nav__item> <a href=../known-issues/ class=md-nav__link> <span class=md-ellipsis> Known issues </span> </a> </li> <li class=md-nav__item> <a href=../deprecations/ class=md-nav__link> <span class=md-ellipsis> Deprecation notices </span> </a> </li> <li class=md-nav__item> <a href=../develop/ class=md-nav__link> <span class=md-ellipsis> Development </span> </a> </li> <li class=md-nav__item> <a href=../contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> <li class=md-nav__item> <a href=../privacy/ class=md-nav__link> <span class=md-ellipsis> Privacy policy </span> </a> </li> <li class=md-nav__item> <a href=../terms/ class=md-nav__link> <span class=md-ellipsis> Terms of Service </span> </a> </li> <li class=md-nav__item> <a href=../contact/ class=md-nav__link> <span class=md-ellipsis> Contact </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=publishing>Publishing<a class=headerlink href=#publishing title="Permanent link">&para;</a></h1> <p>Publishing messages can be done via HTTP PUT/POST or via the <a href=../subscribe/cli/#publish-messages>ntfy CLI</a> (<a href=../install/ >install instructions</a>). Topics are created on the fly by subscribing or publishing to them. Because there is no sign-up, <strong>the topic is essentially a password</strong>, so pick something that's not easily guessable.</p> <p>Here's an example showing how to publish a simple message using a POST request:</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:8><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><input id=__tabbed_1_3 name=__tabbed_1 type=radio><input id=__tabbed_1_4 name=__tabbed_1 type=radio><input id=__tabbed_1_5 name=__tabbed_1 type=radio><input id=__tabbed_1_6 name=__tabbed_1 type=radio><input id=__tabbed_1_7 name=__tabbed_1 type=radio><input id=__tabbed_1_8 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Command line (curl)</label><label for=__tabbed_1_2>ntfy CLI</label><label for=__tabbed_1_3>HTTP</label><label for=__tabbed_1_4>JavaScript</label><label for=__tabbed_1_5>Go</label><label for=__tabbed_1_6>PowerShell</label><label for=__tabbed_1_7>Python</label><label for=__tabbed_1_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl -d &quot;Backup successful üòÄ&quot; ntfy.sh/mytopic
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish mytopic &quot;Backup successful üòÄ&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mytopic</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

Backup successful üòÄ
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// PUT works too</span>
<span class=w>  </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Backup successful üòÄ&#39;</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>http</span><span class=p>.</span><span class=nx>Post</span><span class=p>(</span><span class=s>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;text/plain&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Backup successful üòÄ&quot;</span><span class=p>))</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Backup successful&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span> 
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Backup successful üòÄ&quot;</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=n>encoding</span><span class=o>=</span><span class=s1>&#39;utf-8&#39;</span><span class=p>))</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=c1>// PUT also works</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Content-Type: text/plain&#39;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Backup successful üòÄ&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>If you have the <a href=../subscribe/phone/ >Android app</a> installed on your phone, this will create a notification that looks like this:</p> <figure> <p><img alt="basic notification" src=../static/img/android-screenshot-basic-notification.png width=500> </p> <figcaption>Android notification</figcaption> </figure> <p>There are more features related to publishing messages: You can set a <a href=#message-priority>notification priority</a>, a <a href=#message-title>title</a>, and <a href=#tags-emojis>tag messages</a> ü•≥ üéâ. Here's an example that uses some of them at together:</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:8><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><input id=__tabbed_2_3 name=__tabbed_2 type=radio><input id=__tabbed_2_4 name=__tabbed_2 type=radio><input id=__tabbed_2_5 name=__tabbed_2 type=radio><input id=__tabbed_2_6 name=__tabbed_2 type=radio><input id=__tabbed_2_7 name=__tabbed_2 type=radio><input id=__tabbed_2_8 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>Command line (curl)</label><label for=__tabbed_2_2>ntfy CLI</label><label for=__tabbed_2_3>HTTP</label><label for=__tabbed_2_4>JavaScript</label><label for=__tabbed_2_5>Go</label><label for=__tabbed_2_6>PowerShell</label><label for=__tabbed_2_7>Python</label><label for=__tabbed_2_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
  -H &quot;Title: Unauthorized access detected&quot; \
  -H &quot;Priority: urgent&quot; \
  -H &quot;Tags: warning,skull&quot; \
  -d &quot;Remote access to phils-laptop detected. Act right away.&quot; \
  ntfy.sh/phil_alerts
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --title &quot;Unauthorized access detected&quot; \
    --tags warning,skull \
    --priority urgent \
    mytopic \
    &quot;Remote access to phils-laptop detected. Act right away.&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/phil_alerts</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Title</span><span class=o>:</span> <span class=l>Unauthorized access detected</span>
<span class=na>Priority</span><span class=o>:</span> <span class=l>urgent</span>
<span class=na>Tags</span><span class=o>:</span> <span class=l>warning,skull</span>

Remote access to phils-laptop detected. Act right away.
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/phil_alerts&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// PUT works too</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Remote access to phils-laptop detected. Act right away.&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=s1>&#39;Title&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Unauthorized access detected&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Priority&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;urgent&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Tags&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;warning,skull&#39;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/phil_alerts&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Remote access to phils-laptop detected. Act right away.&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Title&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Unauthorized access detected&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Priority&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;urgent&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Tags&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;warning,skull&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/phil_alerts&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Title</span> <span class=p>=</span> <span class=s2>&quot;Unauthorized access detected&quot;</span>
    <span class=n>Priority</span> <span class=p>=</span> <span class=s2>&quot;urgent&quot;</span>
    <span class=n>Tags</span> <span class=p>=</span> <span class=s2>&quot;warning,skull&quot;</span>
  <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Remote access to phils-laptop detected. Act right away.&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/phil_alerts&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Remote access to phils-laptop detected. Act right away.&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span>
        <span class=s2>&quot;Title&quot;</span><span class=p>:</span> <span class=s2>&quot;Unauthorized access detected&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Priority&quot;</span><span class=p>:</span> <span class=s2>&quot;urgent&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Tags&quot;</span><span class=p>:</span> <span class=s2>&quot;warning,skull&quot;</span>
    <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/phil_alerts&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=c1>// PUT also works</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Title: Unauthorized access detected</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Priority: urgent</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Tags: warning,skull&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Remote access to phils-laptop detected. Act right away.&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <figure> <p><img alt="priority notification" src=../static/img/priority-notification.png width=500> </p> <figcaption>Urgent notification with tags and title</figcaption> </figure> <p>You can also do multi-line messages. Here's an example using a <a href=#click-action>click action</a>, an <a href=#action-buttons>action button</a>, an <a href=#attach-file-from-a-url>external image attachment</a> and <a href=#e-mail-publishing>email publishing</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=3:8><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><input id=__tabbed_3_3 name=__tabbed_3 type=radio><input id=__tabbed_3_4 name=__tabbed_3 type=radio><input id=__tabbed_3_5 name=__tabbed_3 type=radio><input id=__tabbed_3_6 name=__tabbed_3 type=radio><input id=__tabbed_3_7 name=__tabbed_3 type=radio><input id=__tabbed_3_8 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>Command line (curl)</label><label for=__tabbed_3_2>ntfy CLI</label><label for=__tabbed_3_3>HTTP</label><label for=__tabbed_3_4>JavaScript</label><label for=__tabbed_3_5>Go</label><label for=__tabbed_3_6>PowerShell</label><label for=__tabbed_3_7>Python</label><label for=__tabbed_3_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
  -H &quot;Click: https://home.nest.com/&quot; \
  -H &quot;Attach: https://nest.com/view/yAxkasd.jpg&quot; \
  -H &quot;Actions: http, Open door, https://api.nest.com/open/yAxkasd, clear=true&quot; \
  -H &quot;Email: phil@example.com&quot; \
  -d &quot;There&#39;s someone at the door. üê∂

Please check if it&#39;s a good boy or a hooman. 
Doggies have been known to ring the doorbell.&quot; \
  ntfy.sh/mydoorbell
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --click=&quot;https://home.nest.com/&quot; \
    --attach=&quot;https://nest.com/view/yAxkasd.jpg&quot; \
    --actions=&quot;http, Open door, https://api.nest.com/open/yAxkasd, clear=true&quot; \
    --email=&quot;phil@example.com&quot; \
    mydoorbell \
    &quot;There&#39;s someone at the door. üê∂

Please check if it&#39;s a good boy or a hooman. 
Doggies have been known to ring the doorbell.&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mydoorbell</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Click</span><span class=o>:</span> <span class=l>https://home.nest.com/</span>
<span class=na>Attach</span><span class=o>:</span> <span class=l>https://nest.com/view/yAxkasd.jpg</span>
<span class=na>Actions</span><span class=o>:</span> <span class=l>http, Open door, https://api.nest.com/open/yAxkasd, clear=true</span>
<span class=na>Email</span><span class=o>:</span> <span class=l>phil@example.com</span>

There&#39;s someone at the door. üê∂

Please check if it&#39;s a good boy or a hooman. 
Doggies have been known to ring the doorbell.
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mydoorbell&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// PUT works too</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=s1>&#39;Click&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;https://home.nest.com/&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Attach&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;https://nest.com/view/yAxkasd.jpg&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Actions&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;http, Open door, https://api.nest.com/open/yAxkasd, clear=true&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Email&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;phil@example.com&#39;</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=sb>`There&#39;s someone at the door. üê∂</span>

<span class=sb>Please check if it&#39;s a good boy or a hooman. </span>
<span class=sb>Doggies have been known to ring the doorbell.`</span><span class=p>,</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mydoorbell&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>`There&#39;s someone at the door. üê∂</span>

<span class=s>Please check if it&#39;s a good boy or a hooman. </span>
<span class=s>Doggies have been known to ring the doorbell.`</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Click&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://home.nest.com/&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Attach&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://nest.com/view/yAxkasd.jpg&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Actions&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;http, Open door, https://api.nest.com/open/yAxkasd, clear=true&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Email&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;phil@example.com&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/mydoorbell&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Click</span> <span class=p>=</span> <span class=s2>&quot;https://home.nest.com&quot;</span>
    <span class=n>Attach</span> <span class=p>=</span> <span class=s2>&quot;https://nest.com/view/yAxksd.jpg&quot;</span>
    <span class=n>Actions</span> <span class=p>=</span> <span class=s2>&quot;http, Open door, https://api.nest.com/open/yAxkasd, clear=true&quot;</span>
    <span class=n>Email</span> <span class=p>=</span> <span class=s2>&quot;phil@example.com&quot;</span>
  <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;There&#39;s someone at the door. üê∂</span><span class=se>`n</span>
<span class=s2>  </span><span class=se>`n</span>
<span class=s2>  Please check if it&#39;s a good boy or a hooman.</span><span class=se>`n</span>
<span class=s2>  Doggies have been known to ring the doorbell.</span><span class=se>`n</span><span class=s2>&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mydoorbell&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;&quot;&quot;There&#39;s someone at the door. üê∂</span>

<span class=s2>Please check if it&#39;s a good boy or a hooman.</span>
<span class=s2>Doggies have been known to ring the doorbell.&quot;&quot;&quot;</span><span class=o>.</span><span class=n>encode</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>),</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span>
        <span class=s2>&quot;Click&quot;</span><span class=p>:</span> <span class=s2>&quot;https://home.nest.com/&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Attach&quot;</span><span class=p>:</span> <span class=s2>&quot;https://nest.com/view/yAxkasd.jpg&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Actions&quot;</span><span class=p>:</span> <span class=s2>&quot;http, Open door, https://api.nest.com/open/yAxkasd, clear=true&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Email&quot;</span><span class=p>:</span> <span class=s2>&quot;phil@example.com&quot;</span>
    <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mydoorbell&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=c1>// PUT also works</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Click: https://home.nest.com/</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Attach: https://nest.com/view/yAxkasd.jpg</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Actions&quot;</span><span class=o>:</span> <span class=s2>&quot;http, Open door, https://api.nest.com/open/yAxkasd, clear=true</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Email&quot;</span><span class=o>:</span> <span class=s2>&quot;phil@example.com</span><span class=se>\r\n</span><span class=s2>&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;There\&#39;s someone at the door. üê∂</span>

<span class=s1>Please check if it\&#39;s a good boy or a hooman.</span>
<span class=s1>Doggies have been known to ring the doorbell.&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <figure> <p><img alt="priority notification" src=../static/img/android-screenshot-notification-multiline.jpg width=500> </p> <figcaption>Notification using a click action, a user action, with an external image attachment and forwarded via email</figcaption> </figure> <h2 id=message-title>Message title<a class=headerlink href=#message-title title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>The notification title is typically set to the topic short URL (e.g. <code>ntfy.sh/mytopic</code>). To override the title, you can set the <code>X-Title</code> header (or any of its aliases: <code>Title</code>, <code>ti</code>, or <code>t</code>).</p> <div class="tabbed-set tabbed-alternate" data-tabs=4:8><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><input id=__tabbed_4_2 name=__tabbed_4 type=radio><input id=__tabbed_4_3 name=__tabbed_4 type=radio><input id=__tabbed_4_4 name=__tabbed_4 type=radio><input id=__tabbed_4_5 name=__tabbed_4 type=radio><input id=__tabbed_4_6 name=__tabbed_4 type=radio><input id=__tabbed_4_7 name=__tabbed_4 type=radio><input id=__tabbed_4_8 name=__tabbed_4 type=radio><div class=tabbed-labels><label for=__tabbed_4_1>Command line (curl)</label><label for=__tabbed_4_2>ntfy CLI</label><label for=__tabbed_4_3>HTTP</label><label for=__tabbed_4_4>JavaScript</label><label for=__tabbed_4_5>Go</label><label for=__tabbed_4_6>PowerShell</label><label for=__tabbed_4_7>Python</label><label for=__tabbed_4_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl -H &quot;X-Title: Dogs are better than cats&quot; -d &quot;Oh my ...&quot; ntfy.sh/controversial
curl -H &quot;Title: Dogs are better than cats&quot; -d &quot;Oh my ...&quot; ntfy.sh/controversial
curl -H &quot;t: Dogs are better than cats&quot; -d &quot;Oh my ...&quot; ntfy.sh/controversial
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    -t &quot;Dogs are better than cats&quot; \
    controversial &quot;Oh my ...&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/controversial</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Title</span><span class=o>:</span> <span class=l>Dogs are better than cats</span>

Oh my ...
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/controversial&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Oh my ...&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;Title&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Dogs are better than cats&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/controversial&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Oh my ...&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Title&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Dogs are better than cats&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/controversial&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Title</span> <span class=p>=</span> <span class=s2>&quot;Dogs are better than cats&quot;</span>
  <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Oh my ...&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/controversial&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Oh my ...&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Title&quot;</span><span class=p>:</span> <span class=s2>&quot;Dogs are better than cats&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/controversial&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Title: Dogs are better than cats&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Oh my ...&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <figure> <p><img alt="notification with title" src=../static/img/notification-with-title.png width=500> </p> <figcaption>Detail view of notification with title</figcaption> </figure> <div class="admonition info"> <p class=admonition-title>Info</p> <p>ntfy supports UTF-8 in HTTP headers, but <a href=https://www.jmix.io/blog/utf-8-in-http-headers/ >not every library or programming language does</a>. If non-ASCII characters are causing issues for you in the title (i.e. you're seeing <code>?</code> symbols), you may also encode any header (including the title) as <a href=https://datatracker.ietf.org/doc/html/rfc2047#section-2>RFC 2047</a>, e.g. <code>=?UTF-8?B?8J+HqfCfh6o=?=</code> (<a href=https://en.wikipedia.org/wiki/Base64>base64</a>), or <code>=?UTF-8?Q?=C3=84pfel?=</code> (<a href=https://en.wikipedia.org/wiki/Quoted-printable>quoted-printable</a>).</p> </div> <h2 id=message-priority>Message priority<a class=headerlink href=#message-priority title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>All messages have a priority, which defines how urgently your phone notifies you. On Android, you can set custom notification sounds and vibration patterns on your phone to map to these priorities (see <a href=../subscribe/phone/ >Android config</a>).</p> <p>The following priorities exist:</p> <table> <thead> <tr> <th>Priority</th> <th>Icon</th> <th>ID</th> <th>Name</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>Max priority</td> <td><img alt="min priority" src=../static/img/priority-5.svg></td> <td><code>5</code></td> <td><code>max</code>/<code>urgent</code></td> <td>Really long vibration bursts, default notification sound with a pop-over notification.</td> </tr> <tr> <td>High priority</td> <td><img alt="min priority" src=../static/img/priority-4.svg></td> <td><code>4</code></td> <td><code>high</code></td> <td>Long vibration burst, default notification sound with a pop-over notification.</td> </tr> <tr> <td><strong>Default priority</strong></td> <td><em>(none)</em></td> <td><code>3</code></td> <td><code>default</code></td> <td>Short default vibration and sound. Default notification behavior.</td> </tr> <tr> <td>Low priority</td> <td><img alt="min priority" src=../static/img/priority-2.svg></td> <td><code>2</code></td> <td><code>low</code></td> <td>No vibration or sound. Notification will not visibly show up until notification drawer is pulled down.</td> </tr> <tr> <td>Min priority</td> <td><img alt="min priority" src=../static/img/priority-1.svg></td> <td><code>1</code></td> <td><code>min</code></td> <td>No vibration or sound. The notification will be under the fold in "Other notifications".</td> </tr> </tbody> </table> <p>You can set the priority with the header <code>X-Priority</code> (or any of its aliases: <code>Priority</code>, <code>prio</code>, or <code>p</code>).</p> <div class="tabbed-set tabbed-alternate" data-tabs=5:8><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><input id=__tabbed_5_2 name=__tabbed_5 type=radio><input id=__tabbed_5_3 name=__tabbed_5 type=radio><input id=__tabbed_5_4 name=__tabbed_5 type=radio><input id=__tabbed_5_5 name=__tabbed_5 type=radio><input id=__tabbed_5_6 name=__tabbed_5 type=radio><input id=__tabbed_5_7 name=__tabbed_5 type=radio><input id=__tabbed_5_8 name=__tabbed_5 type=radio><div class=tabbed-labels><label for=__tabbed_5_1>Command line (curl)</label><label for=__tabbed_5_2>ntfy CLI</label><label for=__tabbed_5_3>HTTP</label><label for=__tabbed_5_4>JavaScript</label><label for=__tabbed_5_5>Go</label><label for=__tabbed_5_6>PowerShell</label><label for=__tabbed_5_7>Python</label><label for=__tabbed_5_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl -H &quot;X-Priority: 5&quot; -d &quot;An urgent message&quot; ntfy.sh/phil_alerts
curl -H &quot;Priority: low&quot; -d &quot;Low priority message&quot; ntfy.sh/phil_alerts
curl -H p:4 -d &quot;A high priority message&quot; ntfy.sh/phil_alerts
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \ 
    -p 5 \
    phil_alerts An urgent message
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/phil_alerts</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Priority</span><span class=o>:</span> <span class=l>5</span>

An urgent message
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/phil_alerts&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;An urgent message&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;Priority&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;5&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/phil_alerts&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;An urgent message&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Priority&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;5&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s1>&#39;POST&#39;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/phil_alerts&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Priority</span> <span class=p>=</span> <span class=s2>&quot;5&quot;</span>
  <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;An urgent message&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/phil_alerts&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;An urgent message&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Priority&quot;</span><span class=p>:</span> <span class=s2>&quot;5&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/phil_alerts&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Priority: 5&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;An urgent message&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <figure> <p><img alt="priority notification" src=../static/img/priority-detail-overview.png width=500> </p> <figcaption>Detail view of priority notifications</figcaption> </figure> <h2 id=tags-emojis>Tags &amp; emojis ü•≥ üéâ<a class=headerlink href=#tags-emojis title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>You can tag messages with emojis and other relevant strings:</p> <ul> <li><strong>Emojis</strong>: If a tag matches an <a href=../emojis/ >emoji short code</a>, it'll be converted to an emoji and prepended to title or message.</li> <li><strong>Other tags:</strong> If a tag doesn't match, it will be listed below the notification. </li> </ul> <p>This feature is useful for things like warnings (‚ö†Ô∏è, Ô∏èüö®, or üö©), but also to simply tag messages otherwise (e.g. script names, hostnames, etc.). Use <a href=../emojis/ >the emoji short code list</a> to figure out what tags can be converted to emojis. Here's an <strong>excerpt of emojis</strong> I've found very useful in alert messages:</p> <table class=remove-md-box><tr> <td> <table><thead><tr><th>Tag</th><th>Emoji</th></tr></thead><tbody> <tr><td><code>+1</code></td><td>üëç</td></tr> <tr><td><code>partying_face</code></td><td>ü•≥</td></tr> <tr><td><code>tada</code></td><td>üéâ</td></tr> <tr><td><code>heavy_check_mark</code></td><td>‚úîÔ∏è</td></tr> <tr><td><code>loudspeaker</code></td><td>üì¢</td></tr> <tr><td>...</td><td>...</td></tr> </tbody></table> </td> <td> <table><thead><tr><th>Tag</th><th>Emoji</th></tr></thead><tbody> <tr><td><code>-1</code></td><td>üëéÔ∏è</td></tr> <tr><td><code>warning</code></td><td>‚ö†Ô∏è</td></tr> <tr><td><code>rotating_light</code></td><td>Ô∏èüö®</td></tr> <tr><td><code>triangular_flag_on_post</code></td><td>üö©</td></tr> <tr><td><code>skull</code></td><td>üíÄ</td></tr> <tr><td>...</td><td>...</td></tr> </tbody></table> </td> <td> <table><thead><tr><th>Tag</th><th>Emoji</th></tr></thead><tbody> <tr><td><code>facepalm</code></td><td>ü§¶</td></tr> <tr><td><code>no_entry</code></td><td>‚õî</td></tr> <tr><td><code>no_entry_sign</code></td><td>üö´</td></tr> <tr><td><code>cd</code></td><td>üíø</td></tr> <tr><td><code>computer</code></td><td>üíª</td></tr> <tr><td>...</td><td>...</td></tr> </tbody></table> </td> </tr></table> <p>You can set tags with the <code>X-Tags</code> header (or any of its aliases: <code>Tags</code>, <code>tag</code>, or <code>ta</code>). Specify multiple tags by separating them with a comma, e.g. <code>tag1,tag2,tag3</code>.</p> <div class="tabbed-set tabbed-alternate" data-tabs=6:8><input checked=checked id=__tabbed_6_1 name=__tabbed_6 type=radio><input id=__tabbed_6_2 name=__tabbed_6 type=radio><input id=__tabbed_6_3 name=__tabbed_6 type=radio><input id=__tabbed_6_4 name=__tabbed_6 type=radio><input id=__tabbed_6_5 name=__tabbed_6 type=radio><input id=__tabbed_6_6 name=__tabbed_6 type=radio><input id=__tabbed_6_7 name=__tabbed_6 type=radio><input id=__tabbed_6_8 name=__tabbed_6 type=radio><div class=tabbed-labels><label for=__tabbed_6_1>Command line (curl)</label><label for=__tabbed_6_2>ntfy CLI</label><label for=__tabbed_6_3>HTTP</label><label for=__tabbed_6_4>JavaScript</label><label for=__tabbed_6_5>Go</label><label for=__tabbed_6_6>PowerShell</label><label for=__tabbed_6_7>Python</label><label for=__tabbed_6_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl -H &quot;X-Tags: warning,mailsrv13,daily-backup&quot; -d &quot;Backup of mailsrv13 failed&quot; ntfy.sh/backups
curl -H &quot;Tags: horse,unicorn&quot; -d &quot;Unicorns are just horses with unique horns&quot; ntfy.sh/backups
curl -H ta:dog -d &quot;Dogs are awesome&quot; ntfy.sh/backups
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --tags=warning,mailsrv13,daily-backup \
    backups &quot;Backup of mailsrv13 failed&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/backups</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Tags</span><span class=o>:</span> <span class=l>warning,mailsrv13,daily-backup</span>

Backup of mailsrv13 failed
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/backups&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Backup of mailsrv13 failed&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;Tags&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;warning,mailsrv13,daily-backup&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/backups&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Backup of mailsrv13 failed&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Tags&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;warning,mailsrv13,daily-backup&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/backups&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Tags</span> <span class=p>=</span> <span class=s2>&quot;warning,mailsrv13,daily-backup&quot;</span>
  <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Backup of mailsrv13 failed&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/backups&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Backup of mailsrv13 failed&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Tags&quot;</span><span class=p>:</span> <span class=s2>&quot;warning,mailsrv13,daily-backup&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/backups&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Tags: warning,mailsrv13,daily-backup&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Backup of mailsrv13 failed&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <figure> <p><img alt="priority notification" src=../static/img/notification-with-tags.png width=500> </p> <figcaption>Detail view of notifications with tags</figcaption> </figure> <div class="admonition info"> <p class=admonition-title>Info</p> <p>ntfy supports UTF-8 in HTTP headers, but <a href=https://www.jmix.io/blog/utf-8-in-http-headers/ >not every library or programming language does</a>. If non-ASCII characters are causing issues for you in the title (i.e. you're seeing <code>?</code> symbols), you may also encode the tags header or individual tags as <a href=https://datatracker.ietf.org/doc/html/rfc2047#section-2>RFC 2047</a>, e.g. <code>tag1,=?UTF-8?B?8J+HqfCfh6o=?=</code> (<a href=https://en.wikipedia.org/wiki/Base64>base64</a>), or <code>=?UTF-8?Q?=C3=84pfel?=,tag2</code> (<a href=https://en.wikipedia.org/wiki/Quoted-printable>quoted-printable</a>).</p> </div> <h2 id=markdown-formatting>Markdown formatting<a class=headerlink href=#markdown-formatting title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>You can format messages using <a href=https://www.markdownguide.org/basic-syntax/ >Markdown</a> ü§©. That means you can use <strong>bold text</strong>, <em>italicized text</em>, links, images, and more. Supported Markdown features (web app only for now):</p> <ul> <li><a href=https://www.markdownguide.org/basic-syntax/#emphasis>Emphasis</a> such as <strong>bold</strong> (<code>**bold**</code>), <em>italics</em> (<code>*italics*</code>)</li> <li><a href=https://www.markdownguide.org/basic-syntax/#links>Links</a> (<code>[some tool](https://ntfy.sh)</code>)</li> <li><a href=https://www.markdownguide.org/basic-syntax/#images>Images</a> (<code>![some image](https://bing.com/logo.png)</code>)</li> <li><a href=https://www.markdownguide.org/basic-syntax/#code-blocks>Code blocks</a> (<code>```code blocks```</code>) and <a href=https://www.markdownguide.org/basic-syntax/#inline-code>inline code</a> (<code>`inline code`</code>)</li> <li><a href=https://www.markdownguide.org/basic-syntax/#headings>Headings</a> (<code># headings</code>, <code>## headings</code>, etc.)</li> <li><a href=https://www.markdownguide.org/basic-syntax/#lists>Lists</a> (<code>- lists</code>, <code>1. lists</code>, etc.)</li> <li><a href=https://www.markdownguide.org/basic-syntax/#blockquotes>Blockquotes</a> (<code>&gt; blockquotes</code>)</li> <li><a href=https://www.markdownguide.org/basic-syntax/#horizontal-rules>Horizontal rules</a> (<code>---</code>)</li> </ul> <p>By default, messages sent to ntfy are rendered as plain text. To enable Markdown, set the <code>X-Markdown</code> header (or any of its aliases: <code>Markdown</code>, or <code>md</code>) to <code>true</code> (or <code>1</code> or <code>yes</code>), or set the <code>Content-Type</code> header to <code>text/markdown</code>. Here's an example of how to enable Markdown formatting:</p> <div class="tabbed-set tabbed-alternate" data-tabs=7:8><input checked=checked id=__tabbed_7_1 name=__tabbed_7 type=radio><input id=__tabbed_7_2 name=__tabbed_7 type=radio><input id=__tabbed_7_3 name=__tabbed_7 type=radio><input id=__tabbed_7_4 name=__tabbed_7 type=radio><input id=__tabbed_7_5 name=__tabbed_7 type=radio><input id=__tabbed_7_6 name=__tabbed_7 type=radio><input id=__tabbed_7_7 name=__tabbed_7 type=radio><input id=__tabbed_7_8 name=__tabbed_7 type=radio><div class=tabbed-labels><label for=__tabbed_7_1>Command line (curl)</label><label for=__tabbed_7_2>ntfy CLI</label><label for=__tabbed_7_3>HTTP</label><label for=__tabbed_7_4>JavaScript</label><label for=__tabbed_7_5>Go</label><label for=__tabbed_7_6>PowerShell</label><label for=__tabbed_7_7>Python</label><label for=__tabbed_7_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -d &quot;Look ma, **bold text**, *italics*, ...&quot; \
    -H &quot;Markdown: yes&quot; \
    ntfy.sh/mytopic
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --markdown \
    mytopic \
    &quot;Look ma, **bold text**, *italics*, ...&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mytopic</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Markdown</span><span class=o>:</span> <span class=l>yes</span>

Look ma, **bold text**, *italics*, ...
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// PUT works too</span>
<span class=w>  </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Look ma, **bold text**, *italics*, ...&#39;</span><span class=p>,</span>
<span class=w>  </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;Markdown&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;yes&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>http</span><span class=p>.</span><span class=nx>Post</span><span class=p>(</span><span class=s>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;text/markdown&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Look ma, **bold text**, *italics*, ...&quot;</span><span class=p>))</span>

<span class=c1>// or</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span><span class=w> </span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Look ma, **bold text**, *italics*, ...&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Markdown&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;yes&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Look ma, **bold text**, *italics*, ...&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Markdown</span> <span class=p>=</span> <span class=s2>&quot;yes&quot;</span>
  <span class=p>}</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span> 
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Look ma, **bold text**, *italics*, ...&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Markdown&quot;</span><span class=p>:</span> <span class=s2>&quot;yes&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=c1>// PUT also works</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Content-Type: text/markdown&#39;</span><span class=p>,</span> <span class=c1>// !</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Look ma, **bold text**, *italics*, ...&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>Here's what that looks like in the web app:</p> <figure> <p><img alt=markdown src=../static/img/web-markdown.png width=500> </p> <figcaption>Markdown formatting in the web app</figcaption> </figure> <h2 id=click-action>Click action<a class=headerlink href=#click-action title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>You can define which URL to open when a notification is clicked. This may be useful if your notification is related to a Zabbix alert or a transaction that you'd like to provide the deep-link for. Tapping the notification will open the web browser (or the app) and open the website.</p> <p>To define a click action for the notification, pass a URL as the value of the <code>X-Click</code> header (or its alias <code>Click</code>). If you pass a website URL (<code>http://</code> or <code>https://</code>) the web browser will open. If you pass another URI that can be handled by another app, the responsible app may open. </p> <p>Examples:</p> <ul> <li><code>http://</code> or <code>https://</code> will open your browser (or an app if it registered for a URL)</li> <li><code>mailto:</code> links will open your mail app, e.g. <code>mailto:phil@example.com</code></li> <li><code>geo:</code> links will open Google Maps, e.g. <code>geo:0,0?q=1600+Amphitheatre+Parkway,+Mountain+View,+CA</code></li> <li><code>ntfy://</code> links will open ntfy (see <a href=../subscribe/phone/#ntfy-links>ntfy:// links</a>), e.g. <code>ntfy://ntfy.sh/stats</code></li> <li><code>twitter://</code> links will open Twitter, e.g. <code>twitter://user?screen_name=..</code></li> <li>...</li> </ul> <p>Here's an example that will open Reddit when the notification is clicked:</p> <div class="tabbed-set tabbed-alternate" data-tabs=8:8><input checked=checked id=__tabbed_8_1 name=__tabbed_8 type=radio><input id=__tabbed_8_2 name=__tabbed_8 type=radio><input id=__tabbed_8_3 name=__tabbed_8 type=radio><input id=__tabbed_8_4 name=__tabbed_8 type=radio><input id=__tabbed_8_5 name=__tabbed_8 type=radio><input id=__tabbed_8_6 name=__tabbed_8 type=radio><input id=__tabbed_8_7 name=__tabbed_8 type=radio><input id=__tabbed_8_8 name=__tabbed_8 type=radio><div class=tabbed-labels><label for=__tabbed_8_1>Command line (curl)</label><label for=__tabbed_8_2>ntfy CLI</label><label for=__tabbed_8_3>HTTP</label><label for=__tabbed_8_4>JavaScript</label><label for=__tabbed_8_5>Go</label><label for=__tabbed_8_6>PowerShell</label><label for=__tabbed_8_7>Python</label><label for=__tabbed_8_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -d &quot;New messages on Reddit&quot; \
    -H &quot;Click: https://www.reddit.com/message/messages&quot; \
    ntfy.sh/reddit_alerts
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --click=&quot;https://www.reddit.com/message/messages&quot; \
    reddit_alerts &quot;New messages on Reddit&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/reddit_alerts</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Click</span><span class=o>:</span> <span class=l>https://www.reddit.com/message/messages </span>

New messages on Reddit
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/reddit_alerts&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;New messages on Reddit&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;Click&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;https://www.reddit.com/message/messages&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/reddit_alerts&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;New messages on Reddit&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Click&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://www.reddit.com/message/messages&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/reddit_alerts&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Click</span><span class=p>=</span><span class=s2>&quot;https://www.reddit.com/message/messages&quot;</span> <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;New messages on Reddit&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/reddit_alerts&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;New messages on Reddit&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Click&quot;</span><span class=p>:</span> <span class=s2>&quot;https://www.reddit.com/message/messages&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/reddit_alerts&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Click: https://www.reddit.com/message/messages&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;New messages on Reddit&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <h2 id=icons>Icons<a class=headerlink href=#icons title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span></p> <p>You can include an icon that will appear next to the text of the notification. Simply pass the <code>X-Icon</code> header or query parameter (or its alias <code>Icon</code>) to specify the URL that the icon is located at. The client will automatically download the icon (unless it is already cached locally, and less than 24 hours old), and show it in the notification. Icons are cached locally in the client until the notification is deleted. <strong>Only JPEG and PNG images are supported at this time</strong>.</p> <p>Here's an example showing how to include an icon:</p> <div class="tabbed-set tabbed-alternate" data-tabs=9:8><input checked=checked id=__tabbed_9_1 name=__tabbed_9 type=radio><input id=__tabbed_9_2 name=__tabbed_9 type=radio><input id=__tabbed_9_3 name=__tabbed_9 type=radio><input id=__tabbed_9_4 name=__tabbed_9 type=radio><input id=__tabbed_9_5 name=__tabbed_9 type=radio><input id=__tabbed_9_6 name=__tabbed_9 type=radio><input id=__tabbed_9_7 name=__tabbed_9 type=radio><input id=__tabbed_9_8 name=__tabbed_9 type=radio><div class=tabbed-labels><label for=__tabbed_9_1>Command line (curl)</label><label for=__tabbed_9_2>ntfy CLI</label><label for=__tabbed_9_3>HTTP</label><label for=__tabbed_9_4>JavaScript</label><label for=__tabbed_9_5>Go</label><label for=__tabbed_9_6>PowerShell</label><label for=__tabbed_9_7>Python</label><label for=__tabbed_9_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -H &quot;Icon: https://styles.redditmedia.com/t5_32uhe/styles/communityIcon_xnt6chtnr2j21.png&quot; \
    -H &quot;Title: Kodi: Resuming Playback&quot; \
    -H &quot;Tags: arrow_forward&quot; \
    -d &quot;The Wire, S01E01&quot; \
    ntfy.sh/tvshows
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --icon=&quot;https://styles.redditmedia.com/t5_32uhe/styles/communityIcon_xnt6chtnr2j21.png&quot; \
    --title=&quot;Kodi: Resuming Playback&quot; \
    --tags=&quot;arrow_forward&quot; \
    tvshows \
    &quot;The Wire, S01E01&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/tvshows</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Icon</span><span class=o>:</span> <span class=l>https://styles.redditmedia.com/t5_32uhe/styles/communityIcon_xnt6chtnr2j21.png</span>
<span class=na>Tags</span><span class=o>:</span> <span class=l>arrow_forward</span>
<span class=na>Title</span><span class=o>:</span> <span class=l>Kodi: Resuming Playback</span>

The Wire, S01E01
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/tvshows&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span>
<span class=w>        </span><span class=s1>&#39;Icon&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;https://styles.redditmedia.com/t5_32uhe/styles/communityIcon_xnt6chtnr2j21.png&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Title&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Kodi: Resuming Playback&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Tags&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;arrow_forward&#39;</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;The Wire, S01E01&quot;</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/tvshows&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;The Wire, S01E01&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Icon&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://styles.redditmedia.com/t5_32uhe/styles/communityIcon_xnt6chtnr2j21.png&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Tags&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;arrow_forward&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Title&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Kodi: Resuming Playback&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/tvshows&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Title</span> <span class=p>=</span> <span class=s2>&quot;Kodi: Resuming Playback&quot;</span>
    <span class=n>Tags</span> <span class=p>=</span> <span class=s2>&quot;arrow_forward&quot;</span>
    <span class=n>Icon</span> <span class=p>=</span> <span class=s2>&quot;https://styles.redditmedia.com/t5_32uhe/styles/communityIcon_xnt6chtnr2j21.png&quot;</span>
  <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;The Wire, S01E01&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/tvshows&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;The Wire, S01E01&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span>
        <span class=s2>&quot;Title&quot;</span><span class=p>:</span> <span class=s2>&quot;Kodi: Resuming Playback&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Tags&quot;</span><span class=p>:</span> <span class=s2>&quot;arrow_forward&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Icon&quot;</span><span class=p>:</span> <span class=s2>&quot;https://styles.redditmedia.com/t5_32uhe/styles/communityIcon_xnt6chtnr2j21.png&quot;</span>
    <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/tvshows&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
    <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;PUT&#39;</span><span class=p>,</span>
    <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
        <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span> <span class=c1>// Does not matter</span>
        <span class=s2>&quot;Title: Kodi: Resuming Playback</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
        <span class=s2>&quot;Tags: arrow_forward</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
        <span class=s2>&quot;Icon: https://styles.redditmedia.com/t5_32uhe/styles/communityIcon_xnt6chtnr2j21.png&quot;</span><span class=p>,</span>
    <span class=p>],</span>
    <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;The Wire, S01E01&quot;</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>Here's an example of how it will look on Android:</p> <figure> <p><img alt="file attachment" src=../static/img/android-screenshot-icon.png width=500> </p> <figcaption>Custom icon from an external URL</figcaption> </figure> <h2 id=attachments>Attachments<a class=headerlink href=#attachments title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>You can <strong>send images and other files to your phone</strong> as attachments to a notification. The attachments are then downloaded onto your phone (depending on size and setting automatically), and can be used from the Downloads folder.</p> <p>There are two different ways to send attachments: </p> <ul> <li>sending <a href=#attach-local-file>a local file</a> via PUT, e.g. from <code>~/Flowers/flower.jpg</code> or <code>ringtone.mp3</code></li> <li>or by <a href=#attach-file-from-a-url>passing an external URL</a> as an attachment, e.g. <code>https://f-droid.org/F-Droid.apk</code> </li> </ul> <h3 id=attach-local-file>Attach local file<a class=headerlink href=#attach-local-file title="Permanent link">&para;</a></h3> <p>To <strong>send a file from your computer</strong> as an attachment, you can send it as the PUT request body. If a message is greater than the maximum message size (4,096 bytes) or consists of non UTF-8 characters, the ntfy server will automatically detect the mime type and size, and send the message as an attachment file. To send smaller text-only messages or files as attachments, you must pass a filename by passing the <code>X-Filename</code> header or query parameter (or any of its aliases <code>Filename</code>, <code>File</code> or <code>f</code>). </p> <p>By default, and how ntfy.sh is configured, the <strong>max attachment size is 15 MB</strong> (with 100 MB total per visitor). Attachments <strong>expire after 3 hours</strong>, which typically is plenty of time for the user to download it, or for the Android app to auto-download it. Please also check out the <a href=#limitations>other limits below</a>.</p> <p>Here's an example showing how to upload an image:</p> <div class="tabbed-set tabbed-alternate" data-tabs=10:8><input checked=checked id=__tabbed_10_1 name=__tabbed_10 type=radio><input id=__tabbed_10_2 name=__tabbed_10 type=radio><input id=__tabbed_10_3 name=__tabbed_10 type=radio><input id=__tabbed_10_4 name=__tabbed_10 type=radio><input id=__tabbed_10_5 name=__tabbed_10 type=radio><input id=__tabbed_10_6 name=__tabbed_10 type=radio><input id=__tabbed_10_7 name=__tabbed_10 type=radio><input id=__tabbed_10_8 name=__tabbed_10 type=radio><div class=tabbed-labels><label for=__tabbed_10_1>Command line (curl)</label><label for=__tabbed_10_2>ntfy CLI</label><label for=__tabbed_10_3>HTTP</label><label for=__tabbed_10_4>JavaScript</label><label for=__tabbed_10_5>Go</label><label for=__tabbed_10_6>PowerShell</label><label for=__tabbed_10_7>Python</label><label for=__tabbed_10_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -T flower.jpg \
    -H &quot;Filename: flower.jpg&quot; \
    ntfy.sh/flowers
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --file=flower.jpg \
    flowers
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>PUT</span> <span class=nn>/flowers</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Filename</span><span class=o>:</span> <span class=l>flower.jpg</span>
<span class=na>Content-Type</span><span class=o>:</span> <span class=l>52312</span>

(binary JPEG data)
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/flowers&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;PUT&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&quot;file&quot;</span><span class=p>).</span><span class=nx>files</span><span class=p>[</span><span class=mf>0</span><span class=p>],</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;Filename&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;flower.jpg&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>file</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>os</span><span class=p>.</span><span class=nx>Open</span><span class=p>(</span><span class=s>&quot;flower.jpg&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;PUT&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/flowers&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>file</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Filename&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;flower.jpg&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>Uri</span> <span class=p>=</span> <span class=s2>&quot;ntfy.sh/flowers&quot;</span>
  <span class=n>InFile</span> <span class=p>=</span> <span class=s2>&quot;flower.jpg&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span><span class=s2>&quot;Filename&quot;</span> <span class=p>=</span> <span class=s2>&quot;flower.jpg&quot;</span><span class=p>}</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/flowers&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=nb>open</span><span class=p>(</span><span class=s2>&quot;flower.jpg&quot;</span><span class=p>,</span> <span class=s1>&#39;rb&#39;</span><span class=p>),</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Filename&quot;</span><span class=p>:</span> <span class=s2>&quot;flower.jpg&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/flowers&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;PUT&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: application/octet-stream</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span> <span class=c1>// Does not matter</span>
            <span class=s2>&quot;Filename: flower.jpg&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;flower.jpg&#39;</span><span class=p>)</span> <span class=c1>// Dangerous for large files </span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>Here's what that looks like on Android:</p> <figure> <p><img alt="image attachment" src=../static/img/android-screenshot-attachment-image.png width=500> </p> <figcaption>Image attachment sent from a local file</figcaption> </figure> <h3 id=attach-file-from-a-url>Attach file from a URL<a class=headerlink href=#attach-file-from-a-url title="Permanent link">&para;</a></h3> <p>Instead of sending a local file to your phone, you can use <strong>an external URL</strong> to specify where the attachment is hosted. This could be a Dropbox link, a file from social media, or any other publicly available URL. Since the files are externally hosted, the expiration or size limits from above do not apply here.</p> <p>To attach an external file, simple pass the <code>X-Attach</code> header or query parameter (or any of its aliases <code>Attach</code> or <code>a</code>) to specify the attachment URL. It can be any type of file. </p> <p>ntfy will automatically try to derive the file name from the URL (e.g <code>https://example.com/flower.jpg</code> will yield a filename <code>flower.jpg</code>). To override this filename, you may send the <code>X-Filename</code> header or query parameter (or any of its aliases <code>Filename</code>, <code>File</code> or <code>f</code>).</p> <p>Here's an example showing how to attach an APK file:</p> <div class="tabbed-set tabbed-alternate" data-tabs=11:8><input checked=checked id=__tabbed_11_1 name=__tabbed_11 type=radio><input id=__tabbed_11_2 name=__tabbed_11 type=radio><input id=__tabbed_11_3 name=__tabbed_11 type=radio><input id=__tabbed_11_4 name=__tabbed_11 type=radio><input id=__tabbed_11_5 name=__tabbed_11 type=radio><input id=__tabbed_11_6 name=__tabbed_11 type=radio><input id=__tabbed_11_7 name=__tabbed_11 type=radio><input id=__tabbed_11_8 name=__tabbed_11 type=radio><div class=tabbed-labels><label for=__tabbed_11_1>Command line (curl)</label><label for=__tabbed_11_2>ntfy CLI</label><label for=__tabbed_11_3>HTTP</label><label for=__tabbed_11_4>JavaScript</label><label for=__tabbed_11_5>Go</label><label for=__tabbed_11_6>PowerShell</label><label for=__tabbed_11_7>Python</label><label for=__tabbed_11_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -X POST \
    -H &quot;Attach: https://f-droid.org/F-Droid.apk&quot; \
    ntfy.sh/mydownloads
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --attach=&quot;https://f-droid.org/F-Droid.apk&quot; \
    mydownloads
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mydownloads</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Attach</span><span class=o>:</span> <span class=l>https://f-droid.org/F-Droid.apk</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mydownloads&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;Attach&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;https://f-droid.org/F-Droid.apk&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mydownloads&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>file</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Attach&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://f-droid.org/F-Droid.apk&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/mydownloads&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Attach</span><span class=p>=</span><span class=s2>&quot;https://f-droid.org/F-Droid.apk&quot;</span> <span class=p>}</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mydownloads&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Attach&quot;</span><span class=p>:</span> <span class=s2>&quot;https://f-droid.org/F-Droid.apk&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mydownloads&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
    <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;PUT&#39;</span><span class=p>,</span>
    <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
        <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span> <span class=c1>// Does not matter</span>
        <span class=s2>&quot;Attach: https://f-droid.org/F-Droid.apk&quot;</span><span class=p>,</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <figure> <p><img alt="file attachment" src=../static/img/android-screenshot-attachment-file.png width=500> </p> <figcaption>File attachment sent from an external URL</figcaption> </figure> <h2 id=action-buttons>Action buttons<a class=headerlink href=#action-buttons title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>You can add action buttons to notifications to allow yourself to react to a notification directly. This is incredibly useful and has countless applications. </p> <p>You can control your home appliances (open/close garage door, change temperature on thermostat, ...), react to common monitoring alerts (clear logs when disk is full, ...), and many other things. The sky is the limit.</p> <p>As of today, the following actions are supported:</p> <ul> <li><a href=#open-websiteapp><code>view</code></a>: Opens a website or app when the action button is tapped</li> <li><a href=#send-android-broadcast><code>broadcast</code></a>: Sends an <a href=https://developer.android.com/guide/components/broadcasts>Android broadcast</a> intent when the action button is tapped (only supported on Android)</li> <li><a href=#send-http-request><code>http</code></a>: Sends HTTP POST/GET/PUT request when the action button is tapped</li> <li><a href=#copy-to-clipboard><code>copy</code></a>: Copies a given value to the clipboard when the action button is tapped</li> </ul> <p>Here's an example of what a notification with actions can look like:</p> <figure> <p><img alt="notification with actions" src=../static/img/android-screenshot-notification-actions.png width=500> </p> <figcaption>Notification with two user actions</figcaption> </figure> <h3 id=defining-actions>Defining actions<a class=headerlink href=#defining-actions title="Permanent link">&para;</a></h3> <p>You can define <strong>up to three user actions</strong> in your notifications, using either of the following methods:</p> <ul> <li>In the <a href=#using-a-header><code>X-Actions</code> header</a>, using a simple comma-separated format</li> <li>As a <a href=#using-a-json-array>JSON array</a> in the <code>actions</code> key, when <a href=#publish-as-json>publishing as JSON</a> </li> </ul> <h4 id=using-a-header>Using a header<a class=headerlink href=#using-a-header title="Permanent link">&para;</a></h4> <p>To define actions using the <code>X-Actions</code> header (or any of its aliases: <code>Actions</code>, <code>Action</code>), use the following format:</p> <div class="tabbed-set tabbed-alternate" data-tabs=12:2><input checked=checked id=__tabbed_12_1 name=__tabbed_12 type=radio><input id=__tabbed_12_2 name=__tabbed_12 type=radio><div class=tabbed-labels><label for=__tabbed_12_1>Header format (long)</label><label for=__tabbed_12_2>Header format (short)</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>action=&lt;action1&gt;, label=&lt;label1&gt;, paramN=... [; action=&lt;action2&gt;, label=&lt;label2&gt;, ...]
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>&lt;action1&gt;, &lt;label1&gt;, paramN=... [; &lt;action2&gt;, &lt;label2&gt;, ...]
</code></pre></div> </div> </div> </div> <p>Multiple actions are separated by a semicolon (<code>;</code>), and key/value pairs are separated by commas (<code>,</code>). Values may be quoted with double quotes (<code>"</code>) or single quotes (<code>'</code>) if the value itself contains commas or semicolons. </p> <p>Each action type has a short format where some key prefixes can be omitted:</p> <ul> <li><a href=#open-websiteapp><code>view</code></a>: <code>view, &lt;label&gt;, &lt;url&gt;[, clear=true]</code></li> <li><a href=#send-android-broadcast><code>broadcast</code></a>:<code>broadcast, &lt;label&gt;[, extras.&lt;param&gt;=&lt;value&gt;][, intent=&lt;intent&gt;][, clear=true]</code></li> <li><a href=#send-http-request><code>http</code></a>: <code>http, &lt;label&gt;, &lt;url&gt;[, method=&lt;method&gt;][, headers.&lt;header&gt;=&lt;value&gt;][, body=&lt;body&gt;][, clear=true]</code></li> <li><a href=#copy-to-clipboard><code>copy</code></a>: <code>copy, &lt;label&gt;, &lt;value&gt;[, clear=true]</code></li> </ul> <p>As an example, here's how you can create the above notification using this format. Refer to the <a href=#open-websiteapp><code>view</code> action</a> and <a href=#send-http-request><code>http</code> action</a> section for details on the specific actions:</p> <div class="tabbed-set tabbed-alternate" data-tabs=13:8><input checked=checked id=__tabbed_13_1 name=__tabbed_13 type=radio><input id=__tabbed_13_2 name=__tabbed_13 type=radio><input id=__tabbed_13_3 name=__tabbed_13 type=radio><input id=__tabbed_13_4 name=__tabbed_13 type=radio><input id=__tabbed_13_5 name=__tabbed_13 type=radio><input id=__tabbed_13_6 name=__tabbed_13 type=radio><input id=__tabbed_13_7 name=__tabbed_13 type=radio><input id=__tabbed_13_8 name=__tabbed_13 type=radio><div class=tabbed-labels><label for=__tabbed_13_1>Command line (curl)</label><label for=__tabbed_13_2>ntfy CLI</label><label for=__tabbed_13_3>HTTP</label><label for=__tabbed_13_4>JavaScript</label><label for=__tabbed_13_5>Go</label><label for=__tabbed_13_6>PowerShell</label><label for=__tabbed_13_7>Python</label><label for=__tabbed_13_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>body=&#39;{&quot;temperature&quot;: 65}&#39;
curl \
    -d &quot;You left the house. Turn down the A/C?&quot; \
    -H &quot;Actions: view, Open portal, https://home.nest.com/, clear=true; \
                 http, Turn down, https://api.nest.com/, body=&#39;$body&#39;&quot; \
    ntfy.sh/myhome
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>body=&#39;{&quot;temperature&quot;: 65}&#39;
ntfy publish \
    --actions=&quot;view, Open portal, https://home.nest.com/, clear=true; \
               http, Turn down, https://api.nest.com/, body=&#39;$body&#39;&quot; \
    myhome \
    &quot;You left the house. Turn down the A/C?&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/myhome</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Actions</span><span class=o>:</span> <span class=l>view, Open portal, https://home.nest.com/, clear=true; http, Turn down, https://api.nest.com/, body=&#39;{&quot;temperature&quot;: 65}&#39;</span>

You left the house. Turn down the A/C?
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/myhome&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;You left the house. Turn down the A/C?&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span>
<span class=w>        </span><span class=s1>&#39;Actions&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;view, Open portal, https://home.nest.com/, clear=true; http, Turn down, https://api.nest.com/, body=\&#39;{&quot;temperature&quot;: 65}\&#39;&#39;</span><span class=w> </span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/myhome&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;You left the house. Turn down the A/C?&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Actions&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;view, Open portal, https://home.nest.com/, clear=true; http, Turn down, https://api.nest.com/, body=&#39;{\&quot;temperature\&quot;: 65}&#39;&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/myhome&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Actions</span><span class=p>=</span><span class=s2>&quot;view, Open portal, https://home.nest.com/, clear=true; http, Turn down, https://api.nest.com/, body=&#39;{\&quot;</span><span class=n>temperature</span><span class=p>\</span><span class=s2>&quot;: 65}&#39;&quot;</span>
  <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;You left the house. Turn down the A/C?&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/myhome&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;You left the house. Turn down the A/C?&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Actions&quot;</span><span class=p>:</span> <span class=s2>&quot;view, Open portal, https://home.nest.com/, clear=true; http, Turn down, https://api.nest.com/, body=&#39;{</span><span class=se>\&quot;</span><span class=s2>temperature</span><span class=se>\&quot;</span><span class=s2>: 65}&#39;&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/reddit_alerts&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Actions: view, Open portal, https://home.nest.com/, clear=true; http, Turn down, https://api.nest.com/, body=&#39;{</span><span class=se>\&quot;</span><span class=s2>temperature</span><span class=se>\&quot;</span><span class=s2>: 65}&#39;&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;You left the house. Turn down the A/C?&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <div class="admonition info"> <p class=admonition-title>Info</p> <p>ntfy supports UTF-8 in HTTP headers, but <a href=https://www.jmix.io/blog/utf-8-in-http-headers/ >not every library or programming language does</a>. If non-ASCII characters are causing issues for you in the title (i.e. you're seeing <code>?</code> symbols), you may also encode any header (including actions) as <a href=https://datatracker.ietf.org/doc/html/rfc2047#section-2>RFC 2047</a>, e.g. <code>=?UTF-8?B?8J+HqfCfh6o=?=</code> (<a href=https://en.wikipedia.org/wiki/Base64>base64</a>), or <code>=?UTF-8?Q?=C3=84pfel?=</code> (<a href=https://en.wikipedia.org/wiki/Quoted-printable>quoted-printable</a>).</p> </div> <h4 id=using-a-json-array>Using a JSON array<a class=headerlink href=#using-a-json-array title="Permanent link">&para;</a></h4> <p>Alternatively, the same actions can be defined as <strong>JSON array</strong>, if the notification is defined as part of the JSON body (see <a href=#publish-as-json>publish as JSON</a>):</p> <div class="tabbed-set tabbed-alternate" data-tabs=14:8><input checked=checked id=__tabbed_14_1 name=__tabbed_14 type=radio><input id=__tabbed_14_2 name=__tabbed_14 type=radio><input id=__tabbed_14_3 name=__tabbed_14 type=radio><input id=__tabbed_14_4 name=__tabbed_14 type=radio><input id=__tabbed_14_5 name=__tabbed_14 type=radio><input id=__tabbed_14_6 name=__tabbed_14 type=radio><input id=__tabbed_14_7 name=__tabbed_14 type=radio><input id=__tabbed_14_8 name=__tabbed_14 type=radio><div class=tabbed-labels><label for=__tabbed_14_1>Command line (curl)</label><label for=__tabbed_14_2>ntfy CLI</label><label for=__tabbed_14_3>HTTP</label><label for=__tabbed_14_4>JavaScript</label><label for=__tabbed_14_5>Go</label><label for=__tabbed_14_6>PowerShell</label><label for=__tabbed_14_7>Python</label><label for=__tabbed_14_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl ntfy.sh \
  -d &#39;{
    &quot;topic&quot;: &quot;myhome&quot;,
    &quot;message&quot;: &quot;You left the house. Turn down the A/C?&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;view&quot;,
        &quot;label&quot;: &quot;Open portal&quot;,
        &quot;url&quot;: &quot;https://home.nest.com/&quot;,
        &quot;clear&quot;: true
      },
      {
        &quot;action&quot;: &quot;http&quot;,
        &quot;label&quot;: &quot;Turn down&quot;,
        &quot;url&quot;: &quot;https://api.nest.com/&quot;,
        &quot;body&quot;: &quot;{\&quot;temperature\&quot;: 65}&quot;
      }
    ]
  }&#39;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions &#39;[
        {
            &quot;action&quot;: &quot;view&quot;,
            &quot;label&quot;: &quot;Open portal&quot;,
            &quot;url&quot;: &quot;https://home.nest.com/&quot;,
            &quot;clear&quot;: true
        },
        {
            &quot;action&quot;: &quot;http&quot;,
            &quot;label&quot;: &quot;Turn down&quot;,
            &quot;url&quot;: &quot;https://api.nest.com/&quot;,
            &quot;body&quot;: &quot;{\&quot;temperature\&quot;: 65}&quot;
        }
    ]&#39; \
    myhome \
    &quot;You left the house. Turn down the A/C?&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

{
    &quot;topic&quot;: &quot;myhome&quot;,
    &quot;message&quot;: &quot;You left the house. Turn down the A/C?&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;view&quot;,
        &quot;label&quot;: &quot;Open portal&quot;,
        &quot;url&quot;: &quot;https://home.nest.com/&quot;,
        &quot;clear&quot;: true
      },
      {
        &quot;action&quot;: &quot;http&quot;,
        &quot;label&quot;: &quot;Turn down&quot;,
        &quot;url&quot;: &quot;https://api.nest.com/&quot;,
        &quot;body&quot;: &quot;{\&quot;temperature\&quot;: 65}&quot;
      }
    ]
}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=nb>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>({</span>
<span class=w>        </span><span class=nx>topic</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>message</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;You left the house. Turn down the A/C?&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>actions</span><span class=o>:</span><span class=w> </span><span class=p>[</span>
<span class=w>            </span><span class=p>{</span>
<span class=w>                </span><span class=nx>action</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;view&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>label</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Open portal&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;https://home.nest.com/&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>clear</span><span class=o>:</span><span class=w> </span><span class=kc>true</span>
<span class=w>            </span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span>
<span class=w>                </span><span class=nx>action</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;http&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>label</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Turn down&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;https://api.nest.com/&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;{\&quot;temperature\&quot;: 65}&quot;</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>        </span><span class=p>]</span>
<span class=w>    </span><span class=p>})</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// You should probably use json.Marshal() instead and make a proper struct,</span>
<span class=c1>// but for the sake of the example, this is easier.</span>

<span class=nx>body</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`{</span>
<span class=s>    &quot;topic&quot;: &quot;myhome&quot;,</span>
<span class=s>    &quot;message&quot;: &quot;You left the house. Turn down the A/C?&quot;,</span>
<span class=s>    &quot;actions&quot;: [</span>
<span class=s>      {</span>
<span class=s>        &quot;action&quot;: &quot;view&quot;,</span>
<span class=s>        &quot;label&quot;: &quot;Open portal&quot;,</span>
<span class=s>        &quot;url&quot;: &quot;https://home.nest.com/&quot;,</span>
<span class=s>        &quot;clear&quot;: true</span>
<span class=s>      },</span>
<span class=s>      {</span>
<span class=s>        &quot;action&quot;: &quot;http&quot;,</span>
<span class=s>        &quot;label&quot;: &quot;Turn down&quot;,</span>
<span class=s>        &quot;url&quot;: &quot;https://api.nest.com/&quot;,</span>
<span class=s>        &quot;body&quot;: &quot;{\&quot;temperature\&quot;: 65}&quot;</span>
<span class=s>      }</span>
<span class=s>    ]</span>
<span class=s>}`</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=nx>body</span><span class=p>))</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh&quot;</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=nb>ConvertTo-JSON</span> <span class=p>@{</span>
    <span class=n>Topic</span>   <span class=p>=</span> <span class=s2>&quot;myhome&quot;</span>
    <span class=n>Message</span> <span class=p>=</span> <span class=s2>&quot;You left the house. Turn down the A/C?&quot;</span>
    <span class=n>Actions</span> <span class=p>=</span> <span class=p>@(</span>
      <span class=p>@{</span>
        <span class=n>Action</span> <span class=p>=</span> <span class=s2>&quot;view&quot;</span>
        <span class=n>Label</span>  <span class=p>=</span> <span class=s2>&quot;Open portal&quot;</span>
        <span class=n>URL</span>    <span class=p>=</span> <span class=s2>&quot;https://home.nest.com/&quot;</span>
        <span class=nb>Clear </span> <span class=p>=</span> <span class=nv>$true</span>
      <span class=p>},</span>
      <span class=p>@{</span>
        <span class=n>Action</span> <span class=p>=</span> <span class=s2>&quot;http&quot;</span>
        <span class=n>Label</span>  <span class=p>=</span> <span class=s2>&quot;Turn down&quot;</span>
        <span class=n>URL</span>    <span class=p>=</span> <span class=s2>&quot;https://api.nest.com/&quot;</span>
        <span class=n>Body</span>   <span class=p>=</span> <span class=s1>&#39;{&quot;temperature&quot;: 65}&#39;</span>
      <span class=p>}</span>
    <span class=p>)</span>
  <span class=p>}</span>
  <span class=n>ContentType</span> <span class=p>=</span> <span class=s2>&quot;application/json&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span>
        <span class=s2>&quot;topic&quot;</span><span class=p>:</span> <span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
        <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;You left the house. Turn down the A/C?&quot;</span><span class=p>,</span>
        <span class=s2>&quot;actions&quot;</span><span class=p>:</span> <span class=p>[</span>
            <span class=p>{</span>
                <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;view&quot;</span><span class=p>,</span>
                <span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Open portal&quot;</span><span class=p>,</span>
                <span class=s2>&quot;url&quot;</span><span class=p>:</span> <span class=s2>&quot;https://home.nest.com/&quot;</span><span class=p>,</span>
                <span class=s2>&quot;clear&quot;</span><span class=p>:</span> <span class=n>true</span>
            <span class=p>},</span>
            <span class=p>{</span>
                <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;http&quot;</span><span class=p>,</span>
                <span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Turn down&quot;</span><span class=p>,</span>
                <span class=s2>&quot;url&quot;</span><span class=p>:</span> <span class=s2>&quot;https://api.nest.com/&quot;</span><span class=p>,</span>
                <span class=s2>&quot;body&quot;</span><span class=p>:</span> <span class=s2>&quot;{</span><span class=se>\&quot;</span><span class=s2>temperature</span><span class=se>\&quot;</span><span class=s2>: 65}&quot;</span>
            <span class=p>}</span>
        <span class=p>]</span>
    <span class=p>})</span>
<span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;Content-Type: application/json&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=nb>json_encode</span><span class=p>([</span>
            <span class=s2>&quot;topic&quot;</span><span class=o>:</span> <span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
            <span class=s2>&quot;message&quot;</span><span class=o>:</span> <span class=s2>&quot;You left the house. Turn down the A/C?&quot;</span><span class=p>,</span>
            <span class=s2>&quot;actions&quot;</span><span class=o>:</span> <span class=p>[</span>
                <span class=p>[</span>
                    <span class=s2>&quot;action&quot;</span><span class=o>:</span> <span class=s2>&quot;view&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;label&quot;</span><span class=o>:</span> <span class=s2>&quot;Open portal&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;url&quot;</span><span class=o>:</span> <span class=s2>&quot;https://home.nest.com/&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;clear&quot;</span><span class=o>:</span> <span class=k>true</span>
                <span class=p>],</span>
                <span class=p>[</span>
                    <span class=s2>&quot;action&quot;</span><span class=o>:</span> <span class=s2>&quot;http&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;label&quot;</span><span class=o>:</span> <span class=s2>&quot;Turn down&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;url&quot;</span><span class=o>:</span> <span class=s2>&quot;https://api.nest.com/&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;headers&quot;</span><span class=o>:</span> <span class=p>[</span>
                        <span class=s2>&quot;Authorization&quot;</span><span class=o>:</span> <span class=s2>&quot;Bearer ...&quot;</span>
                    <span class=p>],</span>
                    <span class=s2>&quot;body&quot;</span><span class=o>:</span> <span class=s2>&quot;{</span><span class=se>\&quot;</span><span class=s2>temperature</span><span class=se>\&quot;</span><span class=s2>: 65}&quot;</span>
                <span class=p>]</span>
            <span class=p>]</span>
        <span class=p>])</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>The required/optional fields for each action depend on the type of the action itself. Please refer to <a href=#open-websiteapp><code>view</code> action</a>, <a href=#send-android-broadcast><code>broadcast</code> action</a>, <a href=#send-http-request><code>http</code> action</a>, and <a href=#copy-to-clipboard><code>copy</code> action</a> for details.</p> <h3 id=open-websiteapp>Open website/app<a class=headerlink href=#open-websiteapp title="Permanent link">&para;</a></h3> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>The <code>view</code> action <strong>opens a website or app when the action button is tapped</strong>, e.g. a browser, a Google Maps location, or even a deep link into Twitter or a show ntfy topic. How exactly the action is handled depends on how Android and your desktop browser treat the links. Normally it'll just open a link in the browser. </p> <p>Examples:</p> <ul> <li><code>http://</code> or <code>https://</code> will open your browser (or an app if it registered for a URL)</li> <li><code>mailto:</code> links will open your mail app, e.g. <code>mailto:phil@example.com</code></li> <li><code>geo:</code> links will open Google Maps, e.g. <code>geo:0,0?q=1600+Amphitheatre+Parkway,+Mountain+View,+CA</code></li> <li><code>ntfy://</code> links will open ntfy (see <a href=../subscribe/phone/#ntfy-links>ntfy:// links</a>), e.g. <code>ntfy://ntfy.sh/stats</code></li> <li><code>twitter://</code> links will open Twitter, e.g. <code>twitter://user?screen_name=..</code></li> <li>...</li> </ul> <p>Here's an example using the <a href=#using-a-header><code>X-Actions</code> header</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=15:8><input checked=checked id=__tabbed_15_1 name=__tabbed_15 type=radio><input id=__tabbed_15_2 name=__tabbed_15 type=radio><input id=__tabbed_15_3 name=__tabbed_15 type=radio><input id=__tabbed_15_4 name=__tabbed_15 type=radio><input id=__tabbed_15_5 name=__tabbed_15 type=radio><input id=__tabbed_15_6 name=__tabbed_15 type=radio><input id=__tabbed_15_7 name=__tabbed_15 type=radio><input id=__tabbed_15_8 name=__tabbed_15 type=radio><div class=tabbed-labels><label for=__tabbed_15_1>Command line (curl)</label><label for=__tabbed_15_2>ntfy CLI</label><label for=__tabbed_15_3>HTTP</label><label for=__tabbed_15_4>JavaScript</label><label for=__tabbed_15_5>Go</label><label for=__tabbed_15_6>PowerShell</label><label for=__tabbed_15_7>Python</label><label for=__tabbed_15_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -d &quot;Somebody retweeted your tweet.&quot; \
    -H &quot;Actions: view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392&quot; \
ntfy.sh/myhome
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions=&quot;view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392&quot; \
    myhome \
    &quot;Somebody retweeted your tweet.&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/myhome</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Actions</span><span class=o>:</span> <span class=l>view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392</span>

Somebody retweeted your tweet.
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/myhome&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Somebody retweeted your tweet.&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span>
<span class=w>        </span><span class=s1>&#39;Actions&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392&#39;</span><span class=w> </span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/myhome&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Somebody retweeted your tweet.&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Actions&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/myhome&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Actions</span> <span class=p>=</span> <span class=s2>&quot;view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span>
  <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Somebody retweeted your tweet.&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/myhome&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Somebody retweeted your tweet.&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Actions&quot;</span><span class=p>:</span> <span class=s2>&quot;view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/reddit_alerts&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Actions: view, Open Twitter, https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Somebody retweeted your tweet.&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>And the same example using <a href=#publish-as-json>JSON publishing</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=16:8><input checked=checked id=__tabbed_16_1 name=__tabbed_16 type=radio><input id=__tabbed_16_2 name=__tabbed_16 type=radio><input id=__tabbed_16_3 name=__tabbed_16 type=radio><input id=__tabbed_16_4 name=__tabbed_16 type=radio><input id=__tabbed_16_5 name=__tabbed_16 type=radio><input id=__tabbed_16_6 name=__tabbed_16 type=radio><input id=__tabbed_16_7 name=__tabbed_16 type=radio><input id=__tabbed_16_8 name=__tabbed_16 type=radio><div class=tabbed-labels><label for=__tabbed_16_1>Command line (curl)</label><label for=__tabbed_16_2>ntfy CLI</label><label for=__tabbed_16_3>HTTP</label><label for=__tabbed_16_4>JavaScript</label><label for=__tabbed_16_5>Go</label><label for=__tabbed_16_6>PowerShell</label><label for=__tabbed_16_7>Python</label><label for=__tabbed_16_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl ntfy.sh \
  -d &#39;{
    &quot;topic&quot;: &quot;myhome&quot;,
    &quot;message&quot;: &quot;Somebody retweeted your tweet.&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;view&quot;,
        &quot;label&quot;: &quot;Open Twitter&quot;,
        &quot;url&quot;: &quot;https://twitter.com/binwiederhier/status/1467633927951163392&quot;
      }
    ]
  }&#39;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions &#39;[
        {
            &quot;action&quot;: &quot;view&quot;,
            &quot;label&quot;: &quot;Open Twitter&quot;,
            &quot;url&quot;: &quot;https://twitter.com/binwiederhier/status/1467633927951163392&quot;
        }
    ]&#39; \
    myhome \
    &quot;Somebody retweeted your tweet.&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

{
    &quot;topic&quot;: &quot;myhome&quot;,
    &quot;message&quot;: &quot;Somebody retweeted your tweet.&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;view&quot;,
        &quot;label&quot;: &quot;Open Twitter&quot;,
        &quot;url&quot;: &quot;https://twitter.com/binwiederhier/status/1467633927951163392&quot;
      }
    ]
}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=nb>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>({</span>
<span class=w>        </span><span class=nx>topic</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>message</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Somebody retweeted your tweet.&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>actions</span><span class=o>:</span><span class=w> </span><span class=p>[</span>
<span class=w>            </span><span class=p>{</span>
<span class=w>                </span><span class=nx>action</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;view&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>label</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Open Twitter&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>        </span><span class=p>]</span>
<span class=w>    </span><span class=p>})</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// You should probably use json.Marshal() instead and make a proper struct,</span>
<span class=c1>// but for the sake of the example, this is easier.</span>

<span class=nx>body</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`{</span>
<span class=s>    &quot;topic&quot;: &quot;myhome&quot;,</span>
<span class=s>    &quot;message&quot;: &quot;Somebody retweeted your tweet.&quot;,</span>
<span class=s>    &quot;actions&quot;: [</span>
<span class=s>      {</span>
<span class=s>        &quot;action&quot;: &quot;view&quot;,</span>
<span class=s>        &quot;label&quot;: &quot;Open Twitter&quot;,</span>
<span class=s>        &quot;url&quot;: &quot;https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span>
<span class=s>      }</span>
<span class=s>    ]</span>
<span class=s>}`</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=nx>body</span><span class=p>))</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh&quot;</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=nb>ConvertTo-JSON</span> <span class=p>@{</span>
    <span class=n>Topic</span> <span class=p>=</span> <span class=s2>&quot;myhome&quot;</span>
    <span class=n>Message</span> <span class=p>=</span> <span class=s2>&quot;Somebody retweeted your tweet.&quot;</span>
    <span class=n>Actions</span> <span class=p>=</span> <span class=p>@(</span>
      <span class=p>@{</span>
        <span class=n>Action</span> <span class=p>=</span> <span class=s2>&quot;view&quot;</span>
        <span class=n>Label</span>  <span class=p>=</span> <span class=s2>&quot;Open Twitter&quot;</span>
        <span class=n>URL</span>    <span class=p>=</span> <span class=s2>&quot;https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span>
      <span class=p>}</span>
    <span class=p>)</span>
  <span class=p>}</span>
  <span class=n>ContentType</span> <span class=p>=</span> <span class=s2>&quot;application/json&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span>
        <span class=s2>&quot;topic&quot;</span><span class=p>:</span> <span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
        <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Somebody retweeted your tweet.&quot;</span><span class=p>,</span>
        <span class=s2>&quot;actions&quot;</span><span class=p>:</span> <span class=p>[</span>
            <span class=p>{</span>
                <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;view&quot;</span><span class=p>,</span>
                <span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Open Twitter&quot;</span><span class=p>,</span>
                <span class=s2>&quot;url&quot;</span><span class=p>:</span> <span class=s2>&quot;https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span>
            <span class=p>}</span>
        <span class=p>]</span>
    <span class=p>})</span>
<span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;Content-Type: application/json&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=nb>json_encode</span><span class=p>([</span>
            <span class=s2>&quot;topic&quot;</span><span class=o>:</span> <span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
            <span class=s2>&quot;message&quot;</span><span class=o>:</span> <span class=s2>&quot;Somebody retweeted your tweet.&quot;</span><span class=p>,</span>
            <span class=s2>&quot;actions&quot;</span><span class=o>:</span> <span class=p>[</span>
                <span class=p>[</span>
                    <span class=s2>&quot;action&quot;</span><span class=o>:</span> <span class=s2>&quot;view&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;label&quot;</span><span class=o>:</span> <span class=s2>&quot;Open Twitter&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;url&quot;</span><span class=o>:</span> <span class=s2>&quot;https://twitter.com/binwiederhier/status/1467633927951163392&quot;</span>
                <span class=p>]</span>
            <span class=p>]</span>
        <span class=p>])</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>The short format for the <code>view</code> action is <code>view, &lt;label&gt;, &lt;url&gt;</code> (e.g. <code>view, Open Google, https://google.com</code>), but you can always just use the <code>&lt;key&gt;=&lt;value&gt;</code> notation as well (e.g. <code>action=view, url=https://google.com, label=Open Google</code>).</p> <p>The <code>view</code> action supports the following fields:</p> <table> <thead> <tr> <th>Field</th> <th>Required</th> <th>Type</th> <th>Default</th> <th>Example</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>action</code></td> <td>‚úîÔ∏è</td> <td><em>string</em></td> <td>-</td> <td><code>view</code></td> <td>Action type (<strong>must be <code>view</code></strong>)</td> </tr> <tr> <td><code>label</code></td> <td>‚úîÔ∏è</td> <td><em>string</em></td> <td>-</td> <td><code>Turn on light</code></td> <td>Label of the action button in the notification</td> </tr> <tr> <td><code>url</code></td> <td>‚úîÔ∏è</td> <td><em>URL</em></td> <td>-</td> <td><code>https://example.com</code></td> <td>URL to open when action is tapped</td> </tr> <tr> <td><code>clear</code></td> <td>-Ô∏è</td> <td><em>boolean</em></td> <td><code>false</code></td> <td><code>true</code></td> <td>Clear notification after action button is tapped</td> </tr> </tbody> </table> <h3 id=send-android-broadcast>Send Android broadcast<a class=headerlink href=#send-android-broadcast title="Permanent link">&para;</a></h3> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span></p> <p>The <code>broadcast</code> action <strong>sends an <a href=https://developer.android.com/guide/components/broadcasts>Android broadcast</a> intent when the action button is tapped</strong>. This allows integration into automation apps such as <a href="https://play.google.com/store/apps/details?id=com.arlosoft.macrodroid">MacroDroid</a> or <a href="https://play.google.com/store/apps/details?id=net.dinglisch.android.taskerm">Tasker</a>, which basically means you can do everything your phone is capable of. Examples include taking pictures, launching/killing apps, change device settings, write/read files, etc.</p> <p>By default, the intent action <strong><code>io.heckel.ntfy.USER_ACTION</code></strong> is broadcast, though this can be changed with the <code>intent</code> parameter (see below). To send extras, use the <code>extras</code> parameter. Currently, <strong>only string extras are supported</strong>.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>If you have no idea what this is, check out the <a href=../subscribe/phone/#automation-apps>automation apps</a> section, which shows how to integrate Tasker and MacroDroid <strong>with screenshots</strong>. The action button integration is identical, except that you have to use <strong>the intent action <code>io.heckel.ntfy.USER_ACTION</code></strong> instead.</p> </div> <p>Here's an example using the <a href=#using-a-header><code>X-Actions</code> header</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=17:8><input checked=checked id=__tabbed_17_1 name=__tabbed_17 type=radio><input id=__tabbed_17_2 name=__tabbed_17 type=radio><input id=__tabbed_17_3 name=__tabbed_17 type=radio><input id=__tabbed_17_4 name=__tabbed_17 type=radio><input id=__tabbed_17_5 name=__tabbed_17 type=radio><input id=__tabbed_17_6 name=__tabbed_17 type=radio><input id=__tabbed_17_7 name=__tabbed_17 type=radio><input id=__tabbed_17_8 name=__tabbed_17 type=radio><div class=tabbed-labels><label for=__tabbed_17_1>Command line (curl)</label><label for=__tabbed_17_2>ntfy CLI</label><label for=__tabbed_17_3>HTTP</label><label for=__tabbed_17_4>JavaScript</label><label for=__tabbed_17_5>Go</label><label for=__tabbed_17_6>PowerShell</label><label for=__tabbed_17_7>Python</label><label for=__tabbed_17_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -d &quot;Your wife requested you send a picture of yourself.&quot; \
    -H &quot;Actions: broadcast, Take picture, extras.cmd=pic, extras.camera=front&quot; \
ntfy.sh/wifey
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions=&quot;broadcast, Take picture, extras.cmd=pic, extras.camera=front&quot; \
    wifey \
    &quot;Your wife requested you send a picture of yourself.&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/wifey</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Actions</span><span class=o>:</span> <span class=l>broadcast, Take picture, extras.cmd=pic, extras.camera=front</span>

Your wife requested you send a picture of yourself.
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/wifey&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Your wife requested you send a picture of yourself.&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span>
<span class=w>        </span><span class=s1>&#39;Actions&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;broadcast, Take picture, extras.cmd=pic, extras.camera=front&#39;</span><span class=w> </span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/wifey&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Your wife requested you send a picture of yourself.&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Actions&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;broadcast, Take picture, extras.cmd=pic, extras.camera=front&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/wifey&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Actions</span> <span class=p>=</span> <span class=s2>&quot;broadcast, Take picture, extras.cmd=pic, extras.camera=front&quot;</span>
  <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Your wife requested you send a picture of yourself.&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/wifey&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Your wife requested you send a picture of yourself.&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Actions&quot;</span><span class=p>:</span> <span class=s2>&quot;broadcast, Take picture, extras.cmd=pic, extras.camera=front&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/wifey&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Actions: broadcast, Take picture, extras.cmd=pic, extras.camera=front&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Your wife requested you send a picture of yourself.&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>And the same example using <a href=#publish-as-json>JSON publishing</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=18:8><input checked=checked id=__tabbed_18_1 name=__tabbed_18 type=radio><input id=__tabbed_18_2 name=__tabbed_18 type=radio><input id=__tabbed_18_3 name=__tabbed_18 type=radio><input id=__tabbed_18_4 name=__tabbed_18 type=radio><input id=__tabbed_18_5 name=__tabbed_18 type=radio><input id=__tabbed_18_6 name=__tabbed_18 type=radio><input id=__tabbed_18_7 name=__tabbed_18 type=radio><input id=__tabbed_18_8 name=__tabbed_18 type=radio><div class=tabbed-labels><label for=__tabbed_18_1>Command line (curl)</label><label for=__tabbed_18_2>ntfy CLI</label><label for=__tabbed_18_3>HTTP</label><label for=__tabbed_18_4>JavaScript</label><label for=__tabbed_18_5>Go</label><label for=__tabbed_18_6>PowerShell</label><label for=__tabbed_18_7>Python</label><label for=__tabbed_18_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl ntfy.sh \
  -d &#39;{
    &quot;topic&quot;: &quot;wifey&quot;,
    &quot;message&quot;: &quot;Your wife requested you send a picture of yourself.&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;broadcast&quot;,
        &quot;label&quot;: &quot;Take picture&quot;,
        &quot;extras&quot;: {
            &quot;cmd&quot;: &quot;pic&quot;,
            &quot;camera&quot;: &quot;front&quot;
        }
      }
    ]
  }&#39;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions &#39;[
        {
            &quot;action&quot;: &quot;broadcast&quot;,
            &quot;label&quot;: &quot;Take picture&quot;,
            &quot;extras&quot;: {
                &quot;cmd&quot;: &quot;pic&quot;,
                &quot;camera&quot;: &quot;front&quot;
            }
        }
    ]&#39; \
    wifey \
    &quot;Your wife requested you send a picture of yourself.&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

{
    &quot;topic&quot;: &quot;wifey&quot;,
    &quot;message&quot;: &quot;Your wife requested you send a picture of yourself.&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;broadcast&quot;,
        &quot;label&quot;: &quot;Take picture&quot;,
        &quot;extras&quot;: {
            &quot;cmd&quot;: &quot;pic&quot;,
            &quot;camera&quot;: &quot;front&quot;
        }
      }
    ]
}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=nb>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>({</span>
<span class=w>        </span><span class=nx>topic</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;wifey&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>message</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Your wife requested you send a picture of yourself.&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>actions</span><span class=o>:</span><span class=w> </span><span class=p>[</span>
<span class=w>            </span><span class=p>{</span>
<span class=w>                </span><span class=s2>&quot;action&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;broadcast&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=s2>&quot;label&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Take picture&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=s2>&quot;extras&quot;</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>                    </span><span class=s2>&quot;cmd&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;pic&quot;</span><span class=p>,</span>
<span class=w>                    </span><span class=s2>&quot;camera&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;front&quot;</span>
<span class=w>                </span><span class=p>}</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>        </span><span class=p>]</span>
<span class=w>    </span><span class=p>})</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// You should probably use json.Marshal() instead and make a proper struct,</span>
<span class=c1>// but for the sake of the example, this is easier.</span>

<span class=nx>body</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`{</span>
<span class=s>    &quot;topic&quot;: &quot;wifey&quot;,</span>
<span class=s>    &quot;message&quot;: &quot;Your wife requested you send a picture of yourself.&quot;,</span>
<span class=s>    &quot;actions&quot;: [</span>
<span class=s>      {</span>
<span class=s>        &quot;action&quot;: &quot;broadcast&quot;,</span>
<span class=s>        &quot;label&quot;: &quot;Take picture&quot;,</span>
<span class=s>        &quot;extras&quot;: {</span>
<span class=s>            &quot;cmd&quot;: &quot;pic&quot;,</span>
<span class=s>            &quot;camera&quot;: &quot;front&quot;</span>
<span class=s>        }</span>
<span class=s>      }</span>
<span class=s>    ]</span>
<span class=s>}`</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=nx>body</span><span class=p>))</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c># Powershell requires the &#39;Depth&#39; argument to equal 3 here to expand &#39;Extras&#39;,</span>
<span class=c># otherwise it will read System.Collections.Hashtable in the returned JSON</span>
<span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh&quot;</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=nb>ConvertTo-Json</span> <span class=n>-Depth</span> <span class=n>3</span> <span class=p>@{</span>
    <span class=n>Topic</span> <span class=p>=</span> <span class=s2>&quot;wifey&quot;</span>
    <span class=n>Message</span> <span class=p>=</span> <span class=s2>&quot;Your wife requested you send a picture of yourself.&quot;</span>
    <span class=n>Actions</span> <span class=p>=</span> <span class=p>@(</span>
      <span class=p>@{</span>
        <span class=n>Action</span> <span class=p>=</span> <span class=s2>&quot;broadcast&quot;</span>
        <span class=n>Label</span> <span class=p>=</span> <span class=s2>&quot;Take picture&quot;</span>
        <span class=n>Extras</span> <span class=p>=</span> <span class=p>@{</span>
          <span class=n>CMD</span> <span class=p>=</span><span class=s2>&quot;pic&quot;</span>
          <span class=n>Camera</span> <span class=p>=</span> <span class=s2>&quot;front&quot;</span>
        <span class=p>}</span>
      <span class=p>}</span>
    <span class=p>)</span>
  <span class=p>}</span>
  <span class=n>ContentType</span> <span class=p>=</span> <span class=s2>&quot;application/json&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span>
        <span class=s2>&quot;topic&quot;</span><span class=p>:</span> <span class=s2>&quot;wifey&quot;</span><span class=p>,</span>
        <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Your wife requested you send a picture of yourself.&quot;</span><span class=p>,</span>
        <span class=s2>&quot;actions&quot;</span><span class=p>:</span> <span class=p>[</span>
            <span class=p>{</span>
                <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;broadcast&quot;</span><span class=p>,</span>
                <span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Take picture&quot;</span><span class=p>,</span>
                <span class=s2>&quot;extras&quot;</span><span class=p>:</span> <span class=p>{</span>
                    <span class=s2>&quot;cmd&quot;</span><span class=p>:</span> <span class=s2>&quot;pic&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;camera&quot;</span><span class=p>:</span> <span class=s2>&quot;front&quot;</span>
                <span class=p>}</span>
            <span class=p>}</span>
        <span class=p>]</span>
    <span class=p>})</span>
<span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;Content-Type: application/json&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=nb>json_encode</span><span class=p>([</span>
            <span class=s2>&quot;topic&quot;</span><span class=o>:</span> <span class=s2>&quot;wifey&quot;</span><span class=p>,</span>
            <span class=s2>&quot;message&quot;</span><span class=o>:</span> <span class=s2>&quot;Your wife requested you send a picture of yourself.&quot;</span><span class=p>,</span>
            <span class=s2>&quot;actions&quot;</span><span class=o>:</span> <span class=p>[</span>
                <span class=p>[</span>
                <span class=s2>&quot;action&quot;</span><span class=o>:</span> <span class=s2>&quot;broadcast&quot;</span><span class=p>,</span>
                <span class=s2>&quot;label&quot;</span><span class=o>:</span> <span class=s2>&quot;Take picture&quot;</span><span class=p>,</span>
                <span class=s2>&quot;extras&quot;</span><span class=o>:</span> <span class=p>[</span>
                    <span class=s2>&quot;cmd&quot;</span><span class=o>:</span> <span class=s2>&quot;pic&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;camera&quot;</span><span class=o>:</span> <span class=s2>&quot;front&quot;</span>
                <span class=p>]</span>
            <span class=p>]</span>
        <span class=p>])</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>The short format for the <code>broadcast</code> action is <code>broadcast, &lt;label&gt;, &lt;url&gt;</code> (e.g. <code>broadcast, Take picture, extras.cmd=pic</code>), but you can always just use the <code>&lt;key&gt;=&lt;value&gt;</code> notation as well (e.g. <code>action=broadcast, label=Take picture, extras.cmd=pic</code>).</p> <p>The <code>broadcast</code> action supports the following fields:</p> <table> <thead> <tr> <th>Field</th> <th>Required</th> <th>Type</th> <th>Default</th> <th>Example</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>action</code></td> <td>‚úîÔ∏è</td> <td><em>string</em></td> <td>-</td> <td><code>broadcast</code></td> <td>Action type (<strong>must be <code>broadcast</code></strong>)</td> </tr> <tr> <td><code>label</code></td> <td>‚úîÔ∏è</td> <td><em>string</em></td> <td>-</td> <td><code>Turn on light</code></td> <td>Label of the action button in the notification</td> </tr> <tr> <td><code>intent</code></td> <td>-Ô∏è</td> <td><em>string</em></td> <td><code>io.heckel.ntfy.USER_ACTION</code></td> <td><code>com.example.AN_INTENT</code></td> <td>Android intent name, <strong>default is <code>io.heckel.ntfy.USER_ACTION</code></strong></td> </tr> <tr> <td><code>extras</code></td> <td>-Ô∏è</td> <td><em>map of strings</em></td> <td>-</td> <td><em>see above</em></td> <td>Android intent extras. Currently, only string extras are supported. When publishing as JSON, extras are passed as a map. When the simple format is used, use <code>extras.&lt;param&gt;=&lt;value&gt;</code>.</td> </tr> <tr> <td><code>clear</code></td> <td>-Ô∏è</td> <td><em>boolean</em></td> <td><code>false</code></td> <td><code>true</code></td> <td>Clear notification after action button is tapped</td> </tr> </tbody> </table> <h3 id=send-http-request>Send HTTP request<a class=headerlink href=#send-http-request title="Permanent link">&para;</a></h3> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>The <code>http</code> action <strong>sends a HTTP request when the action button is tapped</strong>. You can use this to trigger REST APIs for whatever systems you have, e.g. opening the garage door, or turning on/off lights.</p> <p>By default, this action sends a <strong>POST request</strong> (not GET!), though this can be changed with the <code>method</code> parameter. The only required parameter is <code>url</code>. Headers can be passed along using the <code>headers</code> parameter. </p> <p>Here's an example using the <a href=#using-a-header><code>X-Actions</code> header</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=19:8><input checked=checked id=__tabbed_19_1 name=__tabbed_19 type=radio><input id=__tabbed_19_2 name=__tabbed_19 type=radio><input id=__tabbed_19_3 name=__tabbed_19 type=radio><input id=__tabbed_19_4 name=__tabbed_19 type=radio><input id=__tabbed_19_5 name=__tabbed_19 type=radio><input id=__tabbed_19_6 name=__tabbed_19 type=radio><input id=__tabbed_19_7 name=__tabbed_19 type=radio><input id=__tabbed_19_8 name=__tabbed_19 type=radio><div class=tabbed-labels><label for=__tabbed_19_1>Command line (curl)</label><label for=__tabbed_19_2>ntfy CLI</label><label for=__tabbed_19_3>HTTP</label><label for=__tabbed_19_4>JavaScript</label><label for=__tabbed_19_5>Go</label><label for=__tabbed_19_6>PowerShell</label><label for=__tabbed_19_7>Python</label><label for=__tabbed_19_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -d &quot;Garage door has been open for 15 minutes. Close it?&quot; \
    -H &quot;Actions: http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={\&quot;action\&quot;: \&quot;close\&quot;}&quot; \
    ntfy.sh/myhome
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions=&quot;http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={\&quot;action\&quot;: \&quot;close\&quot;}&quot; \
    myhome \
    &quot;Garage door has been open for 15 minutes. Close it?&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/myhome</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Actions</span><span class=o>:</span> <span class=l>http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={&quot;action&quot;: &quot;close&quot;}</span>

Garage door has been open for 15 minutes. Close it?
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/myhome&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Garage door has been open for 15 minutes. Close it?&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span>
<span class=w>        </span><span class=s1>&#39;Actions&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={\&quot;action\&quot;: \&quot;close\&quot;}&#39;</span><span class=w> </span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/myhome&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Garage door has been open for 15 minutes. Close it?&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Actions&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={\&quot;action\&quot;: \&quot;close\&quot;}&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/myhome&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Actions</span><span class=p>=</span><span class=s2>&quot;http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={\&quot;</span><span class=n>action</span><span class=p>\</span><span class=s2>&quot;: \&quot;</span><span class=n>close</span><span class=p>\</span><span class=s2>&quot;}&quot;</span>
  <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Garage door has been open for 15 minutes. Close it?&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/myhome&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Garage door has been open for 15 minutes. Close it?&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Actions&quot;</span><span class=p>:</span> <span class=s2>&quot;http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={</span><span class=se>\&quot;</span><span class=s2>action</span><span class=se>\&quot;</span><span class=s2>: </span><span class=se>\&quot;</span><span class=s2>close</span><span class=se>\&quot;</span><span class=s2>}&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/reddit_alerts&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s1>&#39;Actions: http, Close door, https://api.mygarage.lan/, method=PUT, headers.Authorization=Bearer zAzsx1sk.., body={\&quot;action\&quot;: \&quot;close\&quot;}&#39;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Garage door has been open for 15 minutes. Close it?&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>And the same example using <a href=#publish-as-json>JSON publishing</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=20:8><input checked=checked id=__tabbed_20_1 name=__tabbed_20 type=radio><input id=__tabbed_20_2 name=__tabbed_20 type=radio><input id=__tabbed_20_3 name=__tabbed_20 type=radio><input id=__tabbed_20_4 name=__tabbed_20 type=radio><input id=__tabbed_20_5 name=__tabbed_20 type=radio><input id=__tabbed_20_6 name=__tabbed_20 type=radio><input id=__tabbed_20_7 name=__tabbed_20 type=radio><input id=__tabbed_20_8 name=__tabbed_20 type=radio><div class=tabbed-labels><label for=__tabbed_20_1>Command line (curl)</label><label for=__tabbed_20_2>ntfy CLI</label><label for=__tabbed_20_3>HTTP</label><label for=__tabbed_20_4>JavaScript</label><label for=__tabbed_20_5>Go</label><label for=__tabbed_20_6>PowerShell</label><label for=__tabbed_20_7>Python</label><label for=__tabbed_20_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl ntfy.sh \
  -d &#39;{
    &quot;topic&quot;: &quot;myhome&quot;,
    &quot;message&quot;: &quot;Garage door has been open for 15 minutes. Close it?&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;http&quot;,
        &quot;label&quot;: &quot;Close door&quot;,
        &quot;url&quot;: &quot;https://api.mygarage.lan/&quot;,
        &quot;method&quot;: &quot;PUT&quot;,
        &quot;headers&quot;: {
            &quot;Authorization&quot;: &quot;Bearer zAzsx1sk..&quot;
        },
        &quot;body&quot;: &quot;{\&quot;action\&quot;: \&quot;close\&quot;}&quot;
      }
    ]
  }&#39;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions &#39;[
        {
          &quot;action&quot;: &quot;http&quot;,
          &quot;label&quot;: &quot;Close door&quot;,
          &quot;url&quot;: &quot;https://api.mygarage.lan/&quot;,
          &quot;method&quot;: &quot;PUT&quot;,
          &quot;headers&quot;: {
            &quot;Authorization&quot;: &quot;Bearer zAzsx1sk..&quot;
          },
          &quot;body&quot;: &quot;{\&quot;action\&quot;: \&quot;close\&quot;}&quot;
        }
    ]&#39; \
    myhome \
    &quot;Garage door has been open for 15 minutes. Close it?&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

{
    &quot;topic&quot;: &quot;myhome&quot;,
    &quot;message&quot;: &quot;Garage door has been open for 15 minutes. Close it?&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;http&quot;,
        &quot;label&quot;: &quot;Close door&quot;,
        &quot;url&quot;: &quot;https://api.mygarage.lan/&quot;,
        &quot;method&quot;: &quot;PUT&quot;,
        &quot;headers&quot;: {
          &quot;Authorization&quot;: &quot;Bearer zAzsx1sk..&quot;
        },
        &quot;body&quot;: &quot;{\&quot;action\&quot;: \&quot;close\&quot;}&quot;
      }
    ]
}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=nb>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>({</span>
<span class=w>        </span><span class=nx>topic</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>message</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Garage door has been open for 15 minutes. Close it?&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>actions</span><span class=o>:</span><span class=w> </span><span class=p>[</span>
<span class=w>          </span><span class=p>{</span>
<span class=w>            </span><span class=s2>&quot;action&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;http&quot;</span><span class=p>,</span>
<span class=w>            </span><span class=s2>&quot;label&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Close door&quot;</span><span class=p>,</span>
<span class=w>            </span><span class=s2>&quot;url&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;https://api.mygarage.lan/&quot;</span><span class=p>,</span>
<span class=w>            </span><span class=s2>&quot;method&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;PUT&quot;</span><span class=p>,</span>
<span class=w>            </span><span class=s2>&quot;headers&quot;</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>              </span><span class=s2>&quot;Authorization&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Bearer zAzsx1sk..&quot;</span>
<span class=w>            </span><span class=p>},</span>
<span class=w>            </span><span class=s2>&quot;body&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;{\&quot;action\&quot;: \&quot;close\&quot;}&quot;</span>
<span class=w>          </span><span class=p>}</span>
<span class=w>        </span><span class=p>]</span>
<span class=w>    </span><span class=p>})</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// You should probably use json.Marshal() instead and make a proper struct,</span>
<span class=c1>// but for the sake of the example, this is easier.</span>

<span class=nx>body</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`{</span>
<span class=s>    &quot;topic&quot;: &quot;myhome&quot;,</span>
<span class=s>    &quot;message&quot;: &quot;Garage door has been open for 15 minutes. Close it?&quot;,</span>
<span class=s>    &quot;actions&quot;: [</span>
<span class=s>      {</span>
<span class=s>        &quot;action&quot;: &quot;http&quot;,</span>
<span class=s>        &quot;label&quot;: &quot;Close door&quot;,</span>
<span class=s>        &quot;method&quot;: &quot;PUT&quot;,</span>
<span class=s>        &quot;url&quot;: &quot;https://api.mygarage.lan/&quot;,</span>
<span class=s>        &quot;headers&quot;: {</span>
<span class=s>          &quot;Authorization&quot;: &quot;Bearer zAzsx1sk..&quot;</span>
<span class=s>        },</span>
<span class=s>        &quot;body&quot;: &quot;{\&quot;action\&quot;: \&quot;close\&quot;}&quot;</span>
<span class=s>      }</span>
<span class=s>    ]</span>
<span class=s>}`</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=nx>body</span><span class=p>))</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c># Powershell requires the &#39;Depth&#39; argument to equal 3 here to expand &#39;headers&#39;, </span>
<span class=c># otherwise it will read System.Collections.Hashtable in the returned JSON</span>

<span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh&quot;</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=nb>ConvertTo-Json</span> <span class=n>-Depth</span> <span class=n>3</span> <span class=p>@{</span>
    <span class=n>Topic</span>   <span class=p>=</span> <span class=s2>&quot;myhome&quot;</span>
    <span class=n>Message</span> <span class=p>=</span> <span class=s2>&quot;Garage door has been open for 15 minutes. Close it?&quot;</span>
    <span class=n>Actions</span> <span class=p>=</span> <span class=p>@(</span>
      <span class=p>@{</span>
        <span class=n>Action</span>  <span class=p>=</span> <span class=s2>&quot;http&quot;</span>
        <span class=n>Label</span>   <span class=p>=</span> <span class=s2>&quot;Close door&quot;</span>
        <span class=n>URL</span>     <span class=p>=</span> <span class=s2>&quot;https://api.mygarage.lan/&quot;</span>
        <span class=n>Method</span>  <span class=p>=</span> <span class=s2>&quot;PUT&quot;</span>
        <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
          <span class=n>Authorization</span> <span class=p>=</span> <span class=s2>&quot;Bearer zAzsx1sk..&quot;</span>
        <span class=p>}</span>
        <span class=n>Body</span>    <span class=p>=</span> <span class=nb>ConvertTo-JSON</span> <span class=p>@{</span><span class=n>Action</span> <span class=p>=</span> <span class=s2>&quot;close&quot;</span><span class=p>}</span>
      <span class=p>}</span>
    <span class=p>)</span>
  <span class=p>}</span>
  <span class=n>ContentType</span> <span class=p>=</span> <span class=s2>&quot;application/json&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span>
        <span class=s2>&quot;topic&quot;</span><span class=p>:</span> <span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
        <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Garage door has been open for 15 minutes. Close it?&quot;</span><span class=p>,</span>
        <span class=s2>&quot;actions&quot;</span><span class=p>:</span> <span class=p>[</span>
            <span class=p>{</span>
              <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;http&quot;</span><span class=p>,</span>
              <span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Close door&quot;</span><span class=p>,</span>
              <span class=s2>&quot;url&quot;</span><span class=p>:</span> <span class=s2>&quot;https://api.mygarage.lan/&quot;</span><span class=p>,</span>
              <span class=s2>&quot;method&quot;</span><span class=p>:</span> <span class=s2>&quot;PUT&quot;</span><span class=p>,</span>
              <span class=s2>&quot;headers&quot;</span><span class=p>:</span> <span class=p>{</span>
                <span class=s2>&quot;Authorization&quot;</span><span class=p>:</span> <span class=s2>&quot;Bearer zAzsx1sk..&quot;</span>
              <span class=p>},</span>
              <span class=s2>&quot;body&quot;</span><span class=p>:</span> <span class=s2>&quot;{</span><span class=se>\&quot;</span><span class=s2>action</span><span class=se>\&quot;</span><span class=s2>: </span><span class=se>\&quot;</span><span class=s2>close</span><span class=se>\&quot;</span><span class=s2>}&quot;</span>
            <span class=p>}</span>
        <span class=p>]</span>
    <span class=p>})</span>
<span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;Content-Type: application/json&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=nb>json_encode</span><span class=p>([</span>
            <span class=s2>&quot;topic&quot;</span><span class=o>:</span> <span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
            <span class=s2>&quot;message&quot;</span><span class=o>:</span> <span class=s2>&quot;Garage door has been open for 15 minutes. Close it?&quot;</span><span class=p>,</span>
            <span class=s2>&quot;actions&quot;</span><span class=o>:</span> <span class=p>[</span>
                <span class=p>[</span>
                    <span class=s2>&quot;action&quot;</span><span class=o>:</span> <span class=s2>&quot;http&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;label&quot;</span><span class=o>:</span> <span class=s2>&quot;Close door&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;url&quot;</span><span class=o>:</span> <span class=s2>&quot;https://api.mygarage.lan/&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;method&quot;</span><span class=o>:</span> <span class=s2>&quot;PUT&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;headers&quot;</span><span class=o>:</span> <span class=p>[</span>
                        <span class=s2>&quot;Authorization&quot;</span><span class=o>:</span> <span class=s2>&quot;Bearer zAzsx1sk..&quot;</span>
                     <span class=p>],</span>
                    <span class=s2>&quot;body&quot;</span><span class=o>:</span> <span class=s2>&quot;{</span><span class=se>\&quot;</span><span class=s2>action</span><span class=se>\&quot;</span><span class=s2>: </span><span class=se>\&quot;</span><span class=s2>close</span><span class=se>\&quot;</span><span class=s2>}&quot;</span>
                <span class=p>]</span>
            <span class=p>]</span>
        <span class=p>])</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>The short format for the <code>http</code> action is <code>http, &lt;label&gt;, &lt;url&gt;</code> (e.g. <code>http, Close door, https://api.mygarage.lan/close</code>), but you can always just use the <code>&lt;key&gt;=&lt;value&gt;</code> notation as well (e.g. <code>action=http, label=Close door, url=https://api.mygarage.lan/close</code>).</p> <p>The <code>http</code> action supports the following fields:</p> <table> <thead> <tr> <th>Field</th> <th>Required</th> <th>Type</th> <th>Default</th> <th>Example</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>action</code></td> <td>‚úîÔ∏è</td> <td><em>string</em></td> <td>-</td> <td><code>http</code></td> <td>Action type (<strong>must be <code>http</code></strong>)</td> </tr> <tr> <td><code>label</code></td> <td>‚úîÔ∏è</td> <td><em>string</em></td> <td>-</td> <td><code>Open garage door</code></td> <td>Label of the action button in the notification</td> </tr> <tr> <td><code>url</code></td> <td>‚úîÔ∏è</td> <td><em>string</em></td> <td>-</td> <td><code>https://ntfy.sh/mytopic</code></td> <td>URL to which the HTTP request will be sent</td> </tr> <tr> <td><code>method</code></td> <td>-Ô∏è</td> <td><em>GET/POST/PUT/...</em></td> <td><code>POST</code> ‚ö†Ô∏è</td> <td><code>GET</code></td> <td>HTTP method to use for request, <strong>default is POST</strong> ‚ö†Ô∏è</td> </tr> <tr> <td><code>headers</code></td> <td>-Ô∏è</td> <td><em>map of strings</em></td> <td>-</td> <td><em>see above</em></td> <td>HTTP headers to pass in request. When publishing as JSON, headers are passed as a map. When the simple format is used, use <code>headers.&lt;header1&gt;=&lt;value&gt;</code>.</td> </tr> <tr> <td><code>body</code></td> <td>-Ô∏è</td> <td><em>string</em></td> <td><em>empty</em></td> <td><code>some body, somebody?</code></td> <td>HTTP body</td> </tr> <tr> <td><code>clear</code></td> <td>-Ô∏è</td> <td><em>boolean</em></td> <td><code>false</code></td> <td><code>true</code></td> <td>Clear notification after HTTP request succeeds. If the request fails, the notification is not cleared.</td> </tr> </tbody> </table> <h3 id=copy-to-clipboard>Copy to clipboard<a class=headerlink href=#copy-to-clipboard title="Permanent link">&para;</a></h3> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>The <code>copy</code> action <strong>copies a given value to the clipboard when the action button is tapped</strong>. This is useful for one-time passcodes, tokens, or any other value you want to quickly copy without opening the full notification.</p> <p>Here's an example using the <a href=#using-a-header><code>X-Actions</code> header</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=21:8><input checked=checked id=__tabbed_21_1 name=__tabbed_21 type=radio><input id=__tabbed_21_2 name=__tabbed_21 type=radio><input id=__tabbed_21_3 name=__tabbed_21 type=radio><input id=__tabbed_21_4 name=__tabbed_21 type=radio><input id=__tabbed_21_5 name=__tabbed_21 type=radio><input id=__tabbed_21_6 name=__tabbed_21 type=radio><input id=__tabbed_21_7 name=__tabbed_21 type=radio><input id=__tabbed_21_8 name=__tabbed_21 type=radio><div class=tabbed-labels><label for=__tabbed_21_1>Command line (curl)</label><label for=__tabbed_21_2>ntfy CLI</label><label for=__tabbed_21_3>HTTP</label><label for=__tabbed_21_4>JavaScript</label><label for=__tabbed_21_5>Go</label><label for=__tabbed_21_6>PowerShell</label><label for=__tabbed_21_7>Python</label><label for=__tabbed_21_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -d &quot;Your one-time passcode is 123456&quot; \
    -H &quot;Actions: copy, Copy code, 123456&quot; \
    ntfy.sh/myhome
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions=&quot;copy, Copy code, 123456&quot; \
    myhome \
    &quot;Your one-time passcode is 123456&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/myhome</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Actions</span><span class=o>:</span> <span class=l>copy, Copy code, 123456</span>

Your one-time passcode is 123456
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/myhome&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Your one-time passcode is 123456&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span>
<span class=w>        </span><span class=s1>&#39;Actions&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;copy, Copy code, 123456&#39;</span><span class=w> </span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/myhome&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Your one-time passcode is 123456&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Actions&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;copy, Copy code, 123456&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/myhome&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Actions</span> <span class=p>=</span> <span class=s2>&quot;copy, Copy code, 123456&quot;</span>
  <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Your one-time passcode is 123456&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/myhome&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Your one-time passcode is 123456&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Actions&quot;</span><span class=p>:</span> <span class=s2>&quot;copy, Copy code, 123456&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/myhome&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Actions: copy, Copy code, 123456&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Your one-time passcode is 123456&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>And the same example using <a href=#publish-as-json>JSON publishing</a>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=22:8><input checked=checked id=__tabbed_22_1 name=__tabbed_22 type=radio><input id=__tabbed_22_2 name=__tabbed_22 type=radio><input id=__tabbed_22_3 name=__tabbed_22 type=radio><input id=__tabbed_22_4 name=__tabbed_22 type=radio><input id=__tabbed_22_5 name=__tabbed_22 type=radio><input id=__tabbed_22_6 name=__tabbed_22 type=radio><input id=__tabbed_22_7 name=__tabbed_22 type=radio><input id=__tabbed_22_8 name=__tabbed_22 type=radio><div class=tabbed-labels><label for=__tabbed_22_1>Command line (curl)</label><label for=__tabbed_22_2>ntfy CLI</label><label for=__tabbed_22_3>HTTP</label><label for=__tabbed_22_4>JavaScript</label><label for=__tabbed_22_5>Go</label><label for=__tabbed_22_6>PowerShell</label><label for=__tabbed_22_7>Python</label><label for=__tabbed_22_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl ntfy.sh \
  -d &#39;{
    &quot;topic&quot;: &quot;myhome&quot;,
    &quot;message&quot;: &quot;Your one-time passcode is 123456&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;copy&quot;,
        &quot;label&quot;: &quot;Copy code&quot;,
        &quot;value&quot;: &quot;123456&quot;
      }
    ]
  }&#39;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --actions &#39;[
        {
            &quot;action&quot;: &quot;copy&quot;,
            &quot;label&quot;: &quot;Copy code&quot;,
            &quot;value&quot;: &quot;123456&quot;
        }
    ]&#39; \
    myhome \
    &quot;Your one-time passcode is 123456&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

{
    &quot;topic&quot;: &quot;myhome&quot;,
    &quot;message&quot;: &quot;Your one-time passcode is 123456&quot;,
    &quot;actions&quot;: [
      {
        &quot;action&quot;: &quot;copy&quot;,
        &quot;label&quot;: &quot;Copy code&quot;,
        &quot;value&quot;: &quot;123456&quot;
      }
    ]
}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=nb>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>({</span>
<span class=w>        </span><span class=nx>topic</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>message</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Your one-time passcode is 123456&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>actions</span><span class=o>:</span><span class=w> </span><span class=p>[</span>
<span class=w>            </span><span class=p>{</span>
<span class=w>                </span><span class=nx>action</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;copy&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>label</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Copy code&quot;</span><span class=p>,</span>
<span class=w>                </span><span class=nx>value</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;123456&quot;</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>        </span><span class=p>]</span>
<span class=w>    </span><span class=p>})</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// You should probably use json.Marshal() instead and make a proper struct,</span>
<span class=c1>// but for the sake of the example, this is easier.</span>

<span class=nx>body</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`{</span>
<span class=s>    &quot;topic&quot;: &quot;myhome&quot;,</span>
<span class=s>    &quot;message&quot;: &quot;Your one-time passcode is 123456&quot;,</span>
<span class=s>    &quot;actions&quot;: [</span>
<span class=s>      {</span>
<span class=s>        &quot;action&quot;: &quot;copy&quot;,</span>
<span class=s>        &quot;label&quot;: &quot;Copy code&quot;,</span>
<span class=s>        &quot;value&quot;: &quot;123456&quot;</span>
<span class=s>      }</span>
<span class=s>    ]</span>
<span class=s>}`</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=nx>body</span><span class=p>))</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh&quot;</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=nb>ConvertTo-JSON</span> <span class=p>@{</span>
    <span class=n>Topic</span> <span class=p>=</span> <span class=s2>&quot;myhome&quot;</span>
    <span class=n>Message</span> <span class=p>=</span> <span class=s2>&quot;Your one-time passcode is 123456&quot;</span>
    <span class=n>Actions</span> <span class=p>=</span> <span class=p>@(</span>
      <span class=p>@{</span>
        <span class=n>Action</span> <span class=p>=</span> <span class=s2>&quot;copy&quot;</span>
        <span class=n>Label</span>  <span class=p>=</span> <span class=s2>&quot;Copy code&quot;</span>
        <span class=n>Value</span>  <span class=p>=</span> <span class=s2>&quot;123456&quot;</span>
      <span class=p>}</span>
    <span class=p>)</span>
  <span class=p>}</span>
  <span class=n>ContentType</span> <span class=p>=</span> <span class=s2>&quot;application/json&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span>
        <span class=s2>&quot;topic&quot;</span><span class=p>:</span> <span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
        <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Your one-time passcode is 123456&quot;</span><span class=p>,</span>
        <span class=s2>&quot;actions&quot;</span><span class=p>:</span> <span class=p>[</span>
            <span class=p>{</span>
                <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;copy&quot;</span><span class=p>,</span>
                <span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Copy code&quot;</span><span class=p>,</span>
                <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=s2>&quot;123456&quot;</span>
            <span class=p>}</span>
        <span class=p>]</span>
    <span class=p>})</span>
<span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;Content-Type: application/json&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=nb>json_encode</span><span class=p>([</span>
            <span class=s2>&quot;topic&quot;</span><span class=o>:</span> <span class=s2>&quot;myhome&quot;</span><span class=p>,</span>
            <span class=s2>&quot;message&quot;</span><span class=o>:</span> <span class=s2>&quot;Your one-time passcode is 123456&quot;</span><span class=p>,</span>
            <span class=s2>&quot;actions&quot;</span><span class=o>:</span> <span class=p>[</span>
                <span class=p>[</span>
                    <span class=s2>&quot;action&quot;</span><span class=o>:</span> <span class=s2>&quot;copy&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;label&quot;</span><span class=o>:</span> <span class=s2>&quot;Copy code&quot;</span><span class=p>,</span>
                    <span class=s2>&quot;value&quot;</span><span class=o>:</span> <span class=s2>&quot;123456&quot;</span>
                <span class=p>]</span>
            <span class=p>]</span>
        <span class=p>])</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>The short format for the <code>copy</code> action is <code>copy, &lt;label&gt;, &lt;value&gt;</code> (e.g. <code>copy, Copy code, 123456</code>), but you can always just use the <code>&lt;key&gt;=&lt;value&gt;</code> notation as well (e.g. <code>action=copy, label=Copy code, value=123456</code>).</p> <p>The <code>copy</code> action supports the following fields:</p> <table> <thead> <tr> <th>Field</th> <th>Required</th> <th>Type</th> <th>Default</th> <th>Example</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>action</code></td> <td>‚úîÔ∏è</td> <td><em>string</em></td> <td>-</td> <td><code>copy</code></td> <td>Action type (<strong>must be <code>copy</code></strong>)</td> </tr> <tr> <td><code>label</code></td> <td>‚úîÔ∏è</td> <td><em>string</em></td> <td>-</td> <td><code>Copy code</code></td> <td>Label of the action button in the notification</td> </tr> <tr> <td><code>value</code></td> <td>‚úîÔ∏è</td> <td><em>string</em></td> <td>-</td> <td><code>123456</code></td> <td>Value to copy to the clipboard</td> </tr> <tr> <td><code>clear</code></td> <td>-Ô∏è</td> <td><em>boolean</em></td> <td><code>false</code></td> <td><code>true</code></td> <td>Clear notification after action button is tapped</td> </tr> </tbody> </table> <h2 id=scheduled-delivery>Scheduled delivery<a class=headerlink href=#scheduled-delivery title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>You can delay the delivery of messages and let ntfy send them at a later date. This can be used to send yourself reminders or even to execute commands at a later date (if your subscriber acts on messages).</p> <p>Usage is pretty straight forward. You can set the delivery time using the <code>X-Delay</code> header (or any of its aliases: <code>Delay</code>, <code>X-At</code>, <code>At</code>, <code>X-In</code> or <code>In</code>), either by specifying a Unix timestamp (e.g. <code>1639194738</code>), a duration (e.g. <code>30m</code>, <code>3h</code>, <code>2 days</code>), or a natural language time string (e.g. <code>10am</code>, <code>8:30pm</code>, <code>tomorrow, 3pm</code>, <code>Tuesday, 7am</code>, <a href=https://github.com/olebedev/when>and more</a>). </p> <p>As of today, the minimum delay you can set is <strong>10 seconds</strong> and the maximum delay is <strong>3 days</strong>. This can be configured with the <code>message-delay-limit</code> option.</p> <p>For the purposes of <a href=../config/#message-cache>message caching</a>, scheduled messages are kept in the cache until 12 hours after they were delivered (or whatever the server-side cache duration is set to). For instance, if a message is scheduled to be delivered in 3 days, it'll remain in the cache for 3 days and 12 hours. Also note that naturally, <a href=#message-caching>turning off server-side caching</a> is not possible in combination with this feature. </p> <div class="tabbed-set tabbed-alternate" data-tabs=23:8><input checked=checked id=__tabbed_23_1 name=__tabbed_23 type=radio><input id=__tabbed_23_2 name=__tabbed_23 type=radio><input id=__tabbed_23_3 name=__tabbed_23 type=radio><input id=__tabbed_23_4 name=__tabbed_23 type=radio><input id=__tabbed_23_5 name=__tabbed_23 type=radio><input id=__tabbed_23_6 name=__tabbed_23 type=radio><input id=__tabbed_23_7 name=__tabbed_23 type=radio><input id=__tabbed_23_8 name=__tabbed_23 type=radio><div class=tabbed-labels><label for=__tabbed_23_1>Command line (curl)</label><label for=__tabbed_23_2>ntfy CLI</label><label for=__tabbed_23_3>HTTP</label><label for=__tabbed_23_4>JavaScript</label><label for=__tabbed_23_5>Go</label><label for=__tabbed_23_6>PowerShell</label><label for=__tabbed_23_7>Python</label><label for=__tabbed_23_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl -H &quot;At: tomorrow, 10am&quot; -d &quot;Good morning&quot; ntfy.sh/hello
curl -H &quot;In: 30min&quot; -d &quot;It&#39;s 30 minutes later now&quot; ntfy.sh/reminder
curl -H &quot;Delay: 1639194738&quot; -d &quot;Unix timestamps are awesome&quot; ntfy.sh/itsaunixsystem
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --at=&quot;tomorrow, 10am&quot; \
    hello &quot;Good morning&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/hello</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>At</span><span class=o>:</span> <span class=l>tomorrow, 10am</span>

Good morning
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/hello&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Good morning&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;At&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;tomorrow, 10am&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/hello&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Good morning&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;At&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;tomorrow, 10am&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/hello&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>At</span> <span class=p>=</span> <span class=s2>&quot;tomorrow, 10am&quot;</span>
  <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Good morning&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/hello&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Good morning&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;At&quot;</span><span class=p>:</span> <span class=s2>&quot;tomorrow, 10am&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/backups&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;At: tomorrow, 10am&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Good morning&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>Here are a few examples (assuming today's date is <strong>12/10/2021, 9am, Eastern Time Zone</strong>):</p> <table class=remove-md-box><tr> <td> <table><thead><tr><th><code>Delay/At/In</code> header</th><th>Message will be delivered at</th><th>Explanation</th></tr></thead><tbody> <tr><td><code>30m</code></td><td>12/10/2021, 9:<b>30</b>am</td><td>30 minutes from now</td></tr> <tr><td><code>2 hours</code></td><td>12/10/2021, <b>11:30</b>am</td><td>2 hours from now</td></tr> <tr><td><code>1 day</code></td><td>12/<b>11</b>/2021, 9am</td><td>24 hours from now</td></tr> <tr><td><code>10am</code></td><td>12/10/2021, <b>10am</b></td><td>Today at 10am (same day, because it's only 9am)</td></tr> <tr><td><code>8am</code></td><td>12/<b>11</b>/2021, <b>8am</b></td><td>Tomorrow at 8am (because it's 9am already)</td></tr> <tr><td><code>1639152000</code></td><td>12/10/2021, 11am (EST)</td><td> Today at 11am (EST)</td></tr> </tbody></table> </td> </tr></table> <h3 id=updating-scheduled-notifications>Updating scheduled notifications<a class=headerlink href=#updating-scheduled-notifications title="Permanent link">&para;</a></h3> <p>You can update or replace a scheduled message before it is delivered by publishing a new message with the same <a href=#updating-deleting-notifications>sequence ID</a>. When you do this, the <strong>original scheduled message is deleted</strong> from the server and replaced with the new one. This is different from <a href=#updating-notifications>updating notifications</a> after delivery, where both messages are kept in the cache.</p> <p>This is particularly useful for implementing a <strong>watchdog that triggers when your script stops sending heartbeat messages</strong>. This mechanism is also called a <a href=https://en.wikipedia.org/wiki/Dead_man%27s_switch>dead man's switch</a>.</p> <p>For example, you could schedule a message to be delivered in 5 minutes, but continuously update it every minute to push the delivery time further into the future. If your script or system stops running, the message will eventually be delivered as an alert.</p> <p>Here's an example of a dead man's switch that sends an alert if the script stops running for more than 5 minutes:</p> <div class="tabbed-set tabbed-alternate" data-tabs=24:8><input checked=checked id=__tabbed_24_1 name=__tabbed_24 type=radio><input id=__tabbed_24_2 name=__tabbed_24 type=radio><input id=__tabbed_24_3 name=__tabbed_24 type=radio><input id=__tabbed_24_4 name=__tabbed_24 type=radio><input id=__tabbed_24_5 name=__tabbed_24 type=radio><input id=__tabbed_24_6 name=__tabbed_24 type=radio><input id=__tabbed_24_7 name=__tabbed_24 type=radio><input id=__tabbed_24_8 name=__tabbed_24 type=radio><div class=tabbed-labels><label for=__tabbed_24_1>Command line (curl)</label><label for=__tabbed_24_2>ntfy CLI</label><label for=__tabbed_24_3>HTTP</label><label for=__tabbed_24_4>JavaScript</label><label for=__tabbed_24_5>Go</label><label for=__tabbed_24_6>PowerShell</label><label for=__tabbed_24_7>Python</label><label for=__tabbed_24_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1># Dead man&#39;s switch: keeps pushing a scheduled message into the future</span>
<span class=c1># If this script stops, the alert will be delivered after 5 minutes</span>
<span class=k>while</span><span class=w> </span>true<span class=p>;</span><span class=w> </span><span class=k>do</span>
<span class=w>    </span>curl<span class=w> </span>-H<span class=w> </span><span class=s2>&quot;In: 5m&quot;</span><span class=w> </span>-d<span class=w> </span><span class=s2>&quot;Warning: Server heartbeat stopped!&quot;</span><span class=w> </span><span class=se>\</span>
<span class=w>        </span>ntfy.sh/mytopic/heartbeat-check
<span class=w>    </span>sleep<span class=w> </span><span class=m>60</span><span class=w>  </span><span class=c1># Update every minute</span>
<span class=k>done</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1># Dead man&#39;s switch: keeps pushing a scheduled message into the future</span>
<span class=c1># If this script stops, the alert will be delivered after 5 minutes</span>
<span class=k>while</span><span class=w> </span>true<span class=p>;</span><span class=w> </span><span class=k>do</span>
<span class=w>    </span>ntfy<span class=w> </span>publish<span class=w> </span><span class=se>\</span>
<span class=w>        </span>--in<span class=o>=</span><span class=s2>&quot;5m&quot;</span><span class=w> </span><span class=se>\</span>
<span class=w>        </span>--sequence-id<span class=o>=</span><span class=s2>&quot;heartbeat-check&quot;</span><span class=w> </span><span class=se>\</span>
<span class=w>        </span>mytopic<span class=w> </span><span class=s2>&quot;Warning: Server heartbeat stopped!&quot;</span>
<span class=w>    </span>sleep<span class=w> </span><span class=m>60</span><span class=w>  </span><span class=c1># Update every minute</span>
<span class=k>done</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mytopic/heartbeat-check</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>In</span><span class=o>:</span> <span class=l>5m</span>

Warning: Server heartbeat stopped!
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// Dead man&#39;s switch: keeps pushing a scheduled message into the future</span>
<span class=c1>// If this script stops, the alert will be delivered after 5 minutes</span>
<span class=nx>setInterval</span><span class=p>(()</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic/heartbeat-check&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Warning: Server heartbeat stopped!&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;In&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;5m&#39;</span><span class=w> </span><span class=p>}</span>
<span class=w>    </span><span class=p>})</span>
<span class=p>},</span><span class=w> </span><span class=mf>60000</span><span class=p>)</span><span class=w> </span><span class=c1>// Update every minute</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// Dead man&#39;s switch: keeps pushing a scheduled message into the future</span>
<span class=c1>// If this script stops, the alert will be delivered after 5 minutes</span>
<span class=k>for</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mytopic/heartbeat-check&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Warning: Server heartbeat stopped!&quot;</span><span class=p>))</span>
<span class=w>    </span><span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;In&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;5m&quot;</span><span class=p>)</span>
<span class=w>    </span><span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
<span class=w>    </span><span class=nx>time</span><span class=p>.</span><span class=nx>Sleep</span><span class=p>(</span><span class=mi>60</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=nx>time</span><span class=p>.</span><span class=nx>Second</span><span class=p>)</span><span class=w> </span><span class=c1>// Update every minute</span>
<span class=p>}</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c># Dead man&#39;s switch: keeps pushing a scheduled message into the future</span>
<span class=c># If this script stops, the alert will be delivered after 5 minutes</span>
<span class=k>while</span> <span class=p>(</span><span class=nv>$true</span><span class=p>)</span> <span class=p>{</span>
    <span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
        <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
        <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/mytopic/heartbeat-check&quot;</span>
        <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=k>In</span> <span class=p>=</span> <span class=s2>&quot;5m&quot;</span> <span class=p>}</span>
        <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Warning: Server heartbeat stopped!&quot;</span>
    <span class=p>}</span>
    <span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
    <span class=nb>Start-Sleep</span> <span class=n>-Seconds</span> <span class=n>60</span>  <span class=c># Update every minute</span>
<span class=p>}</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>requests</span>
<span class=kn>import</span><span class=w> </span><span class=nn>time</span>

<span class=c1># Dead man&#39;s switch: keeps pushing a scheduled message into the future</span>
<span class=c1># If this script stops, the alert will be delivered after 5 minutes</span>
<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
    <span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span>
        <span class=s2>&quot;https://ntfy.sh/mytopic/heartbeat-check&quot;</span><span class=p>,</span>
        <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Warning: Server heartbeat stopped!&quot;</span><span class=p>,</span>
        <span class=n>headers</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;In&quot;</span><span class=p>:</span> <span class=s2>&quot;5m&quot;</span><span class=p>}</span>
    <span class=p>)</span>
    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>60</span><span class=p>)</span> <span class=c1># Update every minute</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// Dead man&#39;s switch: keeps pushing a scheduled message into the future</span>
<span class=c1>// If this script stops, the alert will be delivered after 5 minutes</span>
<span class=k>while</span> <span class=p>(</span><span class=k>true</span><span class=p>)</span> <span class=p>{</span>
    <span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic/heartbeat-check&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
        <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
            <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
            <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>In: 5m&quot;</span><span class=p>,</span>
            <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Warning: Server heartbeat stopped!&#39;</span>
        <span class=p>]</span>
    <span class=p>]));</span>
    <span class=nb>sleep</span><span class=p>(</span><span class=mi>60</span><span class=p>);</span> <span class=c1>// Update every minute</span>
<span class=p>}</span>
</code></pre></div> </div> </div> </div> <h3 id=canceling-scheduled-notifications>Canceling scheduled notifications<a class=headerlink href=#canceling-scheduled-notifications title="Permanent link">&para;</a></h3> <p>You can cancel a scheduled message before it is delivered by sending a DELETE request to the <code>/&lt;topic&gt;/&lt;sequence_id&gt;</code> endpoint, just like <a href=#deleting-notifications>deleting notifications</a>. This will remove the scheduled message from the server so it will never be delivered, and emit a <code>message_delete</code> event to any subscribers.</p> <div class="tabbed-set tabbed-alternate" data-tabs=25:8><input checked=checked id=__tabbed_25_1 name=__tabbed_25 type=radio><input id=__tabbed_25_2 name=__tabbed_25 type=radio><input id=__tabbed_25_3 name=__tabbed_25 type=radio><input id=__tabbed_25_4 name=__tabbed_25 type=radio><input id=__tabbed_25_5 name=__tabbed_25 type=radio><input id=__tabbed_25_6 name=__tabbed_25 type=radio><input id=__tabbed_25_7 name=__tabbed_25 type=radio><input id=__tabbed_25_8 name=__tabbed_25 type=radio><div class=tabbed-labels><label for=__tabbed_25_1>Command line (curl)</label><label for=__tabbed_25_2>ntfy CLI</label><label for=__tabbed_25_3>HTTP</label><label for=__tabbed_25_4>JavaScript</label><label for=__tabbed_25_5>Go</label><label for=__tabbed_25_6>PowerShell</label><label for=__tabbed_25_7>Python</label><label for=__tabbed_25_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1># Schedule a reminder for 2 hours from now</span>
curl<span class=w> </span>-H<span class=w> </span><span class=s2>&quot;In: 2h&quot;</span><span class=w> </span>-d<span class=w> </span><span class=s2>&quot;Take a break!&quot;</span><span class=w> </span>ntfy.sh/mytopic/break-reminder

<span class=c1># Changed your mind? Cancel the scheduled message</span>
curl<span class=w> </span>-X<span class=w> </span>DELETE<span class=w> </span>ntfy.sh/mytopic/break-reminder
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1># Schedule a reminder for 2 hours from now</span>
ntfy<span class=w> </span>publish<span class=w> </span>--in<span class=o>=</span><span class=s2>&quot;2h&quot;</span><span class=w> </span>mytopic/break-reminder<span class=w> </span><span class=s2>&quot;Take a break!&quot;</span>

<span class=c1># Changed your mind? Cancel the scheduled message</span>
<span class=c1># (ntfy CLI does not support DELETE, use curl instead)</span>
curl<span class=w> </span>-X<span class=w> </span>DELETE<span class=w> </span>ntfy.sh/mytopic/break-reminder
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>DELETE</span> <span class=nn>/mytopic/break-reminder</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// Schedule a reminder for 2 hours from now</span>
<span class=k>await</span><span class=w> </span><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic/break-reminder&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Take a break!&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;In&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;2h&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>});</span>

<span class=c1>// Changed your mind? Cancel the scheduled message</span>
<span class=k>await</span><span class=w> </span><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic/break-reminder&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;DELETE&#39;</span>
<span class=p>});</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// Schedule a reminder for 2 hours from now</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mytopic/break-reminder&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Take a break!&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;In&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;2h&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>

<span class=c1>// Changed your mind? Cancel the scheduled message</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;DELETE&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mytopic/break-reminder&quot;</span><span class=p>,</span><span class=w> </span><span class=kc>nil</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c># Schedule a reminder for 2 hours from now</span>
<span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
    <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/mytopic/break-reminder&quot;</span>
    <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=k>In</span> <span class=p>=</span> <span class=s2>&quot;2h&quot;</span> <span class=p>}</span>
    <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Take a break!&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>

<span class=c># Changed your mind? Cancel the scheduled message</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=n>DELETE</span> <span class=n>-Uri</span> <span class=s2>&quot;https://ntfy.sh/mytopic/break-reminder&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>requests</span>

<span class=c1># Schedule a reminder for 2 hours from now</span>
<span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span>
    <span class=s2>&quot;https://ntfy.sh/mytopic/break-reminder&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Take a break!&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;In&quot;</span><span class=p>:</span> <span class=s2>&quot;2h&quot;</span><span class=p>}</span>
<span class=p>)</span>

<span class=c1># Changed your mind? Cancel the scheduled message</span>
<span class=n>requests</span><span class=o>.</span><span class=n>delete</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic/break-reminder&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// Schedule a reminder for 2 hours from now</span>
<span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic/break-reminder&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>In: 2h&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Take a break!&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>

<span class=c1>// Changed your mind? Cancel the scheduled message</span>
<span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic/break-reminder&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span><span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;DELETE&#39;</span><span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <h2 id=message-templating>Message templating<a class=headerlink href=#message-templating title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>Templating lets you <strong>format a JSON message body into human-friendly message and title text</strong> using <a href=https://pkg.go.dev/text/template>Go templates</a> (see tutorials <a href=https://blog.gopheracademy.com/advent-2017/using-go-templates/ >here</a>, <a href=https://www.digitalocean.com/community/tutorials/how-to-use-templates-in-go>here</a>, and <a href=https://developer.hashicorp.com/nomad/tutorials/templates/go-template-syntax>here</a>). This is specifically useful when <strong>combined with webhooks</strong> from services such as <a href=https://docs.github.com/en/webhooks/about-webhooks>GitHub</a>, <a href=https://grafana.com/docs/grafana/latest/alerting/configure-notifications/manage-contact-points/integrations/webhook-notifier/ >Grafana</a>, <a href=https://prometheus.io/docs/alerting/latest/configuration/#webhook_config>Alertmanager</a>, or other services that emit JSON webhooks.</p> <p>Instead of using a separate bridge program to parse the webhook body into the format ntfy expects, you can include a templated message and/or a templated title which will be populated based on the fields of the webhook body (so long as the webhook body is valid JSON).</p> <p>You can enable templating by setting the <code>X-Template</code> header (or its aliases <code>Template</code> or <code>tpl</code>, or the query parameter <code>?template=...</code>):</p> <ul> <li><strong>Pre-defined template files</strong>: Setting the <code>X-Template</code> header or query parameter to a pre-defined template name (one of <code>github</code>, <code>grafana</code>, or <code>alertmanager</code>, such as <code>?template=github</code>) will use the built-in template with that name. See <a href=#pre-defined-templates>pre-defined templates</a> for more details.</li> <li><strong>Custom template files</strong>: Setting the <code>X-Template</code> header or query parameter to a custom template name (e.g. <code>?template=myapp</code>) will use a custom template file from the template directory (defaults to <code>/etc/ntfy/templates</code>, can be overridden with <code>template-dir</code>). See <a href=#custom-templates>custom templates</a> for more details.</li> <li><strong>Inline templating</strong>: Setting the <code>X-Template</code> header or query parameter to <code>yes</code> or <code>1</code> (e.g. <code>?template=yes</code>) will enable inline templating, which means that the <code>message</code>, <code>title</code>, and/or <code>priority</code> will be parsed as a Go template. See <a href=#inline-templating>inline templating</a> for more details.</li> </ul> <p>To learn the basics of Go's templating language, please see <a href=#template-syntax>template syntax</a>.</p> <h3 id=pre-defined-templates>Pre-defined templates<a class=headerlink href=#pre-defined-templates title="Permanent link">&para;</a></h3> <p>When <code>X-Template: &lt;name&gt;</code> (aliases: <code>Template: &lt;name&gt;</code>, <code>Tpl: &lt;name&gt;</code>) or <code>?template=&lt;name&gt;</code> is set, ntfy will transform the message and/or title based on one of the built-in pre-defined templates.</p> <p>The following <strong>pre-defined templates</strong> are available:</p> <ul> <li><code>github</code>: Formats a subset of <a href=https://docs.github.com/en/webhooks/about-webhooks>GitHub webhook</a> payloads (PRs, issues, new star, new watcher, new comment). See <a href=https://github.com/binwiederhier/ntfy/blob/main/server/templates/github.yml>github.yml</a>.</li> <li><code>grafana</code>: Formats <a href=https://grafana.com/docs/grafana/latest/alerting/configure-notifications/manage-contact-points/integrations/webhook-notifier/ >Grafana webhook</a> payloads (firing/resolved alerts). See <a href=https://github.com/binwiederhier/ntfy/blob/main/server/templates/grafana.yml>grafana.yml</a>.</li> <li><code>alertmanager</code>: Formats <a href=https://prometheus.io/docs/alerting/latest/configuration/#webhook_config>Alertmanager webhook</a> payloads (firing/resolved alerts). See <a href=https://github.com/binwiederhier/ntfy/blob/main/server/templates/alertmanager.yml>alertmanager.yml</a>.</li> </ul> <p>To override the pre-defined templates, you can place a file with the same name in the template directory (defaults to <code>/etc/ntfy/templates</code>, can be overridden with <code>template-dir</code>). See <a href=#custom-templates>custom templates</a> for more details.</p> <p>Here's an example of how to use the <strong>pre-defined <code>github</code> template</strong>: </p> <p>First, configure the webhook in GitHub to send a webhook to your ntfy topic, e.g. <code>https://ntfy.sh/mytopic?template=github</code>.</p> <figure> <p><img alt="GitHub webhook config" src=../static/img/screenshot-github-webhook-config.png width=600> </p> <figcaption>GitHub webhook configuration</figcaption> </figure> <p>After that, when GitHub publishes a JSON webhook to the topic, ntfy will transform it according to the template rules and you'll receive notifications in the ntfy app. Here's an example for when somebody stars your repository:</p> <figure> <p><img alt="pre-defined template" src=../static/img/android-screenshot-template-predefined.png width=500> </p> <figcaption>Receiving a webhook, formatted using the pre-defined "github" template</figcaption> </figure> <h3 id=custom-templates>Custom templates<a class=headerlink href=#custom-templates title="Permanent link">&para;</a></h3> <p>To define <strong>your own custom templates</strong>, place a template file in the template directory (defaults to <code>/etc/ntfy/templates</code>, can be overridden with <code>template-dir</code>) and set the <code>X-Template</code> header or query parameter to the name of the template file (without the <code>.yml</code> extension). </p> <p>For example, if you have a template file <code>/etc/ntfy/templates/myapp.yml</code>, you can set the header <code>X-Template: myapp</code> or the query parameter <code>?template=myapp</code> to use it.</p> <p>Template files must have the <code>.yml</code> (not: <code>.yaml</code>!) extension and must be formatted as YAML. They may contain <code>title</code>, <code>message</code>, and <code>priority</code> keys, which are interpreted as Go templates.</p> <p>Here's an <strong>example custom template</strong>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=26:1><input checked=checked id=__tabbed_26_1 name=__tabbed_26 type=radio><div class=tabbed-labels><label for=__tabbed_26_1>Custom template (/etc/ntfy/templates/myapp.yml)</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<span class=w>  </span><span class=no>{{- if eq .status &quot;firing&quot; }}</span>
<span class=w>    </span><span class=no>{{- if gt .percent 90.0 }}üö® Critical alert</span>
<span class=w>    </span><span class=no>{{- else }}‚ö†Ô∏è Alert{{- end }}</span>
<span class=w>  </span><span class=no>{{- else if eq .status &quot;resolved&quot; }}</span>
<span class=w>  </span><span class=no>‚úÖ Alert resolved</span>
<span class=w>  </span><span class=no>{{- end }}</span>
<span class=nt>message</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<span class=w>  </span><span class=no>Status: {{ .status }}</span>
<span class=w>  </span><span class=no>Type: {{ .type | upper }} ({{ .percent }}%)</span>
<span class=w>  </span><span class=no>Server: {{ .server }}</span>
<span class=nt>priority</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<span class=w>  </span><span class=no>{{ if gt .percent 90.0 }}5</span>
<span class=w>  </span><span class=no>{{ else if gt .percent 75.0 }}4</span>
<span class=w>  </span><span class=no>{{ else }}3</span>
<span class=w>  </span><span class=no>{{ end }}</span>
</code></pre></div> </div> </div> </div> <p>Once you have the template file in place, you can send the payload to your topic using the <code>X-Template</code> header or query parameter:</p> <div class="tabbed-set tabbed-alternate" data-tabs=27:8><input checked=checked id=__tabbed_27_1 name=__tabbed_27 type=radio><input id=__tabbed_27_2 name=__tabbed_27 type=radio><input id=__tabbed_27_3 name=__tabbed_27 type=radio><input id=__tabbed_27_4 name=__tabbed_27 type=radio><input id=__tabbed_27_5 name=__tabbed_27 type=radio><input id=__tabbed_27_6 name=__tabbed_27 type=radio><input id=__tabbed_27_7 name=__tabbed_27 type=radio><input id=__tabbed_27_8 name=__tabbed_27 type=radio><div class=tabbed-labels><label for=__tabbed_27_1>Command line (curl)</label><label for=__tabbed_27_2>ntfy CLI</label><label for=__tabbed_27_3>HTTP</label><label for=__tabbed_27_4>JavaScript</label><label for=__tabbed_27_5>Go</label><label for=__tabbed_27_6>PowerShell</label><label for=__tabbed_27_7>Python</label><label for=__tabbed_27_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>echo &#39;{&quot;status&quot;:&quot;firing&quot;,&quot;type&quot;:&quot;cpu&quot;,&quot;server&quot;:&quot;ntfy.sh&quot;,&quot;percent&quot;:99}&#39; | \
  curl -sT- &quot;https://ntfy.example.com/mytopic?template=myapp&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>echo &#39;{&quot;status&quot;:&quot;firing&quot;,&quot;type&quot;:&quot;cpu&quot;,&quot;server&quot;:&quot;ntfy.sh&quot;,&quot;percent&quot;:99}&#39; | \
  ntfy publish --template=myapp https://ntfy.example.com/mytopic 
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mytopic?template=myapp</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.example.com</span>

{
  &quot;status&quot;: &quot;firing&quot;,
  &quot;type&quot;: &quot;cpu&quot;,
  &quot;server&quot;: &quot;ntfy.sh&quot;,
  &quot;percent&quot;: 99
}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mytopic?template=myapp&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;{&quot;status&quot;:&quot;firing&quot;,&quot;type&quot;:&quot;cpu&quot;,&quot;server&quot;:&quot;ntfy.sh&quot;,&quot;percent&quot;:99}&#39;</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>payload</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`{&quot;status&quot;:&quot;firing&quot;,&quot;type&quot;:&quot;cpu&quot;,&quot;server&quot;:&quot;ntfy.sh&quot;,&quot;percent&quot;:99}`</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.example.com/mytopic?template=myapp&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=nx>payload</span><span class=p>))</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>Uri</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.example.com/mytopic?template=myapp&quot;</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s1>&#39;{&quot;status&quot;:&quot;firing&quot;,&quot;type&quot;:&quot;cpu&quot;,&quot;server&quot;:&quot;ntfy.sh&quot;,&quot;percent&quot;:99}&#39;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.example.com/mytopic?template=myapp&quot;</span><span class=p>,</span>
  <span class=n>json</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;status&quot;</span><span class=p>:</span><span class=s2>&quot;firing&quot;</span><span class=p>,</span><span class=s2>&quot;type&quot;</span><span class=p>:</span><span class=s2>&quot;cpu&quot;</span><span class=p>,</span><span class=s2>&quot;server&quot;</span><span class=p>:</span><span class=s2>&quot;ntfy.sh&quot;</span><span class=p>,</span><span class=s2>&quot;percent&quot;</span><span class=p>:</span><span class=mi>99</span><span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mytopic?template=myapp&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;Content-Type: application/json&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;{&quot;status&quot;:&quot;firing&quot;,&quot;type&quot;:&quot;cpu&quot;,&quot;server&quot;:&quot;ntfy.sh&quot;,&quot;percent&quot;:99}&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>Which will result in a notification that looks like this:</p> <figure> <p><img alt="notification from custom JSON webhook template" src=../static/img/android-screenshot-template-custom.png width=500> </p> <figcaption>JSON webhook, transformed using a custom template</figcaption> </figure> <h3 id=inline-templating>Inline templating<a class=headerlink href=#inline-templating title="Permanent link">&para;</a></h3> <p>When <code>X-Template: yes</code> (aliases: <code>Template: yes</code>, <code>Tpl: yes</code>) or <code>?template=yes</code> is set, you can use Go templates in the <code>message</code>, <code>title</code>, and <code>priority</code> fields of your webhook payload. </p> <p>Inline templates are most useful for templated one-off messages, or if you do not control the ntfy server (e.g., if you're using ntfy.sh). Consider using <a href=#pre-defined-templates>pre-defined templates</a> or <a href=#custom-templates>custom templates</a> instead, if you control the ntfy server, as templates are much easier to maintain.</p> <p>Here's an <strong>example for a Grafana alert</strong>:</p> <figure> <p><img alt="notification with actions" src=../static/img/android-screenshot-template.jpg width=500> </p> <figcaption>Grafana webhook, formatted using templates</figcaption> </figure> <p>This was sent using the following templates and payloads</p> <div class="tabbed-set tabbed-alternate" data-tabs=28:4><input checked=checked id=__tabbed_28_1 name=__tabbed_28 type=radio><input id=__tabbed_28_2 name=__tabbed_28 type=radio><input id=__tabbed_28_3 name=__tabbed_28 type=radio><input id=__tabbed_28_4 name=__tabbed_28 type=radio><div class=tabbed-labels><label for=__tabbed_28_1>Message template</label><label for=__tabbed_28_2>Title template</label><label for=__tabbed_28_3>Encoded webhook URL</label><label for=__tabbed_28_4>Grafana-sent payload</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>{{range .alerts}}
  {{.annotations.summary}}

  Values:
  {{range $k,$v := .values}}
    - {{$k}}={{$v}}
  {{end}}
{{end}}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>{{.title}}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code># Additional URL encoding (see https://www.urlencoder.org/) is necessary for Grafana, 
# and may be required for other tools too

https://ntfy.sh/mytopic?tpl=1&amp;t=%7B%7B.title%7D%7D&amp;m=%7B%7Brange%20.alerts%7D%7D%7B%7B.annotations.summary%7D%7D%5Cn%5CnValues%3A%5Cn%7B%7Brange%20%24k%2C%24v%20%3A%3D%20.values%7D%7D-%20%7B%7B%24k%7D%7D%3D%7B%7B%24v%7D%7D%5Cn%7B%7Bend%7D%7D%7B%7Bend%7D%7D
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>{&quot;receiver&quot;:&quot;ntfy\\.example\\.com/alerts&quot;,&quot;status&quot;:&quot;resolved&quot;,&quot;alerts&quot;:[{&quot;status&quot;:&quot;resolved&quot;,&quot;labels&quot;:{&quot;alertname&quot;:&quot;Load avg 15m too high&quot;,&quot;grafana_folder&quot;:&quot;Node alerts&quot;,&quot;instance&quot;:&quot;10.108.0.2:9100&quot;,&quot;job&quot;:&quot;node-exporter&quot;},&quot;annotations&quot;:{&quot;summary&quot;:&quot;15m load average too high&quot;},&quot;startsAt&quot;:&quot;2024-03-15T02:28:00Z&quot;,&quot;endsAt&quot;:&quot;2024-03-15T02:42:00Z&quot;,&quot;generatorURL&quot;:&quot;localhost:3000/alerting/grafana/NW9oDw-4z/view&quot;,&quot;fingerprint&quot;:&quot;becbfb94bd81ef48&quot;,&quot;silenceURL&quot;:&quot;localhost:3000/alerting/silence/new?alertmanager=grafana&amp;matcher=alertname%3DLoad+avg+15m+too+high&amp;matcher=grafana_folder%3DNode+alerts&amp;matcher=instance%3D10.108.0.2%3A9100&amp;matcher=job%3Dnode-exporter&quot;,&quot;dashboardURL&quot;:&quot;&quot;,&quot;panelURL&quot;:&quot;&quot;,&quot;values&quot;:{&quot;B&quot;:18.98211314475876,&quot;C&quot;:0},&quot;valueString&quot;:&quot;[ var=&#39;B&#39; labels={__name__=node_load15, instance=10.108.0.2:9100, job=node-exporter} value=18.98211314475876 ], [ var=&#39;C&#39; labels={__name__=node_load15, instance=10.108.0.2:9100, job=node-exporter} value=0 ]&quot;}],&quot;groupLabels&quot;:{&quot;alertname&quot;:&quot;Load avg 15m too high&quot;,&quot;grafana_folder&quot;:&quot;Node alerts&quot;},&quot;commonLabels&quot;:{&quot;alertname&quot;:&quot;Load avg 15m too high&quot;,&quot;grafana_folder&quot;:&quot;Node alerts&quot;,&quot;instance&quot;:&quot;10.108.0.2:9100&quot;,&quot;job&quot;:&quot;node-exporter&quot;},&quot;commonAnnotations&quot;:{&quot;summary&quot;:&quot;15m load average too high&quot;},&quot;externalURL&quot;:&quot;localhost:3000/&quot;,&quot;version&quot;:&quot;1&quot;,&quot;groupKey&quot;:&quot;{}:{alertname=\&quot;Load avg 15m too high\&quot;, grafana_folder=\&quot;Node alerts\&quot;}&quot;,&quot;truncatedAlerts&quot;:0,&quot;orgId&quot;:1,&quot;title&quot;:&quot;[RESOLVED] Load avg 15m too high Node alerts (10.108.0.2:9100 node-exporter)&quot;,&quot;state&quot;:&quot;ok&quot;,&quot;message&quot;:&quot;**Resolved**\n\nValue: B=18.98211314475876, C=0\nLabels:\n - alertname = Load avg 15m too high\n - grafana_folder = Node alerts\n - instance = 10.108.0.2:9100\n - job = node-exporter\nAnnotations:\n - summary = 15m load average too high\nSource: localhost:3000/alerting/grafana/NW9oDw-4z/view\nSilence: localhost:3000/alerting/silence/new?alertmanager=grafana&amp;matcher=alertname%3DLoad+avg+15m+too+high&amp;matcher=grafana_folder%3DNode+alerts&amp;matcher=instance%3D10.108.0.2%3A9100&amp;matcher=job%3Dnode-exporter\n&quot;}
</code></pre></div> </div> </div> </div> <p>Here's an <strong>easier example with a shorter JSON payload</strong>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=29:7><input checked=checked id=__tabbed_29_1 name=__tabbed_29 type=radio><input id=__tabbed_29_2 name=__tabbed_29 type=radio><input id=__tabbed_29_3 name=__tabbed_29 type=radio><input id=__tabbed_29_4 name=__tabbed_29 type=radio><input id=__tabbed_29_5 name=__tabbed_29 type=radio><input id=__tabbed_29_6 name=__tabbed_29 type=radio><input id=__tabbed_29_7 name=__tabbed_29 type=radio><div class=tabbed-labels><label for=__tabbed_29_1>Command line (curl)</label><label for=__tabbed_29_2>HTTP</label><label for=__tabbed_29_3>JavaScript</label><label for=__tabbed_29_4>Go</label><label for=__tabbed_29_5>PowerShell</label><label for=__tabbed_29_6>Python</label><label for=__tabbed_29_7>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code># To use { and } in the URL without encoding, we need to turn off
# curl&#39;s globbing using --globoff

curl \
    --globoff \
    -d &#39;{&quot;hostname&quot;: &quot;phil-pc&quot;, &quot;error&quot;: {&quot;level&quot;: &quot;severe&quot;, &quot;desc&quot;: &quot;Disk has run out of space&quot;}}&#39; \
    &#39;ntfy.sh/mytopic?tpl=yes&amp;t={{.hostname}}:+A+{{.error.level}}+error+has+occurred&amp;m=Error+message:+{{.error.desc}}&amp;p={{if+eq+.error.level+&quot;severe&quot;}}5{{else}}3{{end}}&#39;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mytopic?tpl=yes&amp;t={{.hostname}}:+A+{{.error.level}}+error+has+occurred&amp;m=Error+message:+{{.error.desc}}&amp;p={{if+eq+.error.level+&quot;severe&quot;}}5{{else}}3{{end}}</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

{&quot;hostname&quot;: &quot;phil-pc&quot;, &quot;error&quot;: {&quot;level&quot;: &quot;severe&quot;, &quot;desc&quot;: &quot;Disk has run out of space&quot;}}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic?tpl=yes&amp;t={{.hostname}}:+A+{{.error.level}}+error+has+occurred&amp;m=Error+message:+{{.error.desc}}&amp;p={{if+eq+.error.level+&quot;severe&quot;}}5{{else}}3{{end}}&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;{&quot;hostname&quot;: &quot;phil-pc&quot;, &quot;error&quot;: {&quot;level&quot;: &quot;severe&quot;, &quot;desc&quot;: &quot;Disk has run out of space&quot;}}&#39;</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>body</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`{&quot;hostname&quot;: &quot;phil-pc&quot;, &quot;error&quot;: {&quot;level&quot;: &quot;severe&quot;, &quot;desc&quot;: &quot;Disk has run out of space&quot;}}`</span>
<span class=nx>uri</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`https://ntfy.sh/mytopic?tpl=yes&amp;t={{.hostname}}:+A+{{.error.level}}+error+has+occurred&amp;m=Error+message:+{{.error.desc}}&amp;p={{if eq .error.level &quot;severe&quot;}}5{{else}}3{{end}}`</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>uri</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=nx>body</span><span class=p>))</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
    <span class=n>URI</span> <span class=p>=</span> <span class=s1>&#39;https://ntfy.sh/mytopic?tpl=yes&amp;t={{.hostname}}:+A+{{.error.level}}+error+has+occurred&amp;m=Error+message:+{{.error.desc}}&amp;p={{if+eq+.error.level+&quot;severe&quot;}}5{{else}}3{{end}}&#39;</span>
    <span class=n>Body</span> <span class=p>=</span> <span class=s1>&#39;{&quot;hostname&quot;: &quot;phil-pc&quot;, &quot;error&quot;: {&quot;level&quot;: &quot;severe&quot;, &quot;desc&quot;: &quot;Disk has run out of space&quot;}}&#39;</span>
    <span class=n>ContentType</span> <span class=p>=</span> <span class=s2>&quot;application/json&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span>
    <span class=s1>&#39;https://ntfy.sh/mytopic?tpl=yes&amp;t={{.hostname}}:+A+{{.error.level}}+error+has+occurred&amp;m=Error+message:+{{.error.desc}}&amp;p={{if+eq+.error.level+&quot;severe&quot;}}5{{else}}3{{end}}&#39;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s1>&#39;{&quot;hostname&quot;: &quot;phil-pc&quot;, &quot;error&quot;: {&quot;level&quot;: &quot;severe&quot;, &quot;desc&quot;: &quot;Disk has run out of space&quot;}}&#39;</span>
<span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic?tpl=yes&amp;t={{.hostname}}:+A+{{.error.level}}+error+has+occurred&amp;m=Error+message:+{{.error.desc}}&amp;p={{if+eq+.error.level+&quot;severe&quot;}}5{{else}}3{{end}}&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;Content-Type: application/json&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;{&quot;hostname&quot;: &quot;phil-pc&quot;, &quot;error&quot;: {&quot;level&quot;: &quot;severe&quot;, &quot;desc&quot;: &quot;Disk has run out of space&quot;}}&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>This example uses the <code>message</code>/<code>m</code>, <code>title</code>/<code>t</code>, and <code>priority</code>/<code>p</code> query parameters, but obviously this also works with the corresponding headers. It will send a notification with a title <code>phil-pc: A severe error has occurred</code>, a message <code>Error message: Disk has run out of space</code>, and priority <code>5</code> (max) if the level is "severe", or <code>3</code> (default) otherwise.</p> <h3 id=template-syntax>Template syntax<a class=headerlink href=#template-syntax title="Permanent link">&para;</a></h3> <p>ntfy uses <a href=https://pkg.go.dev/text/template>Go templates</a> for its templates, which is arguably one of the most powerful, yet also one of the worst templating languages out there.</p> <p>You can use the following features in your templates:</p> <ul> <li>Variables, e.g. <code>{{.alert.title}}</code> or <code>An error occurred: {{.error.desc}}</code></li> <li>Conditionals (if/else, e.g. <code>{{if eq .action "opened"}}..{{else}}..{{end}}</code>, see <a href="https://repeatit.io/#/share/eyJ0ZW1wbGF0ZSI6Ilt7ey5wdWxsX3JlcXVlc3QuaGVhZC5yZXBvLmZ1bGxfbmFtZX19XSBQdWxsIHJlcXVlc3Qge3tpZiBlcSAuYWN0aW9uIFwib3BlbmVkXCJ9fU9QRU5FRHt7ZWxzZX19Q0xPU0VEe3tlbmR9fToge3sucHVsbF9yZXF1ZXN0LnRpdGxlfX0iLCJpbnB1dCI6IntcbiAgXCJhY3Rpb25cIjogXCJvcGVuZWRcIixcbiAgXCJudW1iZXJcIjogMSxcbiAgXCJwdWxsX3JlcXVlc3RcIjoge1xuICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9wdWxscy8xXCIsXG4gICAgXCJpZFwiOiAxNzgzNDIwOTcyLFxuICAgIFwibm9kZV9pZFwiOiBcIlBSX2t3RE9IQWJkbzg1cVROZ3NcIixcbiAgICBcImh0bWxfdXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2JpbndpZWRlcmhpZXIvZGFiYmxlL3B1bGwvMVwiLFxuICAgIFwiZGlmZl91cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vYmlud2llZGVyaGllci9kYWJibGUvcHVsbC8xLmRpZmZcIixcbiAgICBcInBhdGNoX3VybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9iaW53aWVkZXJoaWVyL2RhYmJsZS9wdWxsLzEucGF0Y2hcIixcbiAgICBcImlzc3VlX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvaXNzdWVzLzFcIixcbiAgICBcIm51bWJlclwiOiAxLFxuICAgIFwic3RhdGVcIjogXCJvcGVuXCIsXG4gICAgXCJsb2NrZWRcIjogZmFsc2UsXG4gICAgXCJ0aXRsZVwiOiBcIkEgc2FtcGxlIFBSIGZyb20gUGhpbFwiLFxuICAgIFwidXNlclwiOiB7XG4gICAgICBcImxvZ2luXCI6IFwiYmlud2llZGVyaGllclwiLFxuICAgICAgXCJpZFwiOiA2NjQ1OTcsXG4gICAgICBcIm5vZGVfaWRcIjogXCJNRFE2VlhObGNqWTJORFU1Tnc9PVwiLFxuICAgICAgXCJhdmF0YXJfdXJsXCI6IFwiaHR0cHM6Ly9hdmF0YXJzLmdpdGh1YnVzZXJjb250ZW50LmNvbS91LzY2NDU5Nz92PTRcIixcbiAgICAgIFwiZ3JhdmF0YXJfaWRcIjogXCJcIixcbiAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyXCIsXG4gICAgICBcImh0bWxfdXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2JpbndpZWRlcmhpZXJcIixcbiAgICAgIFwiZm9sbG93ZXJzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9mb2xsb3dlcnNcIixcbiAgICAgIFwiZm9sbG93aW5nX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9mb2xsb3dpbmd7L290aGVyX3VzZXJ9XCIsXG4gICAgICBcImdpc3RzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9naXN0c3svZ2lzdF9pZH1cIixcbiAgICAgIFwic3RhcnJlZF91cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvc3RhcnJlZHsvb3duZXJ9ey9yZXBvfVwiLFxuICAgICAgXCJzdWJzY3JpcHRpb25zX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9zdWJzY3JpcHRpb25zXCIsXG4gICAgICBcIm9yZ2FuaXphdGlvbnNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL29yZ3NcIixcbiAgICAgIFwicmVwb3NfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL3JlcG9zXCIsXG4gICAgICBcImV2ZW50c191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvZXZlbnRzey9wcml2YWN5fVwiLFxuICAgICAgXCJyZWNlaXZlZF9ldmVudHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL3JlY2VpdmVkX2V2ZW50c1wiLFxuICAgICAgXCJ0eXBlXCI6IFwiVXNlclwiLFxuICAgICAgXCJzaXRlX2FkbWluXCI6IGZhbHNlXG4gICAgfSxcbiAgICBcImJvZHlcIjogbnVsbCxcbiAgICBcImNyZWF0ZWRfYXRcIjogXCIyMDI0LTAzLTIxVDAyOjUyOjA5WlwiLFxuICAgIFwidXBkYXRlZF9hdFwiOiBcIjIwMjQtMDMtMjFUMDI6NTI6MDlaXCIsXG4gICAgXCJjbG9zZWRfYXRcIjogbnVsbCxcbiAgICBcIm1lcmdlZF9hdFwiOiBudWxsLFxuICAgIFwibWVyZ2VfY29tbWl0X3NoYVwiOiBudWxsLFxuICAgIFwiYXNzaWduZWVcIjogbnVsbCxcbiAgICBcImFzc2lnbmVlc1wiOiBbXSxcbiAgICBcInJlcXVlc3RlZF9yZXZpZXdlcnNcIjogW10sXG4gICAgXCJyZXF1ZXN0ZWRfdGVhbXNcIjogW10sXG4gICAgXCJsYWJlbHNcIjogW10sXG4gICAgXCJtaWxlc3RvbmVcIjogbnVsbCxcbiAgICBcImRyYWZ0XCI6IGZhbHNlLFxuICAgIFwiY29tbWl0c191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL3B1bGxzLzEvY29tbWl0c1wiLFxuICAgIFwicmV2aWV3X2NvbW1lbnRzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvcHVsbHMvMS9jb21tZW50c1wiLFxuICAgIFwicmV2aWV3X2NvbW1lbnRfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9wdWxscy9jb21tZW50c3svbnVtYmVyfVwiLFxuICAgIFwiY29tbWVudHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9pc3N1ZXMvMS9jb21tZW50c1wiLFxuICAgIFwic3RhdHVzZXNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9zdGF0dXNlcy81NzAzODQyY2M1NzE1ZWQxZTM1OGQyM2ViYjY5M2RiMDk3NDdhZTliXCIsXG4gICAgXCJoZWFkXCI6IHtcbiAgICAgIFwibGFiZWxcIjogXCJiaW53aWVkZXJoaWVyOmFhXCIsXG4gICAgICBcInJlZlwiOiBcImFhXCIsXG4gICAgICBcInNoYVwiOiBcIjU3MDM4NDJjYzU3MTVlZDFlMzU4ZDIzZWJiNjkzZGIwOTc0N2FlOWJcIixcbiAgICAgIFwidXNlclwiOiB7XG4gICAgICAgIFwibG9naW5cIjogXCJiaW53aWVkZXJoaWVyXCIsXG4gICAgICAgIFwiaWRcIjogNjY0NTk3LFxuICAgICAgICBcIm5vZGVfaWRcIjogXCJNRFE2VlhObGNqWTJORFU1Tnc9PVwiLFxuICAgICAgICBcImF2YXRhcl91cmxcIjogXCJodHRwczovL2F2YXRhcnMuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3UvNjY0NTk3P3Y9NFwiLFxuICAgICAgICBcImdyYXZhdGFyX2lkXCI6IFwiXCIsXG4gICAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyXCIsXG4gICAgICAgIFwiaHRtbF91cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vYmlud2llZGVyaGllclwiLFxuICAgICAgICBcImZvbGxvd2Vyc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvZm9sbG93ZXJzXCIsXG4gICAgICAgIFwiZm9sbG93aW5nX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9mb2xsb3dpbmd7L290aGVyX3VzZXJ9XCIsXG4gICAgICAgIFwiZ2lzdHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL2dpc3Rzey9naXN0X2lkfVwiLFxuICAgICAgICBcInN0YXJyZWRfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL3N0YXJyZWR7L293bmVyfXsvcmVwb31cIixcbiAgICAgICAgXCJzdWJzY3JpcHRpb25zX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9zdWJzY3JpcHRpb25zXCIsXG4gICAgICAgIFwib3JnYW5pemF0aW9uc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvb3Jnc1wiLFxuICAgICAgICBcInJlcG9zX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9yZXBvc1wiLFxuICAgICAgICBcImV2ZW50c191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvZXZlbnRzey9wcml2YWN5fVwiLFxuICAgICAgICBcInJlY2VpdmVkX2V2ZW50c191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvcmVjZWl2ZWRfZXZlbnRzXCIsXG4gICAgICAgIFwidHlwZVwiOiBcIlVzZXJcIixcbiAgICAgICAgXCJzaXRlX2FkbWluXCI6IGZhbHNlXG4gICAgICB9LFxuICAgICAgXCJyZXBvXCI6IHtcbiAgICAgICAgXCJpZFwiOiA0NzAyMTIwMDMsXG4gICAgICAgIFwibm9kZV9pZFwiOiBcIlJfa2dET0hBYmRvd1wiLFxuICAgICAgICBcIm5hbWVcIjogXCJkYWJibGVcIixcbiAgICAgICAgXCJmdWxsX25hbWVcIjogXCJiaW53aWVkZXJoaWVyL2RhYmJsZVwiLFxuICAgICAgICBcInByaXZhdGVcIjogZmFsc2UsXG4gICAgICAgIFwib3duZXJcIjoge1xuICAgICAgICAgIFwibG9naW5cIjogXCJiaW53aWVkZXJoaWVyXCIsXG4gICAgICAgICAgXCJpZFwiOiA2NjQ1OTcsXG4gICAgICAgICAgXCJub2RlX2lkXCI6IFwiTURRNlZYTmxjalkyTkRVNU53PT1cIixcbiAgICAgICAgICBcImF2YXRhcl91cmxcIjogXCJodHRwczovL2F2YXRhcnMuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3UvNjY0NTk3P3Y9NFwiLFxuICAgICAgICAgIFwiZ3JhdmF0YXJfaWRcIjogXCJcIixcbiAgICAgICAgICBcInVybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllclwiLFxuICAgICAgICAgIFwiaHRtbF91cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vYmlud2llZGVyaGllclwiLFxuICAgICAgICAgIFwiZm9sbG93ZXJzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9mb2xsb3dlcnNcIixcbiAgICAgICAgICBcImZvbGxvd2luZ191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvZm9sbG93aW5ney9vdGhlcl91c2VyfVwiLFxuICAgICAgICAgIFwiZ2lzdHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL2dpc3Rzey9naXN0X2lkfVwiLFxuICAgICAgICAgIFwic3RhcnJlZF91cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvc3RhcnJlZHsvb3duZXJ9ey9yZXBvfVwiLFxuICAgICAgICAgIFwic3Vic2NyaXB0aW9uc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvc3Vic2NyaXB0aW9uc1wiLFxuICAgICAgICAgIFwib3JnYW5pemF0aW9uc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvb3Jnc1wiLFxuICAgICAgICAgIFwicmVwb3NfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL3JlcG9zXCIsXG4gICAgICAgICAgXCJldmVudHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL2V2ZW50c3svcHJpdmFjeX1cIixcbiAgICAgICAgICBcInJlY2VpdmVkX2V2ZW50c191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvcmVjZWl2ZWRfZXZlbnRzXCIsXG4gICAgICAgICAgXCJ0eXBlXCI6IFwiVXNlclwiLFxuICAgICAgICAgIFwic2l0ZV9hZG1pblwiOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBcImh0bWxfdXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2JpbndpZWRlcmhpZXIvZGFiYmxlXCIsXG4gICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJBIHJlcG8gZm9yIGRhYmJsaW5nXCIsXG4gICAgICAgIFwiZm9ya1wiOiBmYWxzZSxcbiAgICAgICAgXCJ1cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlXCIsXG4gICAgICAgIFwiZm9ya3NfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9mb3Jrc1wiLFxuICAgICAgICBcImtleXNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9rZXlzey9rZXlfaWR9XCIsXG4gICAgICAgIFwiY29sbGFib3JhdG9yc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2NvbGxhYm9yYXRvcnN7L2NvbGxhYm9yYXRvcn1cIixcbiAgICAgICAgXCJ0ZWFtc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL3RlYW1zXCIsXG4gICAgICAgIFwiaG9va3NfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9ob29rc1wiLFxuICAgICAgICBcImlzc3VlX2V2ZW50c191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2lzc3Vlcy9ldmVudHN7L251bWJlcn1cIixcbiAgICAgICAgXCJldmVudHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9ldmVudHNcIixcbiAgICAgICAgXCJhc3NpZ25lZXNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9hc3NpZ25lZXN7L3VzZXJ9XCIsXG4gICAgICAgIFwiYnJhbmNoZXNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9icmFuY2hlc3svYnJhbmNofVwiLFxuICAgICAgICBcInRhZ3NfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS90YWdzXCIsXG4gICAgICAgIFwiYmxvYnNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9naXQvYmxvYnN7L3NoYX1cIixcbiAgICAgICAgXCJnaXRfdGFnc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2dpdC90YWdzey9zaGF9XCIsXG4gICAgICAgIFwiZ2l0X3JlZnNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9naXQvcmVmc3svc2hhfVwiLFxuICAgICAgICBcInRyZWVzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvZ2l0L3RyZWVzey9zaGF9XCIsXG4gICAgICAgIFwic3RhdHVzZXNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9zdGF0dXNlcy97c2hhfVwiLFxuICAgICAgICBcImxhbmd1YWdlc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2xhbmd1YWdlc1wiLFxuICAgICAgICBcInN0YXJnYXplcnNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9zdGFyZ2F6ZXJzXCIsXG4gICAgICAgIFwiY29udHJpYnV0b3JzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvY29udHJpYnV0b3JzXCIsXG4gICAgICAgIFwic3Vic2NyaWJlcnNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9zdWJzY3JpYmVyc1wiLFxuICAgICAgICBcInN1YnNjcmlwdGlvbl91cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL3N1YnNjcmlwdGlvblwiLFxuICAgICAgICBcImNvbW1pdHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9jb21taXRzey9zaGF9XCIsXG4gICAgICAgIFwiZ2l0X2NvbW1pdHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9naXQvY29tbWl0c3svc2hhfVwiLFxuICAgICAgICBcImNvbW1lbnRzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvY29tbWVudHN7L251bWJlcn1cIixcbiAgICAgICAgXCJpc3N1ZV9jb21tZW50X3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvaXNzdWVzL2NvbW1lbnRzey9udW1iZXJ9XCIsXG4gICAgICAgIFwiY29udGVudHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9jb250ZW50cy97K3BhdGh9XCIsXG4gICAgICAgIFwiY29tcGFyZV91cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2NvbXBhcmUve2Jhc2V9Li4ue2hlYWR9XCIsXG4gICAgICAgIFwibWVyZ2VzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvbWVyZ2VzXCIsXG4gICAgICAgIFwiYXJjaGl2ZV91cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL3thcmNoaXZlX2Zvcm1hdH17L3JlZn1cIixcbiAgICAgICAgXCJkb3dubG9hZHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9kb3dubG9hZHNcIixcbiAgICAgICAgXCJpc3N1ZXNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9pc3N1ZXN7L251bWJlcn1cIixcbiAgICAgICAgXCJwdWxsc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL3B1bGxzey9udW1iZXJ9XCIsXG4gICAgICAgIFwibWlsZXN0b25lc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL21pbGVzdG9uZXN7L251bWJlcn1cIixcbiAgICAgICAgXCJub3RpZmljYXRpb25zX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvbm90aWZpY2F0aW9uc3s/c2luY2UsYWxsLHBhcnRpY2lwYXRpbmd9XCIsXG4gICAgICAgIFwibGFiZWxzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvbGFiZWxzey9uYW1lfVwiLFxuICAgICAgICBcInJlbGVhc2VzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvcmVsZWFzZXN7L2lkfVwiLFxuICAgICAgICBcImRlcGxveW1lbnRzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvZGVwbG95bWVudHNcIixcbiAgICAgICAgXCJjcmVhdGVkX2F0XCI6IFwiMjAyMi0wMy0xNVQxNTowNjoxN1pcIixcbiAgICAgICAgXCJ1cGRhdGVkX2F0XCI6IFwiMjAyMi0wMy0xNVQxNTowNjoxN1pcIixcbiAgICAgICAgXCJwdXNoZWRfYXRcIjogXCIyMDI0LTAzLTIxVDAyOjUyOjEwWlwiLFxuICAgICAgICBcImdpdF91cmxcIjogXCJnaXQ6Ly9naXRodWIuY29tL2JpbndpZWRlcmhpZXIvZGFiYmxlLmdpdFwiLFxuICAgICAgICBcInNzaF91cmxcIjogXCJnaXRAZ2l0aHViLmNvbTpiaW53aWVkZXJoaWVyL2RhYmJsZS5naXRcIixcbiAgICAgICAgXCJjbG9uZV91cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vYmlud2llZGVyaGllci9kYWJibGUuZ2l0XCIsXG4gICAgICAgIFwic3ZuX3VybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9iaW53aWVkZXJoaWVyL2RhYmJsZVwiLFxuICAgICAgICBcImhvbWVwYWdlXCI6IG51bGwsXG4gICAgICAgIFwic2l6ZVwiOiAxLFxuICAgICAgICBcInN0YXJnYXplcnNfY291bnRcIjogMCxcbiAgICAgICAgXCJ3YXRjaGVyc19jb3VudFwiOiAwLFxuICAgICAgICBcImxhbmd1YWdlXCI6IG51bGwsXG4gICAgICAgIFwiaGFzX2lzc3Vlc1wiOiB0cnVlLFxuICAgICAgICBcImhhc19wcm9qZWN0c1wiOiB0cnVlLFxuICAgICAgICBcImhhc19kb3dubG9hZHNcIjogdHJ1ZSxcbiAgICAgICAgXCJoYXNfd2lraVwiOiB0cnVlLFxuICAgICAgICBcImhhc19wYWdlc1wiOiBmYWxzZSxcbiAgICAgICAgXCJoYXNfZGlzY3Vzc2lvbnNcIjogZmFsc2UsXG4gICAgICAgIFwiZm9ya3NfY291bnRcIjogMCxcbiAgICAgICAgXCJtaXJyb3JfdXJsXCI6IG51bGwsXG4gICAgICAgIFwiYXJjaGl2ZWRcIjogZmFsc2UsXG4gICAgICAgIFwiZGlzYWJsZWRcIjogZmFsc2UsXG4gICAgICAgIFwib3Blbl9pc3N1ZXNfY291bnRcIjogMSxcbiAgICAgICAgXCJsaWNlbnNlXCI6IG51bGwsXG4gICAgICAgIFwiYWxsb3dfZm9ya2luZ1wiOiB0cnVlLFxuICAgICAgICBcImlzX3RlbXBsYXRlXCI6IGZhbHNlLFxuICAgICAgICBcIndlYl9jb21taXRfc2lnbm9mZl9yZXF1aXJlZFwiOiBmYWxzZSxcbiAgICAgICAgXCJ0b3BpY3NcIjogW10sXG4gICAgICAgIFwidmlzaWJpbGl0eVwiOiBcInB1YmxpY1wiLFxuICAgICAgICBcImZvcmtzXCI6IDAsXG4gICAgICAgIFwib3Blbl9pc3N1ZXNcIjogMSxcbiAgICAgICAgXCJ3YXRjaGVyc1wiOiAwLFxuICAgICAgICBcImRlZmF1bHRfYnJhbmNoXCI6IFwibWFpblwiLFxuICAgICAgICBcImFsbG93X3NxdWFzaF9tZXJnZVwiOiB0cnVlLFxuICAgICAgICBcImFsbG93X21lcmdlX2NvbW1pdFwiOiB0cnVlLFxuICAgICAgICBcImFsbG93X3JlYmFzZV9tZXJnZVwiOiB0cnVlLFxuICAgICAgICBcImFsbG93X2F1dG9fbWVyZ2VcIjogZmFsc2UsXG4gICAgICAgIFwiZGVsZXRlX2JyYW5jaF9vbl9tZXJnZVwiOiBmYWxzZSxcbiAgICAgICAgXCJhbGxvd191cGRhdGVfYnJhbmNoXCI6IGZhbHNlLFxuICAgICAgICBcInVzZV9zcXVhc2hfcHJfdGl0bGVfYXNfZGVmYXVsdFwiOiBmYWxzZSxcbiAgICAgICAgXCJzcXVhc2hfbWVyZ2VfY29tbWl0X21lc3NhZ2VcIjogXCJDT01NSVRfTUVTU0FHRVNcIixcbiAgICAgICAgXCJzcXVhc2hfbWVyZ2VfY29tbWl0X3RpdGxlXCI6IFwiQ09NTUlUX09SX1BSX1RJVExFXCIsXG4gICAgICAgIFwibWVyZ2VfY29tbWl0X21lc3NhZ2VcIjogXCJQUl9USVRMRVwiLFxuICAgICAgICBcIm1lcmdlX2NvbW1pdF90aXRsZVwiOiBcIk1FUkdFX01FU1NBR0VcIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJiYXNlXCI6IHtcbiAgICAgIFwibGFiZWxcIjogXCJiaW53aWVkZXJoaWVyOm1haW5cIixcbiAgICAgIFwicmVmXCI6IFwibWFpblwiLFxuICAgICAgXCJzaGFcIjogXCI3MmQ5MzFhMjBiYjgzZDEyM2FiNDVhY2NhZjc2MTE1MGM4YjAxMjExXCIsXG4gICAgICBcInVzZXJcIjoge1xuICAgICAgICBcImxvZ2luXCI6IFwiYmlud2llZGVyaGllclwiLFxuICAgICAgICBcImlkXCI6IDY2NDU5NyxcbiAgICAgICAgXCJub2RlX2lkXCI6IFwiTURRNlZYTmxjalkyTkRVNU53PT1cIixcbiAgICAgICAgXCJhdmF0YXJfdXJsXCI6IFwiaHR0cHM6Ly9hdmF0YXJzLmdpdGh1YnVzZXJjb250ZW50LmNvbS91LzY2NDU5Nz92PTRcIixcbiAgICAgICAgXCJncmF2YXRhcl9pZFwiOiBcIlwiLFxuICAgICAgICBcInVybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllclwiLFxuICAgICAgICBcImh0bWxfdXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2JpbndpZWRlcmhpZXJcIixcbiAgICAgICAgXCJmb2xsb3dlcnNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL2ZvbGxvd2Vyc1wiLFxuICAgICAgICBcImZvbGxvd2luZ191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvZm9sbG93aW5ney9vdGhlcl91c2VyfVwiLFxuICAgICAgICBcImdpc3RzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9naXN0c3svZ2lzdF9pZH1cIixcbiAgICAgICAgXCJzdGFycmVkX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9zdGFycmVkey9vd25lcn17L3JlcG99XCIsXG4gICAgICAgIFwic3Vic2NyaXB0aW9uc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvc3Vic2NyaXB0aW9uc1wiLFxuICAgICAgICBcIm9yZ2FuaXphdGlvbnNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL29yZ3NcIixcbiAgICAgICAgXCJyZXBvc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvcmVwb3NcIixcbiAgICAgICAgXCJldmVudHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL2V2ZW50c3svcHJpdmFjeX1cIixcbiAgICAgICAgXCJyZWNlaXZlZF9ldmVudHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL3JlY2VpdmVkX2V2ZW50c1wiLFxuICAgICAgICBcInR5cGVcIjogXCJVc2VyXCIsXG4gICAgICAgIFwic2l0ZV9hZG1pblwiOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIFwicmVwb1wiOiB7XG4gICAgICAgIFwiaWRcIjogNDcwMjEyMDAzLFxuICAgICAgICBcIm5vZGVfaWRcIjogXCJSX2tnRE9IQWJkb3dcIixcbiAgICAgICAgXCJuYW1lXCI6IFwiZGFiYmxlXCIsXG4gICAgICAgIFwiZnVsbF9uYW1lXCI6IFwiYmlud2llZGVyaGllci9kYWJibGVcIixcbiAgICAgICAgXCJwcml2YXRlXCI6IGZhbHNlLFxuICAgICAgICBcIm93bmVyXCI6IHtcbiAgICAgICAgICBcImxvZ2luXCI6IFwiYmlud2llZGVyaGllclwiLFxuICAgICAgICAgIFwiaWRcIjogNjY0NTk3LFxuICAgICAgICAgIFwibm9kZV9pZFwiOiBcIk1EUTZWWE5sY2pZMk5EVTVOdz09XCIsXG4gICAgICAgICAgXCJhdmF0YXJfdXJsXCI6IFwiaHR0cHM6Ly9hdmF0YXJzLmdpdGh1YnVzZXJjb250ZW50LmNvbS91LzY2NDU5Nz92PTRcIixcbiAgICAgICAgICBcImdyYXZhdGFyX2lkXCI6IFwiXCIsXG4gICAgICAgICAgXCJ1cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXJcIixcbiAgICAgICAgICBcImh0bWxfdXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2JpbndpZWRlcmhpZXJcIixcbiAgICAgICAgICBcImZvbGxvd2Vyc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvZm9sbG93ZXJzXCIsXG4gICAgICAgICAgXCJmb2xsb3dpbmdfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL2ZvbGxvd2luZ3svb3RoZXJfdXNlcn1cIixcbiAgICAgICAgICBcImdpc3RzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9naXN0c3svZ2lzdF9pZH1cIixcbiAgICAgICAgICBcInN0YXJyZWRfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL3N0YXJyZWR7L293bmVyfXsvcmVwb31cIixcbiAgICAgICAgICBcInN1YnNjcmlwdGlvbnNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL3N1YnNjcmlwdGlvbnNcIixcbiAgICAgICAgICBcIm9yZ2FuaXphdGlvbnNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL29yZ3NcIixcbiAgICAgICAgICBcInJlcG9zX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9yZXBvc1wiLFxuICAgICAgICAgIFwiZXZlbnRzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9ldmVudHN7L3ByaXZhY3l9XCIsXG4gICAgICAgICAgXCJyZWNlaXZlZF9ldmVudHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL3JlY2VpdmVkX2V2ZW50c1wiLFxuICAgICAgICAgIFwidHlwZVwiOiBcIlVzZXJcIixcbiAgICAgICAgICBcInNpdGVfYWRtaW5cIjogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgXCJodG1sX3VybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9iaW53aWVkZXJoaWVyL2RhYmJsZVwiLFxuICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQSByZXBvIGZvciBkYWJibGluZ1wiLFxuICAgICAgICBcImZvcmtcIjogZmFsc2UsXG4gICAgICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZVwiLFxuICAgICAgICBcImZvcmtzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvZm9ya3NcIixcbiAgICAgICAgXCJrZXlzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUva2V5c3sva2V5X2lkfVwiLFxuICAgICAgICBcImNvbGxhYm9yYXRvcnNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9jb2xsYWJvcmF0b3Jzey9jb2xsYWJvcmF0b3J9XCIsXG4gICAgICAgIFwidGVhbXNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS90ZWFtc1wiLFxuICAgICAgICBcImhvb2tzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvaG9va3NcIixcbiAgICAgICAgXCJpc3N1ZV9ldmVudHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9pc3N1ZXMvZXZlbnRzey9udW1iZXJ9XCIsXG4gICAgICAgIFwiZXZlbnRzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvZXZlbnRzXCIsXG4gICAgICAgIFwiYXNzaWduZWVzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvYXNzaWduZWVzey91c2VyfVwiLFxuICAgICAgICBcImJyYW5jaGVzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvYnJhbmNoZXN7L2JyYW5jaH1cIixcbiAgICAgICAgXCJ0YWdzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvdGFnc1wiLFxuICAgICAgICBcImJsb2JzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvZ2l0L2Jsb2Jzey9zaGF9XCIsXG4gICAgICAgIFwiZ2l0X3RhZ3NfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9naXQvdGFnc3svc2hhfVwiLFxuICAgICAgICBcImdpdF9yZWZzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvZ2l0L3JlZnN7L3NoYX1cIixcbiAgICAgICAgXCJ0cmVlc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2dpdC90cmVlc3svc2hhfVwiLFxuICAgICAgICBcInN0YXR1c2VzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvc3RhdHVzZXMve3NoYX1cIixcbiAgICAgICAgXCJsYW5ndWFnZXNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9sYW5ndWFnZXNcIixcbiAgICAgICAgXCJzdGFyZ2F6ZXJzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvc3RhcmdhemVyc1wiLFxuICAgICAgICBcImNvbnRyaWJ1dG9yc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2NvbnRyaWJ1dG9yc1wiLFxuICAgICAgICBcInN1YnNjcmliZXJzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvc3Vic2NyaWJlcnNcIixcbiAgICAgICAgXCJzdWJzY3JpcHRpb25fdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9zdWJzY3JpcHRpb25cIixcbiAgICAgICAgXCJjb21taXRzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvY29tbWl0c3svc2hhfVwiLFxuICAgICAgICBcImdpdF9jb21taXRzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvZ2l0L2NvbW1pdHN7L3NoYX1cIixcbiAgICAgICAgXCJjb21tZW50c191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2NvbW1lbnRzey9udW1iZXJ9XCIsXG4gICAgICAgIFwiaXNzdWVfY29tbWVudF91cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2lzc3Vlcy9jb21tZW50c3svbnVtYmVyfVwiLFxuICAgICAgICBcImNvbnRlbnRzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvY29udGVudHMveytwYXRofVwiLFxuICAgICAgICBcImNvbXBhcmVfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9jb21wYXJlL3tiYXNlfS4uLntoZWFkfVwiLFxuICAgICAgICBcIm1lcmdlc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL21lcmdlc1wiLFxuICAgICAgICBcImFyY2hpdmVfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS97YXJjaGl2ZV9mb3JtYXR9ey9yZWZ9XCIsXG4gICAgICAgIFwiZG93bmxvYWRzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvZG93bmxvYWRzXCIsXG4gICAgICAgIFwiaXNzdWVzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvaXNzdWVzey9udW1iZXJ9XCIsXG4gICAgICAgIFwicHVsbHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9wdWxsc3svbnVtYmVyfVwiLFxuICAgICAgICBcIm1pbGVzdG9uZXNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9taWxlc3RvbmVzey9udW1iZXJ9XCIsXG4gICAgICAgIFwibm90aWZpY2F0aW9uc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL25vdGlmaWNhdGlvbnN7P3NpbmNlLGFsbCxwYXJ0aWNpcGF0aW5nfVwiLFxuICAgICAgICBcImxhYmVsc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2xhYmVsc3svbmFtZX1cIixcbiAgICAgICAgXCJyZWxlYXNlc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL3JlbGVhc2Vzey9pZH1cIixcbiAgICAgICAgXCJkZXBsb3ltZW50c191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2RlcGxveW1lbnRzXCIsXG4gICAgICAgIFwiY3JlYXRlZF9hdFwiOiBcIjIwMjItMDMtMTVUMTU6MDY6MTdaXCIsXG4gICAgICAgIFwidXBkYXRlZF9hdFwiOiBcIjIwMjItMDMtMTVUMTU6MDY6MTdaXCIsXG4gICAgICAgIFwicHVzaGVkX2F0XCI6IFwiMjAyNC0wMy0yMVQwMjo1MjoxMFpcIixcbiAgICAgICAgXCJnaXRfdXJsXCI6IFwiZ2l0Oi8vZ2l0aHViLmNvbS9iaW53aWVkZXJoaWVyL2RhYmJsZS5naXRcIixcbiAgICAgICAgXCJzc2hfdXJsXCI6IFwiZ2l0QGdpdGh1Yi5jb206Ymlud2llZGVyaGllci9kYWJibGUuZ2l0XCIsXG4gICAgICAgIFwiY2xvbmVfdXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2JpbndpZWRlcmhpZXIvZGFiYmxlLmdpdFwiLFxuICAgICAgICBcInN2bl91cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vYmlud2llZGVyaGllci9kYWJibGVcIixcbiAgICAgICAgXCJob21lcGFnZVwiOiBudWxsLFxuICAgICAgICBcInNpemVcIjogMSxcbiAgICAgICAgXCJzdGFyZ2F6ZXJzX2NvdW50XCI6IDAsXG4gICAgICAgIFwid2F0Y2hlcnNfY291bnRcIjogMCxcbiAgICAgICAgXCJsYW5ndWFnZVwiOiBudWxsLFxuICAgICAgICBcImhhc19pc3N1ZXNcIjogdHJ1ZSxcbiAgICAgICAgXCJoYXNfcHJvamVjdHNcIjogdHJ1ZSxcbiAgICAgICAgXCJoYXNfZG93bmxvYWRzXCI6IHRydWUsXG4gICAgICAgIFwiaGFzX3dpa2lcIjogdHJ1ZSxcbiAgICAgICAgXCJoYXNfcGFnZXNcIjogZmFsc2UsXG4gICAgICAgIFwiaGFzX2Rpc2N1c3Npb25zXCI6IGZhbHNlLFxuICAgICAgICBcImZvcmtzX2NvdW50XCI6IDAsXG4gICAgICAgIFwibWlycm9yX3VybFwiOiBudWxsLFxuICAgICAgICBcImFyY2hpdmVkXCI6IGZhbHNlLFxuICAgICAgICBcImRpc2FibGVkXCI6IGZhbHNlLFxuICAgICAgICBcIm9wZW5faXNzdWVzX2NvdW50XCI6IDEsXG4gICAgICAgIFwibGljZW5zZVwiOiBudWxsLFxuICAgICAgICBcImFsbG93X2ZvcmtpbmdcIjogdHJ1ZSxcbiAgICAgICAgXCJpc190ZW1wbGF0ZVwiOiBmYWxzZSxcbiAgICAgICAgXCJ3ZWJfY29tbWl0X3NpZ25vZmZfcmVxdWlyZWRcIjogZmFsc2UsXG4gICAgICAgIFwidG9waWNzXCI6IFtdLFxuICAgICAgICBcInZpc2liaWxpdHlcIjogXCJwdWJsaWNcIixcbiAgICAgICAgXCJmb3Jrc1wiOiAwLFxuICAgICAgICBcIm9wZW5faXNzdWVzXCI6IDEsXG4gICAgICAgIFwid2F0Y2hlcnNcIjogMCxcbiAgICAgICAgXCJkZWZhdWx0X2JyYW5jaFwiOiBcIm1haW5cIixcbiAgICAgICAgXCJhbGxvd19zcXVhc2hfbWVyZ2VcIjogdHJ1ZSxcbiAgICAgICAgXCJhbGxvd19tZXJnZV9jb21taXRcIjogdHJ1ZSxcbiAgICAgICAgXCJhbGxvd19yZWJhc2VfbWVyZ2VcIjogdHJ1ZSxcbiAgICAgICAgXCJhbGxvd19hdXRvX21lcmdlXCI6IGZhbHNlLFxuICAgICAgICBcImRlbGV0ZV9icmFuY2hfb25fbWVyZ2VcIjogZmFsc2UsXG4gICAgICAgIFwiYWxsb3dfdXBkYXRlX2JyYW5jaFwiOiBmYWxzZSxcbiAgICAgICAgXCJ1c2Vfc3F1YXNoX3ByX3RpdGxlX2FzX2RlZmF1bHRcIjogZmFsc2UsXG4gICAgICAgIFwic3F1YXNoX21lcmdlX2NvbW1pdF9tZXNzYWdlXCI6IFwiQ09NTUlUX01FU1NBR0VTXCIsXG4gICAgICAgIFwic3F1YXNoX21lcmdlX2NvbW1pdF90aXRsZVwiOiBcIkNPTU1JVF9PUl9QUl9USVRMRVwiLFxuICAgICAgICBcIm1lcmdlX2NvbW1pdF9tZXNzYWdlXCI6IFwiUFJfVElUTEVcIixcbiAgICAgICAgXCJtZXJnZV9jb21taXRfdGl0bGVcIjogXCJNRVJHRV9NRVNTQUdFXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIFwiX2xpbmtzXCI6IHtcbiAgICAgIFwic2VsZlwiOiB7XG4gICAgICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvcHVsbHMvMVwiXG4gICAgICB9LFxuICAgICAgXCJodG1sXCI6IHtcbiAgICAgICAgXCJocmVmXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2JpbndpZWRlcmhpZXIvZGFiYmxlL3B1bGwvMVwiXG4gICAgICB9LFxuICAgICAgXCJpc3N1ZVwiOiB7XG4gICAgICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvaXNzdWVzLzFcIlxuICAgICAgfSxcbiAgICAgIFwiY29tbWVudHNcIjoge1xuICAgICAgICBcImhyZWZcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2lzc3Vlcy8xL2NvbW1lbnRzXCJcbiAgICAgIH0sXG4gICAgICBcInJldmlld19jb21tZW50c1wiOiB7XG4gICAgICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvcHVsbHMvMS9jb21tZW50c1wiXG4gICAgICB9LFxuICAgICAgXCJyZXZpZXdfY29tbWVudFwiOiB7XG4gICAgICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvcHVsbHMvY29tbWVudHN7L251bWJlcn1cIlxuICAgICAgfSxcbiAgICAgIFwiY29tbWl0c1wiOiB7XG4gICAgICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvcHVsbHMvMS9jb21taXRzXCJcbiAgICAgIH0sXG4gICAgICBcInN0YXR1c2VzXCI6IHtcbiAgICAgICAgXCJocmVmXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9zdGF0dXNlcy81NzAzODQyY2M1NzE1ZWQxZTM1OGQyM2ViYjY5M2RiMDk3NDdhZTliXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIFwiYXV0aG9yX2Fzc29jaWF0aW9uXCI6IFwiT1dORVJcIixcbiAgICBcImF1dG9fbWVyZ2VcIjogbnVsbCxcbiAgICBcImFjdGl2ZV9sb2NrX3JlYXNvblwiOiBudWxsLFxuICAgIFwibWVyZ2VkXCI6IGZhbHNlLFxuICAgIFwibWVyZ2VhYmxlXCI6IG51bGwsXG4gICAgXCJyZWJhc2VhYmxlXCI6IG51bGwsXG4gICAgXCJtZXJnZWFibGVfc3RhdGVcIjogXCJ1bmtub3duXCIsXG4gICAgXCJtZXJnZWRfYnlcIjogbnVsbCxcbiAgICBcImNvbW1lbnRzXCI6IDAsXG4gICAgXCJyZXZpZXdfY29tbWVudHNcIjogMCxcbiAgICBcIm1haW50YWluZXJfY2FuX21vZGlmeVwiOiBmYWxzZSxcbiAgICBcImNvbW1pdHNcIjogMSxcbiAgICBcImFkZGl0aW9uc1wiOiAxLFxuICAgIFwiZGVsZXRpb25zXCI6IDEsXG4gICAgXCJjaGFuZ2VkX2ZpbGVzXCI6IDFcbiAgfSxcbiAgXCJyZXBvc2l0b3J5XCI6IHtcbiAgICBcImlkXCI6IDQ3MDIxMjAwMyxcbiAgICBcIm5vZGVfaWRcIjogXCJSX2tnRE9IQWJkb3dcIixcbiAgICBcIm5hbWVcIjogXCJkYWJibGVcIixcbiAgICBcImZ1bGxfbmFtZVwiOiBcImJpbndpZWRlcmhpZXIvZGFiYmxlXCIsXG4gICAgXCJwcml2YXRlXCI6IGZhbHNlLFxuICAgIFwib3duZXJcIjoge1xuICAgICAgXCJsb2dpblwiOiBcImJpbndpZWRlcmhpZXJcIixcbiAgICAgIFwiaWRcIjogNjY0NTk3LFxuICAgICAgXCJub2RlX2lkXCI6IFwiTURRNlZYTmxjalkyTkRVNU53PT1cIixcbiAgICAgIFwiYXZhdGFyX3VybFwiOiBcImh0dHBzOi8vYXZhdGFycy5naXRodWJ1c2VyY29udGVudC5jb20vdS82NjQ1OTc/dj00XCIsXG4gICAgICBcImdyYXZhdGFyX2lkXCI6IFwiXCIsXG4gICAgICBcInVybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllclwiLFxuICAgICAgXCJodG1sX3VybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9iaW53aWVkZXJoaWVyXCIsXG4gICAgICBcImZvbGxvd2Vyc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvZm9sbG93ZXJzXCIsXG4gICAgICBcImZvbGxvd2luZ191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvZm9sbG93aW5ney9vdGhlcl91c2VyfVwiLFxuICAgICAgXCJnaXN0c191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvZ2lzdHN7L2dpc3RfaWR9XCIsXG4gICAgICBcInN0YXJyZWRfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL3N0YXJyZWR7L293bmVyfXsvcmVwb31cIixcbiAgICAgIFwic3Vic2NyaXB0aW9uc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvc3Vic2NyaXB0aW9uc1wiLFxuICAgICAgXCJvcmdhbml6YXRpb25zX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9vcmdzXCIsXG4gICAgICBcInJlcG9zX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9yZXBvc1wiLFxuICAgICAgXCJldmVudHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL2V2ZW50c3svcHJpdmFjeX1cIixcbiAgICAgIFwicmVjZWl2ZWRfZXZlbnRzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9yZWNlaXZlZF9ldmVudHNcIixcbiAgICAgIFwidHlwZVwiOiBcIlVzZXJcIixcbiAgICAgIFwic2l0ZV9hZG1pblwiOiBmYWxzZVxuICAgIH0sXG4gICAgXCJodG1sX3VybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9iaW53aWVkZXJoaWVyL2RhYmJsZVwiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJBIHJlcG8gZm9yIGRhYmJsaW5nXCIsXG4gICAgXCJmb3JrXCI6IGZhbHNlLFxuICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZVwiLFxuICAgIFwiZm9ya3NfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9mb3Jrc1wiLFxuICAgIFwia2V5c191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2tleXN7L2tleV9pZH1cIixcbiAgICBcImNvbGxhYm9yYXRvcnNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9jb2xsYWJvcmF0b3Jzey9jb2xsYWJvcmF0b3J9XCIsXG4gICAgXCJ0ZWFtc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL3RlYW1zXCIsXG4gICAgXCJob29rc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2hvb2tzXCIsXG4gICAgXCJpc3N1ZV9ldmVudHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9pc3N1ZXMvZXZlbnRzey9udW1iZXJ9XCIsXG4gICAgXCJldmVudHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9ldmVudHNcIixcbiAgICBcImFzc2lnbmVlc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2Fzc2lnbmVlc3svdXNlcn1cIixcbiAgICBcImJyYW5jaGVzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvYnJhbmNoZXN7L2JyYW5jaH1cIixcbiAgICBcInRhZ3NfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS90YWdzXCIsXG4gICAgXCJibG9ic191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2dpdC9ibG9ic3svc2hhfVwiLFxuICAgIFwiZ2l0X3RhZ3NfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9naXQvdGFnc3svc2hhfVwiLFxuICAgIFwiZ2l0X3JlZnNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9naXQvcmVmc3svc2hhfVwiLFxuICAgIFwidHJlZXNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9naXQvdHJlZXN7L3NoYX1cIixcbiAgICBcInN0YXR1c2VzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvc3RhdHVzZXMve3NoYX1cIixcbiAgICBcImxhbmd1YWdlc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2xhbmd1YWdlc1wiLFxuICAgIFwic3RhcmdhemVyc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL3N0YXJnYXplcnNcIixcbiAgICBcImNvbnRyaWJ1dG9yc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2NvbnRyaWJ1dG9yc1wiLFxuICAgIFwic3Vic2NyaWJlcnNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9zdWJzY3JpYmVyc1wiLFxuICAgIFwic3Vic2NyaXB0aW9uX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvc3Vic2NyaXB0aW9uXCIsXG4gICAgXCJjb21taXRzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvY29tbWl0c3svc2hhfVwiLFxuICAgIFwiZ2l0X2NvbW1pdHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9naXQvY29tbWl0c3svc2hhfVwiLFxuICAgIFwiY29tbWVudHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9jb21tZW50c3svbnVtYmVyfVwiLFxuICAgIFwiaXNzdWVfY29tbWVudF91cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2lzc3Vlcy9jb21tZW50c3svbnVtYmVyfVwiLFxuICAgIFwiY29udGVudHNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9jb250ZW50cy97K3BhdGh9XCIsXG4gICAgXCJjb21wYXJlX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvY29tcGFyZS97YmFzZX0uLi57aGVhZH1cIixcbiAgICBcIm1lcmdlc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL21lcmdlc1wiLFxuICAgIFwiYXJjaGl2ZV91cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL3thcmNoaXZlX2Zvcm1hdH17L3JlZn1cIixcbiAgICBcImRvd25sb2Fkc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2Rvd25sb2Fkc1wiLFxuICAgIFwiaXNzdWVzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvaXNzdWVzey9udW1iZXJ9XCIsXG4gICAgXCJwdWxsc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL3B1bGxzey9udW1iZXJ9XCIsXG4gICAgXCJtaWxlc3RvbmVzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvbWlsZXN0b25lc3svbnVtYmVyfVwiLFxuICAgIFwibm90aWZpY2F0aW9uc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL25vdGlmaWNhdGlvbnN7P3NpbmNlLGFsbCxwYXJ0aWNpcGF0aW5nfVwiLFxuICAgIFwibGFiZWxzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvYmlud2llZGVyaGllci9kYWJibGUvbGFiZWxzey9uYW1lfVwiLFxuICAgIFwicmVsZWFzZXNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9iaW53aWVkZXJoaWVyL2RhYmJsZS9yZWxlYXNlc3svaWR9XCIsXG4gICAgXCJkZXBsb3ltZW50c191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2JpbndpZWRlcmhpZXIvZGFiYmxlL2RlcGxveW1lbnRzXCIsXG4gICAgXCJjcmVhdGVkX2F0XCI6IFwiMjAyMi0wMy0xNVQxNTowNjoxN1pcIixcbiAgICBcInVwZGF0ZWRfYXRcIjogXCIyMDIyLTAzLTE1VDE1OjA2OjE3WlwiLFxuICAgIFwicHVzaGVkX2F0XCI6IFwiMjAyNC0wMy0yMVQwMjo1MjoxMFpcIixcbiAgICBcImdpdF91cmxcIjogXCJnaXQ6Ly9naXRodWIuY29tL2JpbndpZWRlcmhpZXIvZGFiYmxlLmdpdFwiLFxuICAgIFwic3NoX3VybFwiOiBcImdpdEBnaXRodWIuY29tOmJpbndpZWRlcmhpZXIvZGFiYmxlLmdpdFwiLFxuICAgIFwiY2xvbmVfdXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL2JpbndpZWRlcmhpZXIvZGFiYmxlLmdpdFwiLFxuICAgIFwic3ZuX3VybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9iaW53aWVkZXJoaWVyL2RhYmJsZVwiLFxuICAgIFwiaG9tZXBhZ2VcIjogbnVsbCxcbiAgICBcInNpemVcIjogMSxcbiAgICBcInN0YXJnYXplcnNfY291bnRcIjogMCxcbiAgICBcIndhdGNoZXJzX2NvdW50XCI6IDAsXG4gICAgXCJsYW5ndWFnZVwiOiBudWxsLFxuICAgIFwiaGFzX2lzc3Vlc1wiOiB0cnVlLFxuICAgIFwiaGFzX3Byb2plY3RzXCI6IHRydWUsXG4gICAgXCJoYXNfZG93bmxvYWRzXCI6IHRydWUsXG4gICAgXCJoYXNfd2lraVwiOiB0cnVlLFxuICAgIFwiaGFzX3BhZ2VzXCI6IGZhbHNlLFxuICAgIFwiaGFzX2Rpc2N1c3Npb25zXCI6IGZhbHNlLFxuICAgIFwiZm9ya3NfY291bnRcIjogMCxcbiAgICBcIm1pcnJvcl91cmxcIjogbnVsbCxcbiAgICBcImFyY2hpdmVkXCI6IGZhbHNlLFxuICAgIFwiZGlzYWJsZWRcIjogZmFsc2UsXG4gICAgXCJvcGVuX2lzc3Vlc19jb3VudFwiOiAxLFxuICAgIFwibGljZW5zZVwiOiBudWxsLFxuICAgIFwiYWxsb3dfZm9ya2luZ1wiOiB0cnVlLFxuICAgIFwiaXNfdGVtcGxhdGVcIjogZmFsc2UsXG4gICAgXCJ3ZWJfY29tbWl0X3NpZ25vZmZfcmVxdWlyZWRcIjogZmFsc2UsXG4gICAgXCJ0b3BpY3NcIjogW10sXG4gICAgXCJ2aXNpYmlsaXR5XCI6IFwicHVibGljXCIsXG4gICAgXCJmb3Jrc1wiOiAwLFxuICAgIFwib3Blbl9pc3N1ZXNcIjogMSxcbiAgICBcIndhdGNoZXJzXCI6IDAsXG4gICAgXCJkZWZhdWx0X2JyYW5jaFwiOiBcIm1haW5cIlxuICB9LFxuICBcInNlbmRlclwiOiB7XG4gICAgXCJsb2dpblwiOiBcImJpbndpZWRlcmhpZXJcIixcbiAgICBcImlkXCI6IDY2NDU5NyxcbiAgICBcIm5vZGVfaWRcIjogXCJNRFE2VlhObGNqWTJORFU1Tnc9PVwiLFxuICAgIFwiYXZhdGFyX3VybFwiOiBcImh0dHBzOi8vYXZhdGFycy5naXRodWJ1c2VyY29udGVudC5jb20vdS82NjQ1OTc/dj00XCIsXG4gICAgXCJncmF2YXRhcl9pZFwiOiBcIlwiLFxuICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyXCIsXG4gICAgXCJodG1sX3VybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9iaW53aWVkZXJoaWVyXCIsXG4gICAgXCJmb2xsb3dlcnNfdXJsXCI6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9iaW53aWVkZXJoaWVyL2ZvbGxvd2Vyc1wiLFxuICAgIFwiZm9sbG93aW5nX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9mb2xsb3dpbmd7L290aGVyX3VzZXJ9XCIsXG4gICAgXCJnaXN0c191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvZ2lzdHN7L2dpc3RfaWR9XCIsXG4gICAgXCJzdGFycmVkX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9zdGFycmVkey9vd25lcn17L3JlcG99XCIsXG4gICAgXCJzdWJzY3JpcHRpb25zX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9zdWJzY3JpcHRpb25zXCIsXG4gICAgXCJvcmdhbml6YXRpb25zX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9vcmdzXCIsXG4gICAgXCJyZXBvc191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvcmVwb3NcIixcbiAgICBcImV2ZW50c191cmxcIjogXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2JpbndpZWRlcmhpZXIvZXZlbnRzey9wcml2YWN5fVwiLFxuICAgIFwicmVjZWl2ZWRfZXZlbnRzX3VybFwiOiBcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvYmlud2llZGVyaGllci9yZWNlaXZlZF9ldmVudHNcIixcbiAgICBcInR5cGVcIjogXCJVc2VyXCIsXG4gICAgXCJzaXRlX2FkbWluXCI6IGZhbHNlXG4gIH1cbn1cbiIsImNvbmZpZyI6eyJ0ZW1wbGF0ZSI6InRleHQiLCJmdWxsU2NyZWVuSFRNTCI6ZmFsc2UsImZ1bmN0aW9ucyI6WyJzcHJpZyJdLCJvcHRpb25zIjpbImxpdmUiXSwiaW5wdXRUeXBlIjoieWFtbCJ9fQ==">example</a>)</li> <li>Loops (e.g. <code>{{range .errors}}..{{end}}</code>, see <a href="https://repeatit.io/#/share/eyJ0ZW1wbGF0ZSI6IlNldmVyZSBVUkxzOlxue3tyYW5nZSAuZXJyb3JzfX17e2lmIGVxIC5sZXZlbCBcInNldmVyZVwifX0tIHt7LnVybH19XG57e2VuZH19e3tlbmR9fSIsImlucHV0Ijoie1wiZm9vXCI6IFwiYmFyXCIsIFwiZXJyb3JzXCI6IFt7XCJsZXZlbFwiOiBcInNldmVyZVwiLCBcInVybFwiOiBcImh0dHBzOi8vc2V2ZXJlMS5jb21cIn0se1wibGV2ZWxcIjogXCJ3YXJuaW5nXCIsIFwidXJsXCI6IFwiaHR0cHM6Ly93YXJuaW5nLmNvbVwifSx7XCJsZXZlbFwiOiBcInNldmVyZVwiLCBcInVybFwiOiBcImh0dHBzOi8vc2V2ZXJlMi5jb21cIn1dfSIsImNvbmZpZyI6eyJ0ZW1wbGF0ZSI6InRleHQiLCJmdWxsU2NyZWVuSFRNTCI6ZmFsc2UsImZ1bmN0aW9ucyI6WyJzcHJpZyJdLCJvcHRpb25zIjpbImxpdmUiXSwiaW5wdXRUeXBlIjoieWFtbCJ9fQ==">example</a>)</li> </ul> <p>A good way to experiment with Go templates is the <strong><a href=https://repeatit.io>Go Template Playground</a></strong>. It is <em>highly recommended</em> to test your templates there first (<a href=https://repeatit.io/#/share/eyJ0ZW1wbGF0ZSI6InRpdGxlPUdyYWZhbmErYWxlcnQ6K3t7LnRpdGxlfX0mbWVzc2FnZT17ey5tZXNzYWdlfX0iLCJpbnB1dCI6IntcbiAgXCJyZWNlaXZlclwiOiBcIm50ZnlcXFxcLmV4YW1wbGVcXFxcLmNvbS9hbGVydHNcIixcbiAgXCJzdGF0dXNcIjogXCJyZXNvbHZlZFwiLFxuICBcImFsZXJ0c1wiOiBbXG4gICAge1xuICAgICAgXCJzdGF0dXNcIjogXCJyZXNvbHZlZFwiLFxuICAgICAgXCJsYWJlbHNcIjoge1xuICAgICAgICBcImFsZXJ0bmFtZVwiOiBcIkxvYWQgYXZnIDE1bSB0b28gaGlnaFwiLFxuICAgICAgICBcImdyYWZhbmFfZm9sZGVyXCI6IFwiTm9kZSBhbGVydHNcIixcbiAgICAgICAgXCJpbnN0YW5jZVwiOiBcIjEwLjEwOC4wLjI6OTEwMFwiLFxuICAgICAgICBcImpvYlwiOiBcIm5vZGUtZXhwb3J0ZXJcIlxuICAgICAgfSxcbiAgICAgIFwiYW5ub3RhdGlvbnNcIjoge1xuICAgICAgICBcInN1bW1hcnlcIjogXCIxNW0gbG9hZCBhdmVyYWdlIHRvbyBoaWdoXCJcbiAgICAgIH0sXG4gICAgICBcInN0YXJ0c0F0XCI6IFwiMjAyNC0wMy0xNVQwMjoyODowMFpcIixcbiAgICAgIFwiZW5kc0F0XCI6IFwiMjAyNC0wMy0xNVQwMjo0MjowMFpcIixcbiAgICAgIFwiZ2VuZXJhdG9yVVJMXCI6IFwibG9jYWxob3N0OjMwMDAvYWxlcnRpbmcvZ3JhZmFuYS9OVzlvRHctNHovdmlld1wiLFxuICAgICAgXCJmaW5nZXJwcmludFwiOiBcImJlY2JmYjk0YmQ4MWVmNDhcIixcbiAgICAgIFwic2lsZW5jZVVSTFwiOiBcImxvY2FsaG9zdDozMDAwL2FsZXJ0aW5nL3NpbGVuY2UvbmV3P2FsZXJ0bWFuYWdlcj1ncmFmYW5hJm1hdGNoZXI9YWxlcnRuYW1lJTNETG9hZCthdmcrMTVtK3RvbytoaWdoJm1hdGNoZXI9Z3JhZmFuYV9mb2xkZXIlM0ROb2RlK2FsZXJ0cyZtYXRjaGVyPWluc3RhbmNlJTNEMTAuMTA4LjAuMiUzQTkxMDAmbWF0Y2hlcj1qb2IlM0Rub2RlLWV4cG9ydGVyXCIsXG4gICAgICBcImRhc2hib2FyZFVSTFwiOiBcIlwiLFxuICAgICAgXCJwYW5lbFVSTFwiOiBcIlwiLFxuICAgICAgXCJ2YWx1ZXNcIjoge1xuICAgICAgICBcIkJcIjogMTguOTgyMTEzMTQ0NzU4NzYsXG4gICAgICAgIFwiQ1wiOiAwXG4gICAgICB9LFxuICAgICAgXCJ2YWx1ZVN0cmluZ1wiOiBcIlsgdmFyPSdCJyBsYWJlbHM9e19fbmFtZV9fPW5vZGVfbG9hZDE1LCBpbnN0YW5jZT0xMC4xMDguMC4yOjkxMDAsIGpvYj1ub2RlLWV4cG9ydGVyfSB2YWx1ZT0xOC45ODIxMTMxNDQ3NTg3NiBdLCBbIHZhcj0nQycgbGFiZWxzPXtfX25hbWVfXz1ub2RlX2xvYWQxNSwgaW5zdGFuY2U9MTAuMTA4LjAuMjo5MTAwLCBqb2I9bm9kZS1leHBvcnRlcn0gdmFsdWU9MCBdXCJcbiAgICB9XG4gIF0sXG4gIFwiZ3JvdXBMYWJlbHNcIjoge1xuICAgIFwiYWxlcnRuYW1lXCI6IFwiTG9hZCBhdmcgMTVtIHRvbyBoaWdoXCIsXG4gICAgXCJncmFmYW5hX2ZvbGRlclwiOiBcIk5vZGUgYWxlcnRzXCJcbiAgfSxcbiAgXCJjb21tb25MYWJlbHNcIjoge1xuICAgIFwiYWxlcnRuYW1lXCI6IFwiTG9hZCBhdmcgMTVtIHRvbyBoaWdoXCIsXG4gICAgXCJncmFmYW5hX2ZvbGRlclwiOiBcIk5vZGUgYWxlcnRzXCIsXG4gICAgXCJpbnN0YW5jZVwiOiBcIjEwLjEwOC4wLjI6OTEwMFwiLFxuICAgIFwiam9iXCI6IFwibm9kZS1leHBvcnRlclwiXG4gIH0sXG4gIFwiY29tbW9uQW5ub3RhdGlvbnNcIjoge1xuICAgIFwic3VtbWFyeVwiOiBcIjE1bSBsb2FkIGF2ZXJhZ2UgdG9vIGhpZ2hcIlxuICB9LFxuICBcImV4dGVybmFsVVJMXCI6IFwibG9jYWxob3N0OjMwMDAvXCIsXG4gIFwidmVyc2lvblwiOiBcIjFcIixcbiAgXCJncm91cEtleVwiOiBcInt9OnthbGVydG5hbWU9XFxcIkxvYWQgYXZnIDE1bSB0b28gaGlnaFxcXCIsIGdyYWZhbmFfZm9sZGVyPVxcXCJOb2RlIGFsZXJ0c1xcXCJ9XCIsXG4gIFwidHJ1bmNhdGVkQWxlcnRzXCI6IDAsXG4gIFwib3JnSWRcIjogMSxcbiAgXCJ0aXRsZVwiOiBcIltSRVNPTFZFRF0gTG9hZCBhdmcgMTVtIHRvbyBoaWdoIE5vZGUgYWxlcnRzICgxMC4xMDguMC4yOjkxMDAgbm9kZS1leHBvcnRlcilcIixcbiAgXCJzdGF0ZVwiOiBcIm9rXCIsXG4gIFwibWVzc2FnZVwiOiBcIioqUmVzb2x2ZWQqKlxcblxcblZhbHVlOiBCPTE4Ljk4MjExMzE0NDc1ODc2LCBDPTBcXG5MYWJlbHM6XFxuIC0gYWxlcnRuYW1lID0gTG9hZCBhdmcgMTVtIHRvbyBoaWdoXFxuIC0gZ3JhZmFuYV9mb2xkZXIgPSBOb2RlIGFsZXJ0c1xcbiAtIGluc3RhbmNlID0gMTAuMTA4LjAuMjo5MTAwXFxuIC0gam9iID0gbm9kZS1leHBvcnRlclxcbkFubm90YXRpb25zOlxcbiAtIHN1bW1hcnkgPSAxNW0gbG9hZCBhdmVyYWdlIHRvbyBoaWdoXFxuU291cmNlOiBsb2NhbGhvc3Q6MzAwMC9hbGVydGluZy9ncmFmYW5hL05XOW9Edy00ei92aWV3XFxuU2lsZW5jZTogbG9jYWxob3N0OjMwMDAvYWxlcnRpbmcvc2lsZW5jZS9uZXc/YWxlcnRtYW5hZ2VyPWdyYWZhbmEmbWF0Y2hlcj1hbGVydG5hbWUlM0RMb2FkK2F2ZysxNW0rdG9vK2hpZ2gmbWF0Y2hlcj1ncmFmYW5hX2ZvbGRlciUzRE5vZGUrYWxlcnRzJm1hdGNoZXI9aW5zdGFuY2UlM0QxMC4xMDguMC4yJTNBOTEwMCZtYXRjaGVyPWpvYiUzRG5vZGUtZXhwb3J0ZXJcXG5cIlxufVxuIiwiY29uZmlnIjp7InRlbXBsYXRlIjoidGV4dCIsImZ1bGxTY3JlZW5IVE1MIjpmYWxzZSwiZnVuY3Rpb25zIjpbInNwcmlnIl0sIm9wdGlvbnMiOlsibGl2ZSJdLCJpbnB1dFR5cGUiOiJ5YW1sIn19>example for Grafana alert</a>).</p> <h3 id=template-functions>Template functions<a class=headerlink href=#template-functions title="Permanent link">&para;</a></h3> <p>ntfy supports a subset of the <strong><a href=template-functions/ >Sprig template functions</a></strong> (originally copied from <a href=https://github.com/Masterminds/sprig>Sprig</a>, thank you to the Sprig developers üôè). This is useful for advanced message templating and for transforming the data provided through the JSON payload.</p> <p>Below are the functions that are available to use inside your message, title, and priority templates.</p> <ul> <li><a href=template-functions/#string-functions>String Functions</a>: <code>trim</code>, <code>trunc</code>, <code>substr</code>, <code>plural</code>, etc.</li> <li><a href=template-functions/#string-list-functions>String List Functions</a>: <code>splitList</code>, <code>sortAlpha</code>, etc.</li> <li><a href=template-functions/#integer-math-functions>Integer Math Functions</a>: <code>add</code>, <code>max</code>, <code>mul</code>, etc.</li> <li><a href=template-functions/#integer-list-functions>Integer List Functions</a>: <code>until</code>, <code>untilStep</code></li> <li><a href=template-functions/#float-math-functions>Float Math Functions</a>: <code>maxf</code>, <code>minf</code></li> <li><a href=template-functions/#date-functions>Date Functions</a>: <code>now</code>, <code>date</code>, etc.</li> <li><a href=template-functions/#default-functions>Defaults Functions</a>: <code>default</code>, <code>empty</code>, <code>coalesce</code>, <code>fromJSON</code>, <code>toJSON</code>, <code>toPrettyJSON</code>, <code>toRawJSON</code>, <code>ternary</code></li> <li><a href=template-functions/#encoding-functions>Encoding Functions</a>: <code>b64enc</code>, <code>b64dec</code>, etc.</li> <li><a href=template-functions/#lists-and-list-functions>Lists and List Functions</a>: <code>list</code>, <code>first</code>, <code>uniq</code>, etc.</li> <li><a href=template-functions/#dictionaries-and-dict-functions>Dictionaries and Dict Functions</a>: <code>get</code>, <code>set</code>, <code>dict</code>, <code>hasKey</code>, <code>pluck</code>, <code>dig</code>, etc.</li> <li><a href=template-functions/#type-conversion-functions>Type Conversion Functions</a>: <code>atoi</code>, <code>int64</code>, <code>toString</code>, etc.</li> <li><a href=template-functions/#path-and-filepath-functions>Path and Filepath Functions</a>: <code>base</code>, <code>dir</code>, <code>ext</code>, <code>clean</code>, <code>isAbs</code>, <code>osBase</code>, <code>osDir</code>, <code>osExt</code>, <code>osClean</code>, <code>osIsAbs</code></li> <li><a href=template-functions/#flow-control-functions>Flow Control Functions</a>: <code>fail</code></li> <li>Advanced Functions<ul> <li><a href=template-functions/#reflection-functions>Reflection</a>: <code>typeOf</code>, <code>kindIs</code>, <code>typeIsLike</code>, etc.</li> <li><a href=template-functions/#cryptographic-and-security-functions>Cryptographic and Security Functions</a>: <code>sha256sum</code>, etc.</li> <li><a href=template-functions/#url-functions>URL</a>: <code>urlParse</code>, <code>urlJoin</code></li> </ul> </li> </ul> <h2 id=e-mail-notifications>E-mail notifications<a class=headerlink href=#e-mail-notifications title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>You can forward messages to e-mail by specifying an address in the header. This can be useful for messages that you'd like to persist longer, or to blast-notify yourself on all possible channels. </p> <p>Usage is easy: Simply pass the <code>X-Email</code> header (or any of its aliases: <code>X-E-mail</code>, <code>Email</code>, <code>E-mail</code>, <code>Mail</code>, or <code>e</code>). Only one e-mail address is supported.</p> <p>Since ntfy does not provide auth (yet), the rate limiting is pretty strict (see <a href=#limitations>limitations</a>). In the default configuration, you get <strong>16 e-mails per visitor</strong> (IP address) and then after that one per hour. On top of that, your IP address appears in the e-mail body. This is to prevent abuse.</p> <div class="tabbed-set tabbed-alternate" data-tabs=30:8><input checked=checked id=__tabbed_30_1 name=__tabbed_30 type=radio><input id=__tabbed_30_2 name=__tabbed_30 type=radio><input id=__tabbed_30_3 name=__tabbed_30 type=radio><input id=__tabbed_30_4 name=__tabbed_30 type=radio><input id=__tabbed_30_5 name=__tabbed_30 type=radio><input id=__tabbed_30_6 name=__tabbed_30 type=radio><input id=__tabbed_30_7 name=__tabbed_30 type=radio><input id=__tabbed_30_8 name=__tabbed_30 type=radio><div class=tabbed-labels><label for=__tabbed_30_1>Command line (curl)</label><label for=__tabbed_30_2>ntfy CLI</label><label for=__tabbed_30_3>HTTP</label><label for=__tabbed_30_4>JavaScript</label><label for=__tabbed_30_5>Go</label><label for=__tabbed_30_6>PowerShell</label><label for=__tabbed_30_7>Python</label><label for=__tabbed_30_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -H &quot;Email: phil@example.com&quot; \
    -H &quot;Tags: warning,skull,backup-host,ssh-login&quot; \
    -H &quot;Priority: high&quot; \
    -d &quot;Unknown login from 5.31.23.83 to backups.example.com&quot; \
    ntfy.sh/alerts
curl -H &quot;Email: phil@example.com&quot; -d &quot;You&#39;ve Got Mail&quot; 
curl -d &quot;You&#39;ve Got Mail&quot; &quot;ntfy.sh/alerts?email=phil@example.com&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --email=phil@example.com \
    --tags=warning,skull,backup-host,ssh-login \
    --priority=high \
    alerts &quot;Unknown login from 5.31.23.83 to backups.example.com&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/alerts</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Email</span><span class=o>:</span> <span class=l>phil@example.com</span>
<span class=na>Tags</span><span class=o>:</span> <span class=l>warning,skull,backup-host,ssh-login</span>
<span class=na>Priority</span><span class=o>:</span> <span class=l>high</span>

Unknown login from 5.31.23.83 to backups.example.com
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/alerts&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Unknown login from 5.31.23.83 to backups.example.com&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span>
<span class=w>        </span><span class=s1>&#39;Email&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;phil@example.com&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Tags&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;warning,skull,backup-host,ssh-login&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Priority&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;high&#39;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/alerts&quot;</span><span class=p>,</span><span class=w> </span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Unknown login from 5.31.23.83 to backups.example.com&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Email&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;phil@example.com&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Tags&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;warning,skull,backup-host,ssh-login&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Priority&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;high&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/alerts&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Title</span> <span class=p>=</span> <span class=s2>&quot;Low disk space alert&quot;</span>
    <span class=n>Priority</span> <span class=p>=</span> <span class=s2>&quot;high&quot;</span>
    <span class=n>Tags</span> <span class=p>=</span> <span class=s2>&quot;warning,skull,backup-host,ssh-login&quot;</span><span class=p>)</span>
    <span class=n>Email</span> <span class=p>=</span> <span class=s2>&quot;phil@example.com&quot;</span>
  <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Unknown login from 5.31.23.83 to backups.example.com&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/alerts&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Unknown login from 5.31.23.83 to backups.example.com&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> 
        <span class=s2>&quot;Email&quot;</span><span class=p>:</span> <span class=s2>&quot;phil@example.com&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Tags&quot;</span><span class=p>:</span> <span class=s2>&quot;warning,skull,backup-host,ssh-login&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Priority&quot;</span><span class=p>:</span> <span class=s2>&quot;high&quot;</span>
    <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/alerts&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Email: phil@example.com</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Tags: warning,skull,backup-host,ssh-login</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Priority: high&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Unknown login from 5.31.23.83 to backups.example.com&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>Here's what that looks like in Google Mail:</p> <figure> <p><img alt="e-mail notification" src=../static/img/screenshot-email.png width=600> </p> <figcaption>E-mail notification</figcaption> </figure> <h2 id=e-mail-publishing>E-mail publishing<a class=headerlink href=#e-mail-publishing title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>You can publish messages to a topic via e-mail, i.e. by sending an email to a specific address. For instance, you can publish a message to the topic <code>sometopic</code> by sending an e-mail to <code>ntfy-sometopic@ntfy.sh</code>. This is useful for e-mail based integrations such as for statuspage.io (though these days most services also support webhooks and HTTP calls).</p> <p>Depending on the <a href=../config/#e-mail-publishing>server configuration</a>, the e-mail address format can have a prefix to prevent spam on topics. For ntfy.sh, the prefix is configured to <code>ntfy-</code>, meaning that the general e-mail address format is:</p> <div class=highlight><pre><span></span><code>ntfy-$topic@ntfy.sh
</code></pre></div> <p>If <a href=../config/#access-control>access control</a> is enabled, and the target topic does not support anonymous writes, e-mail publishing won't work without providing an authorized access token or using SMTP AUTH PLAIN. </p> <p>If you use <a href=#access-tokens>access tokens</a>, that will change the format of the e-mail's recipient address to <div class=highlight><pre><span></span><code>ntfy-$topic+$token@ntfy.sh
</code></pre></div></p> <p>To use <a href=https://docs.ntfy.sh/publish/#username-password>username/password</a>, you can use SMTP PLAIN auth when authenticating to the ntfy server.</p> <p>As of today, e-mail publishing only supports adding a <a href=#message-title>message title</a> (the e-mail subject). Tags, priority, delay and other features are not supported (yet). Here's an example that will publish a message with the title <code>You've Got Mail</code> to topic <code>sometopic</code> (see <a href=https://ntfy.sh/sometopic>ntfy.sh/sometopic</a>):</p> <figure> <p><img alt="e-mail publishing" src=../static/img/screenshot-email-publishing-gmail.png width=500> </p> <figcaption>Publishing a message via e-mail</figcaption> </figure> <h2 id=phone-calls>Phone calls<a class=headerlink href=#phone-calls title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>You can use ntfy to call a phone and <strong>read the message out loud using text-to-speech</strong>. Similar to email notifications, this can be useful to blast-notify yourself on all possible channels, or to notify people that do not have the ntfy app installed on their phone.</p> <p><strong>Phone numbers have to be previously verified</strong> (via the <a href=https://ntfy.sh/account>web app</a>), so this feature is <strong>only available to authenticated users</strong> (no anonymous phone calls). To forward a message as a voice call, pass a phone number in the <code>X-Call</code> header (or its alias: <code>Call</code>), prefixed with a plus sign and the country code, e.g. <code>+12223334444</code>. You may also simply pass <code>yes</code> as a value to pick the first of your verified phone numbers. On ntfy.sh, this feature is only supported to <a href=https://ntfy.sh/app>ntfy Pro</a> plans.</p> <figure> <p><img alt="phone number verification" src=../static/img/web-phone-verify.png> </p> <figcaption>Phone number verification in the <a href=https://ntfy.sh/account>web app</a></figcaption> </figure> <p>As of today, the text-to-speed voice used will only support English. If there is demand for other languages, we'll be happy to add support for that. Please <a href=https://github.com/binwiederhier/ntfy/issues>open an issue on GitHub</a>.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>You are responsible for the message content, and <strong>you must abide by the <a href=https://www.twilio.com/en-us/legal/aup>Twilio Acceptable Use Policy</a></strong>. This particularly means that you must not use this feature to send unsolicited messages, or messages that are illegal or violate the rights of others. Please read the policy for details. Failure to do so may result in your account being suspended or terminated.</p> </div> <p>Here's how you use it:</p> <div class="tabbed-set tabbed-alternate" data-tabs=31:8><input checked=checked id=__tabbed_31_1 name=__tabbed_31 type=radio><input id=__tabbed_31_2 name=__tabbed_31 type=radio><input id=__tabbed_31_3 name=__tabbed_31 type=radio><input id=__tabbed_31_4 name=__tabbed_31 type=radio><input id=__tabbed_31_5 name=__tabbed_31 type=radio><input id=__tabbed_31_6 name=__tabbed_31 type=radio><input id=__tabbed_31_7 name=__tabbed_31 type=radio><input id=__tabbed_31_8 name=__tabbed_31 type=radio><div class=tabbed-labels><label for=__tabbed_31_1>Command line (curl)</label><label for=__tabbed_31_2>ntfy CLI</label><label for=__tabbed_31_3>HTTP</label><label for=__tabbed_31_4>JavaScript</label><label for=__tabbed_31_5>Go</label><label for=__tabbed_31_6>PowerShell</label><label for=__tabbed_31_7>Python</label><label for=__tabbed_31_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
    -u :tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2 \
    -H &quot;Call: +12223334444&quot; \
    -d &quot;Your garage seems to be on fire. You should probably check that out.&quot; \
    ntfy.sh/alerts
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --token=tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2 \
    --call=+12223334444 \
    alerts &quot;Your garage seems to be on fire. You should probably check that out.&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/alerts</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Authorization</span><span class=o>:</span> <span class=l>Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2</span>
<span class=na>Call</span><span class=o>:</span> <span class=l>+12223334444</span>

Your garage seems to be on fire. You should probably check that out.
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/alerts&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Your garage seems to be on fire. You should probably check that out.&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span>
<span class=w>        </span><span class=s1>&#39;Authorization&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&#39;</span><span class=p>,</span>
<span class=w>        </span><span class=s1>&#39;Call&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;+12223334444&#39;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/alerts&quot;</span><span class=p>,</span><span class=w> </span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Your garage seems to be on fire. You should probably check that out.&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Call&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;+12223334444&quot;</span><span class=p>)</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Authorization&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/alerts&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Authorization</span> <span class=p>=</span> <span class=s2>&quot;Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&quot;</span>
    <span class=n>Call</span> <span class=p>=</span> <span class=s2>&quot;+12223334444&quot;</span>
  <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Your garage seems to be on fire. You should probably check that out.&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/alerts&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Your garage seems to be on fire. You should probably check that out.&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> 
        <span class=s2>&quot;Authorization&quot;</span><span class=p>:</span> <span class=s2>&quot;Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Call&quot;</span><span class=p>:</span> <span class=s2>&quot;+12223334444&quot;</span>
    <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/alerts&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Authorization: Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Call: +12223334444&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Your garage seems to be on fire. You should probably check that out.&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>Here's what a phone call from ntfy sounds like:</p> <p><audio controls> <source src=../static/audio/ntfy-phone-call.mp3 type=audio/mpeg> <source src=../static/audio/ntfy-phone-call.ogg type=audio/ogg> </audio></p> <p>Audio transcript:</p> <blockquote> <p>You have a notification from ntfy on topic alerts. Message: Your garage seems to be on fire. You should probably check that out. End message. <br> This message was sent by user phil. It will be repeated up to three times.</p> </blockquote> <h2 id=publish-as-json>Publish as JSON<a class=headerlink href=#publish-as-json title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>For some integrations with other tools (e.g. <a href=https://jellyfin.org/ >Jellyfin</a>, <a href=https://overseerr.dev/ >overseerr</a>), adding custom headers to HTTP requests may be tricky or impossible, so ntfy also allows publishing the entire message as JSON in the request body.</p> <p>To publish as JSON, simple PUT/POST the JSON object directly to the ntfy root URL. The message format is described below the example.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>To publish as JSON, you must <strong>PUT/POST to the ntfy root URL</strong>, not to the topic URL. Be sure to check that you're POST-ing to <code>https://ntfy.sh/</code> (correct), and not to <code>https://ntfy.sh/mytopic</code> (incorrect). </p> </div> <p>Here's an example using most supported parameters. Check the table below for a complete list. The <code>topic</code> parameter is the only required one:</p> <div class="tabbed-set tabbed-alternate" data-tabs=32:7><input checked=checked id=__tabbed_32_1 name=__tabbed_32 type=radio><input id=__tabbed_32_2 name=__tabbed_32 type=radio><input id=__tabbed_32_3 name=__tabbed_32 type=radio><input id=__tabbed_32_4 name=__tabbed_32 type=radio><input id=__tabbed_32_5 name=__tabbed_32 type=radio><input id=__tabbed_32_6 name=__tabbed_32 type=radio><input id=__tabbed_32_7 name=__tabbed_32 type=radio><div class=tabbed-labels><label for=__tabbed_32_1>Command line (curl)</label><label for=__tabbed_32_2>HTTP</label><label for=__tabbed_32_3>JavaScript</label><label for=__tabbed_32_4>Go</label><label for=__tabbed_32_5>PowerShell</label><label for=__tabbed_32_6>Python</label><label for=__tabbed_32_7>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl ntfy.sh \
  -d &#39;{
    &quot;topic&quot;: &quot;mytopic&quot;,
    &quot;message&quot;: &quot;Disk space is low at 5.1 GB&quot;,
    &quot;title&quot;: &quot;Low disk space alert&quot;,
    &quot;tags&quot;: [&quot;warning&quot;,&quot;cd&quot;],
    &quot;priority&quot;: 4,
    &quot;attach&quot;: &quot;https://filesrv.lan/space.jpg&quot;,
    &quot;filename&quot;: &quot;diskspace.jpg&quot;,
    &quot;click&quot;: &quot;https://homecamera.lan/xasds1h2xsSsa/&quot;,
    &quot;actions&quot;: [{ &quot;action&quot;: &quot;view&quot;, &quot;label&quot;: &quot;Admin panel&quot;, &quot;url&quot;: &quot;https://filesrv.lan/admin&quot; }]
  }&#39;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

{
    &quot;topic&quot;: &quot;mytopic&quot;,
    &quot;message&quot;: &quot;Disk space is low at 5.1 GB&quot;,
    &quot;title&quot;: &quot;Low disk space alert&quot;,
    &quot;tags&quot;: [&quot;warning&quot;,&quot;cd&quot;],
    &quot;priority&quot;: 4,
    &quot;attach&quot;: &quot;https://filesrv.lan/space.jpg&quot;,
    &quot;filename&quot;: &quot;diskspace.jpg&quot;,
    &quot;click&quot;: &quot;https://homecamera.lan/xasds1h2xsSsa/&quot;,
    &quot;actions&quot;: [{ &quot;action&quot;: &quot;view&quot;, &quot;label&quot;: &quot;Admin panel&quot;, &quot;url&quot;: &quot;https://filesrv.lan/admin&quot; }]
}
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=nb>JSON</span><span class=p>.</span><span class=nx>stringify</span><span class=p>({</span>
<span class=w>        </span><span class=s2>&quot;topic&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;mytopic&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=s2>&quot;message&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Disk space is low at 5.1 GB&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=s2>&quot;title&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Low disk space alert&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=s2>&quot;tags&quot;</span><span class=o>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span><span class=s2>&quot;cd&quot;</span><span class=p>],</span>
<span class=w>        </span><span class=s2>&quot;priority&quot;</span><span class=o>:</span><span class=w> </span><span class=mf>4</span><span class=p>,</span>
<span class=w>        </span><span class=s2>&quot;attach&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;https://filesrv.lan/space.jpg&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=s2>&quot;filename&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;diskspace.jpg&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=s2>&quot;click&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;https://homecamera.lan/xasds1h2xsSsa/&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=s2>&quot;actions&quot;</span><span class=o>:</span><span class=w> </span><span class=p>[{</span><span class=w> </span><span class=s2>&quot;action&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;view&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;label&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;Admin panel&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;url&quot;</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;https://filesrv.lan/admin&quot;</span><span class=w> </span><span class=p>}]</span>
<span class=w>    </span><span class=p>})</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// You should probably use json.Marshal() instead and make a proper struct,</span>
<span class=c1>// or even just use req.Header.Set() like in the other examples, but for the </span>
<span class=c1>// sake of the example, this is easier.</span>

<span class=nx>body</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=s>`{</span>
<span class=s>    &quot;topic&quot;: &quot;mytopic&quot;,</span>
<span class=s>    &quot;message&quot;: &quot;Disk space is low at 5.1 GB&quot;,</span>
<span class=s>    &quot;title&quot;: &quot;Low disk space alert&quot;,</span>
<span class=s>    &quot;tags&quot;: [&quot;warning&quot;,&quot;cd&quot;],</span>
<span class=s>    &quot;priority&quot;: 4,</span>
<span class=s>    &quot;attach&quot;: &quot;https://filesrv.lan/space.jpg&quot;,</span>
<span class=s>    &quot;filename&quot;: &quot;diskspace.jpg&quot;,</span>
<span class=s>    &quot;click&quot;: &quot;https://homecamera.lan/xasds1h2xsSsa/&quot;,</span>
<span class=s>    &quot;actions&quot;: [{ &quot;action&quot;: &quot;view&quot;, &quot;label&quot;: &quot;Admin panel&quot;, &quot;url&quot;: &quot;https://filesrv.lan/admin&quot; }]</span>
<span class=s>}`</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=nx>body</span><span class=p>))</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh&quot;</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=nb>ConvertTo-JSON</span> <span class=p>@{</span>
    <span class=n>Topic</span>    <span class=p>=</span> <span class=s2>&quot;mytopic&quot;</span>
    <span class=n>Title</span>    <span class=p>=</span> <span class=s2>&quot;Low disk space alert&quot;</span>
    <span class=n>Message</span>  <span class=p>=</span> <span class=s2>&quot;Disk space is low at 5.1 GB&quot;</span>
    <span class=n>Priority</span> <span class=p>=</span> <span class=n>4</span>
    <span class=n>Attach</span>   <span class=p>=</span> <span class=s2>&quot;https://filesrv.lan/space.jpg&quot;</span>
    <span class=n>FileName</span> <span class=p>=</span> <span class=s2>&quot;diskspace.jpg&quot;</span>
    <span class=n>Tags</span>     <span class=p>=</span> <span class=p>@(</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span> <span class=s2>&quot;cd&quot;</span><span class=p>)</span>
    <span class=n>Click</span>    <span class=p>=</span> <span class=s2>&quot;https://homecamera.lan/xasds1h2xsSsa/&quot;</span>
    <span class=n>Actions</span>  <span class=p>=</span> <span class=p>@(</span>
      <span class=p>@{</span> 
        <span class=n>Action</span> <span class=p>=</span> <span class=s2>&quot;view&quot;</span>
        <span class=n>Label</span>  <span class=p>=</span> <span class=s2>&quot;Admin panel&quot;</span>
        <span class=n>URL</span>    <span class=p>=</span> <span class=s2>&quot;https://filesrv.lan/admin&quot;</span>
      <span class=p>}</span>
    <span class=p>)</span>
  <span class=p>}</span>
  <span class=n>ContentType</span> <span class=p>=</span> <span class=s2>&quot;application/json&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>({</span>
        <span class=s2>&quot;topic&quot;</span><span class=p>:</span> <span class=s2>&quot;mytopic&quot;</span><span class=p>,</span>
        <span class=s2>&quot;message&quot;</span><span class=p>:</span> <span class=s2>&quot;Disk space is low at 5.1 GB&quot;</span><span class=p>,</span>
        <span class=s2>&quot;title&quot;</span><span class=p>:</span> <span class=s2>&quot;Low disk space alert&quot;</span><span class=p>,</span>
        <span class=s2>&quot;tags&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span><span class=s2>&quot;cd&quot;</span><span class=p>],</span>
        <span class=s2>&quot;priority&quot;</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span>
        <span class=s2>&quot;attach&quot;</span><span class=p>:</span> <span class=s2>&quot;https://filesrv.lan/space.jpg&quot;</span><span class=p>,</span>
        <span class=s2>&quot;filename&quot;</span><span class=p>:</span> <span class=s2>&quot;diskspace.jpg&quot;</span><span class=p>,</span>
        <span class=s2>&quot;click&quot;</span><span class=p>:</span> <span class=s2>&quot;https://homecamera.lan/xasds1h2xsSsa/&quot;</span><span class=p>,</span>
        <span class=s2>&quot;actions&quot;</span><span class=p>:</span> <span class=p>[{</span> <span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;view&quot;</span><span class=p>,</span> <span class=s2>&quot;label&quot;</span><span class=p>:</span> <span class=s2>&quot;Admin panel&quot;</span><span class=p>,</span> <span class=s2>&quot;url&quot;</span><span class=p>:</span> <span class=s2>&quot;https://filesrv.lan/admin&quot;</span> <span class=p>}]</span>
    <span class=p>})</span>
<span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;Content-Type: application/json&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=nb>json_encode</span><span class=p>([</span>
            <span class=s2>&quot;topic&quot;</span><span class=o>:</span> <span class=s2>&quot;mytopic&quot;</span><span class=p>,</span>
            <span class=s2>&quot;message&quot;</span><span class=o>:</span> <span class=s2>&quot;Disk space is low at 5.1 GB&quot;</span><span class=p>,</span>
            <span class=s2>&quot;title&quot;</span><span class=o>:</span> <span class=s2>&quot;Low disk space alert&quot;</span><span class=p>,</span>
            <span class=s2>&quot;tags&quot;</span><span class=o>:</span> <span class=p>[</span><span class=s2>&quot;warning&quot;</span><span class=p>,</span><span class=s2>&quot;cd&quot;</span><span class=p>],</span>
            <span class=s2>&quot;priority&quot;</span><span class=o>:</span> <span class=mi>4</span><span class=p>,</span>
            <span class=s2>&quot;attach&quot;</span><span class=o>:</span> <span class=s2>&quot;https://filesrv.lan/space.jpg&quot;</span><span class=p>,</span>
            <span class=s2>&quot;filename&quot;</span><span class=o>:</span> <span class=s2>&quot;diskspace.jpg&quot;</span><span class=p>,</span>
            <span class=s2>&quot;click&quot;</span><span class=o>:</span> <span class=s2>&quot;https://homecamera.lan/xasds1h2xsSsa/&quot;</span><span class=p>,</span>
            <span class=s2>&quot;actions&quot;</span><span class=o>:</span> <span class=p>[[</span><span class=s2>&quot;action&quot;</span><span class=o>:</span> <span class=s2>&quot;view&quot;</span><span class=p>,</span> <span class=s2>&quot;label&quot;</span><span class=o>:</span> <span class=s2>&quot;Admin panel&quot;</span><span class=p>,</span> <span class=s2>&quot;url&quot;</span><span class=o>:</span> <span class=s2>&quot;https://filesrv.lan/admin&quot;</span> <span class=p>]]</span>
        <span class=p>])</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>The JSON message format closely mirrors the format of the message you can consume when you <a href=../subscribe/api/ >subscribe via the API</a> (see <a href=../subscribe/api/#json-message-format>JSON message format</a> for details), but is not exactly identical. Here's an overview of all the supported fields:</p> <table> <thead> <tr> <th>Field</th> <th>Required</th> <th>Type</th> <th>Example</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>topic</code></td> <td>‚úîÔ∏è</td> <td><em>string</em></td> <td><code>topic1</code></td> <td>Target topic name</td> </tr> <tr> <td><code>message</code></td> <td>-</td> <td><em>string</em></td> <td><code>Some message</code></td> <td>Message body; set to <code>triggered</code> if empty or not passed</td> </tr> <tr> <td><code>title</code></td> <td>-</td> <td><em>string</em></td> <td><code>Some title</code></td> <td>Message <a href=#message-title>title</a></td> </tr> <tr> <td><code>tags</code></td> <td>-</td> <td><em>string array</em></td> <td><code>["tag1","tag2"]</code></td> <td>List of <a href=#tags-emojis>tags</a> that may or not map to emojis</td> </tr> <tr> <td><code>priority</code></td> <td>-</td> <td><em>int (one of: 1, 2, 3, 4, or 5)</em></td> <td><code>4</code></td> <td>Message <a href=#message-priority>priority</a> with 1=min, 3=default and 5=max</td> </tr> <tr> <td><code>actions</code></td> <td>-</td> <td><em>JSON array</em></td> <td><em>(see <a href=#action-buttons>action buttons</a>)</em></td> <td>Custom <a href=#action-buttons>user action buttons</a> for notifications</td> </tr> <tr> <td><code>click</code></td> <td>-</td> <td><em>URL</em></td> <td><code>https://example.com</code></td> <td>Website opened when notification is <a href=#click-action>clicked</a></td> </tr> <tr> <td><code>attach</code></td> <td>-</td> <td><em>URL</em></td> <td><code>https://example.com/file.jpg</code></td> <td>URL of an attachment, see <a href=#attach-file-from-a-url>attach via URL</a></td> </tr> <tr> <td><code>markdown</code></td> <td>-</td> <td><em>bool</em></td> <td><code>true</code></td> <td>Set to true if the <code>message</code> is Markdown-formatted</td> </tr> <tr> <td><code>icon</code></td> <td>-</td> <td><em>string</em></td> <td><code>https://example.com/icon.png</code></td> <td>URL to use as notification <a href=#icons>icon</a></td> </tr> <tr> <td><code>filename</code></td> <td>-</td> <td><em>string</em></td> <td><code>file.jpg</code></td> <td>File name of the attachment</td> </tr> <tr> <td><code>delay</code></td> <td>-</td> <td><em>string</em></td> <td><code>30min</code>, <code>9am</code></td> <td>Timestamp or duration for delayed delivery</td> </tr> <tr> <td><code>email</code></td> <td>-</td> <td><em>e-mail address</em></td> <td><code>phil@example.com</code></td> <td>E-mail address for e-mail notifications</td> </tr> <tr> <td><code>call</code></td> <td>-</td> <td><em>phone number or 'yes'</em></td> <td><code>+1222334444</code> or <code>yes</code></td> <td>Phone number to use for <a href=#phone-calls>voice call</a></td> </tr> <tr> <td><code>sequence_id</code></td> <td>-</td> <td><em>string</em></td> <td><code>my-sequence-123</code></td> <td>Sequence ID for <a href=#updating-deleting-notifications>updating/deleting notifications</a></td> </tr> </tbody> </table> <h2 id=webhooks-publish-via-get>Webhooks (publish via GET)<a class=headerlink href=#webhooks-publish-via-get title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>In addition to using PUT/POST, you can also send to topics via simple HTTP GET requests. This makes it easy to use a ntfy topic as a <a href=https://en.wikipedia.org/wiki/Webhook>webhook</a>, or if your client has limited HTTP support.</p> <p>To send messages via HTTP GET, simply call the <code>/publish</code> endpoint (or its aliases <code>/send</code> and <code>/trigger</code>). Without any arguments, this will send the message <code>triggered</code> to the topic. However, you can provide all arguments that are also supported as HTTP headers as URL-encoded arguments. Be sure to check the list of all <a href=#list-of-all-parameters>supported parameters and headers</a> for details.</p> <p>For instance, assuming your topic is <code>mywebhook</code>, you can simply call <code>/mywebhook/trigger</code> to send a message (aka trigger the webhook):</p> <div class="tabbed-set tabbed-alternate" data-tabs=33:8><input checked=checked id=__tabbed_33_1 name=__tabbed_33 type=radio><input id=__tabbed_33_2 name=__tabbed_33 type=radio><input id=__tabbed_33_3 name=__tabbed_33 type=radio><input id=__tabbed_33_4 name=__tabbed_33 type=radio><input id=__tabbed_33_5 name=__tabbed_33 type=radio><input id=__tabbed_33_6 name=__tabbed_33 type=radio><input id=__tabbed_33_7 name=__tabbed_33 type=radio><input id=__tabbed_33_8 name=__tabbed_33 type=radio><div class=tabbed-labels><label for=__tabbed_33_1>Command line (curl)</label><label for=__tabbed_33_2>ntfy CLI</label><label for=__tabbed_33_3>HTTP</label><label for=__tabbed_33_4>JavaScript</label><label for=__tabbed_33_5>Go</label><label for=__tabbed_33_6>PowerShell</label><label for=__tabbed_33_7>Python</label><label for=__tabbed_33_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl ntfy.sh/mywebhook/trigger
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy trigger mywebhook
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>GET</span> <span class=nn>/mywebhook/trigger</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mywebhook/trigger&#39;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>http</span><span class=p>.</span><span class=nx>Get</span><span class=p>(</span><span class=s>&quot;https://ntfy.sh/mywebhook/trigger&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>Invoke-RestMethod</span> <span class=s2>&quot;ntfy.sh/mywebhook/trigger&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mywebhook/trigger&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mywebhook/trigger&#39;</span><span class=p>);</span>
</code></pre></div> </div> </div> </div> <p>To add a custom message, simply append the <code>message=</code> URL parameter. And of course you can set the <a href=#message-priority>message priority</a>, the <a href=#message-title>message title</a>, and <a href=#tags-emojis>tags</a> as well. For a full list of possible parameters, check the list of <a href=#list-of-all-parameters>supported parameters and headers</a>.</p> <p>Here's an example with a custom message, tags and a priority:</p> <div class="tabbed-set tabbed-alternate" data-tabs=34:8><input checked=checked id=__tabbed_34_1 name=__tabbed_34 type=radio><input id=__tabbed_34_2 name=__tabbed_34 type=radio><input id=__tabbed_34_3 name=__tabbed_34 type=radio><input id=__tabbed_34_4 name=__tabbed_34 type=radio><input id=__tabbed_34_5 name=__tabbed_34 type=radio><input id=__tabbed_34_6 name=__tabbed_34 type=radio><input id=__tabbed_34_7 name=__tabbed_34 type=radio><input id=__tabbed_34_8 name=__tabbed_34 type=radio><div class=tabbed-labels><label for=__tabbed_34_1>Command line (curl)</label><label for=__tabbed_34_2>ntfy CLI</label><label for=__tabbed_34_3>HTTP</label><label for=__tabbed_34_4>JavaScript</label><label for=__tabbed_34_5>Go</label><label for=__tabbed_34_6>PowerShell</label><label for=__tabbed_34_7>Python</label><label for=__tabbed_34_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl &quot;ntfy.sh/mywebhook/publish?message=Webhook+triggered&amp;priority=high&amp;tags=warning,skull&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    -p 5 --tags=warning,skull \
    mywebhook &quot;Webhook triggered&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>GET</span> <span class=nn>/mywebhook/publish?message=Webhook+triggered&amp;priority=high&amp;tags=warning,skull</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mywebhook/publish?message=Webhook+triggered&amp;priority=high&amp;tags=warning,skull&#39;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>http</span><span class=p>.</span><span class=nx>Get</span><span class=p>(</span><span class=s>&quot;https://ntfy.sh/mywebhook/publish?message=Webhook+triggered&amp;priority=high&amp;tags=warning,skull&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>Invoke-RestMethod</span> <span class=s2>&quot;ntfy.sh/mywebhook/publish?message=Webhook+triggered&amp;priority=high&amp;tags=warning,skull&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mywebhook/publish?message=Webhook+triggered&amp;priority=high&amp;tags=warning,skull&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mywebhook/publish?message=Webhook+triggered&amp;priority=high&amp;tags=warning,skull&#39;</span><span class=p>);</span>
</code></pre></div> </div> </div> </div> <h2 id=updating-deleting-notifications>Updating + deleting notifications<a class=headerlink href=#updating-deleting-notifications title="Permanent link">&para;</a></h2> <p><em>Supported on:</em> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.61 15.15c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.84.36.84.82-.38.83-.84.83m-9.2 0c-.46 0-.84-.37-.84-.83s.38-.82.84-.82.83.36.83.82-.37.83-.83.83m9.5-5.01 1.67-2.88c.09-.17.03-.38-.13-.47-.17-.1-.38-.04-.45.13l-1.71 2.91A10.15 10.15 0 0 0 12 8.91c-1.53 0-3 .33-4.27.91L6.04 6.91a.334.334 0 0 0-.47-.13c-.17.09-.22.3-.13.47l1.66 2.88C4.25 11.69 2.29 14.58 2 18h20c-.28-3.41-2.23-6.3-5.09-7.86"/></svg></span> <span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6.85 6.74q.015 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44-.08-.12-.17-.25-.24-.38-.04-.07-.07-.14-.11-.21-.06-.13-.12-.26-.15-.4 0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04-.69.04-1.37.21-1.99.51-.12.05-.17.19-.13.31.05.14.21.21.34.15.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09.03.02.06.03.09.05.07.04.16.07.2.11.04.02.08.05.12.07.73.45 1.34 1.07 1.75 1.81-.53-.37-1.49-.74-2.41-.58 3.6 1.81 2.63 8-2.36 7.76-.44-.01-.88-.1-1.3-.25-.1-.03-.2-.07-.29-.12-.05-.02-.12-.05-.17-.08-1.23-.63-2.24-1.82-2.38-3.27 0 0 .5-1.73 3.33-1.73.31 0 1.17-.86 1.2-1.1 0-.09-1.74-.78-2.42-1.45-.37-.36-.54-.53-.69-.66-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5-.01 0-.3.16-.33.18-.35.25-.68.53-.98.82-.35.37-.66.74-.94 1.14-.62.91-1.12 1.95-1.34 3.04 0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01 4.97 0 9.08-3.59 9.88-8.33.02-.11.03-.24.05-.37.2-1.72-.02-3.52-.65-5.03"/></svg></span></p> <p>You can <strong>update, clear (mark as read and dismiss), or delete notifications</strong> that have already been delivered. This is useful for scenarios like download progress updates, replacing outdated information, or dismissing notifications that are no longer relevant.</p> <ul> <li><a href=#updating-notifications>Updating notifications</a> will alter the content of an existing notification.</li> <li><a href=#clearing-notifications>Clearing notifications</a> will mark them as read and dismiss them from the notification drawer.</li> <li><a href=#deleting-notifications>Deleting notifications</a> will remove them from the notification drawer and remove them in the clients as well (if supported).</li> </ul> <p>Here's an example of a download progress notification being updated over time on Android:</p> <div id=updating-notifications-screenshots class=screenshots> <a href=../../static/img/android-screenshot-notification-update-1.png><img src=../../static/img/android-screenshot-notification-update-1.png></a> <a href=../../static/img/android-screenshot-notification-update-2.png><img src=../../static/img/android-screenshot-notification-update-2.png></a> </div> <p>To facilitate updating notifications and altering existing notifications, ntfy messages are linked together in a sequence, using a <strong>sequence ID</strong>. When a notification is meant to be updated, cleared, or deleted, you publish a new message with the same sequence ID and the clients will perform the appropriate action on the existing notification.</p> <p>Existing ntfy messages will not be updated on the server or in the message cache. Instead, a new message is created that indicates the update, clear, or delete action. This append-only behavior ensures that message history remains intact.</p> <h3 id=updating-notifications>Updating notifications<a class=headerlink href=#updating-notifications title="Permanent link">&para;</a></h3> <p>To update an existing notification, publish a new message with the same sequence ID. Clients will replace the previous notification with the new one. You can either:</p> <ol> <li><strong>Use the message ID</strong>: First publish like normal to <code>POST /&lt;topic&gt;</code> without a sequence ID, then use the returned message <code>id</code> as the sequence ID for updates</li> <li><strong>Use a custom sequence ID</strong>: Publish directly to <code>POST /&lt;topic&gt;/&lt;sequence_id&gt;</code> with your own identifier, or use <code>POST /&lt;topic&gt;</code> with the <code>X-Sequence-ID</code> header (or any of its aliases: <code>Sequence-ID</code> or<code>SID</code>)</li> </ol> <p>If you don't know the sequence ID ahead of time, you can publish a message first and then use the returned message <code>id</code> to update it. Here's an example:</p> <div class="tabbed-set tabbed-alternate" data-tabs=35:8><input checked=checked id=__tabbed_35_1 name=__tabbed_35 type=radio><input id=__tabbed_35_2 name=__tabbed_35 type=radio><input id=__tabbed_35_3 name=__tabbed_35 type=radio><input id=__tabbed_35_4 name=__tabbed_35 type=radio><input id=__tabbed_35_5 name=__tabbed_35 type=radio><input id=__tabbed_35_6 name=__tabbed_35 type=radio><input id=__tabbed_35_7 name=__tabbed_35 type=radio><input id=__tabbed_35_8 name=__tabbed_35 type=radio><div class=tabbed-labels><label for=__tabbed_35_1>Command line (curl)</label><label for=__tabbed_35_2>ntfy CLI</label><label for=__tabbed_35_3>HTTP</label><label for=__tabbed_35_4>JavaScript</label><label for=__tabbed_35_5>Go</label><label for=__tabbed_35_6>PowerShell</label><label for=__tabbed_35_7>Python</label><label for=__tabbed_35_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1># First, publish a message and capture the message ID</span>
curl<span class=w> </span>-d<span class=w> </span><span class=s2>&quot;Downloading file...&quot;</span><span class=w> </span>ntfy.sh/mytopic
<span class=c1># Returns: {&quot;id&quot;:&quot;xE73Iyuabi&quot;,&quot;time&quot;:1673542291,...}</span>

<span class=c1># Then use the message ID to update it (via URL path)</span>
curl<span class=w> </span>-d<span class=w> </span><span class=s2>&quot;Download 50% ...&quot;</span><span class=w> </span>ntfy.sh/mytopic/xE73Iyuabi

<span class=c1># Or update using the X-Sequence-ID header</span>
curl<span class=w> </span>-H<span class=w> </span><span class=s2>&quot;X-Sequence-ID: xE73Iyuabi&quot;</span><span class=w> </span>-d<span class=w> </span><span class=s2>&quot;Download complete&quot;</span><span class=w> </span>ntfy.sh/mytopic
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1># First, publish a message and capture the message ID</span>
ntfy<span class=w> </span>pub<span class=w> </span>mytopic<span class=w> </span><span class=s2>&quot;Downloading file...&quot;</span>
<span class=c1># Returns: {&quot;id&quot;:&quot;xE73Iyuabi&quot;,&quot;time&quot;:1673542291,...}</span>

<span class=c1># Then use the message ID to update it</span>
ntfy<span class=w> </span>pub<span class=w> </span>--sequence-id<span class=o>=</span>xE73Iyuabi<span class=w> </span>mytopic<span class=w> </span><span class=s2>&quot;Download 50% ...&quot;</span>

<span class=c1># Update again with the same sequence ID</span>
ntfy<span class=w> </span>pub<span class=w> </span>-S<span class=w> </span>xE73Iyuabi<span class=w> </span>mytopic<span class=w> </span><span class=s2>&quot;Download complete&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=err># First, publish a message and capture the message ID</span>
<span class=nf>POST</span> <span class=nn>/mytopic</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

Downloading file...

# Returns: {&quot;id&quot;:&quot;xE73Iyuabi&quot;,&quot;time&quot;:1673542291,...}

# Then use the message ID to update it
POST /mytopic/xE73Iyuabi HTTP/1.1
Host: ntfy.sh

Download 50% ...

# Update again with the same sequence ID, this time using the header
POST /mytopic HTTP/1.1
Host: ntfy.sh
X-Sequence-ID: xE73Iyuabi

Download complete
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// First, publish and get the message ID</span>
<span class=kd>const</span><span class=w> </span><span class=nx>response</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>  </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Downloading file...&#39;</span>
<span class=p>});</span>
<span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>id</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>await</span><span class=w> </span><span class=nx>response</span><span class=p>.</span><span class=nx>json</span><span class=p>();</span>

<span class=c1>// Update via URL path</span>
<span class=k>await</span><span class=w> </span><span class=nx>fetch</span><span class=p>(</span><span class=sb>`https://ntfy.sh/mytopic/</span><span class=si>${</span><span class=nx>id</span><span class=si>}</span><span class=sb>`</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>  </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Download 50% ...&#39;</span>
<span class=p>});</span>

<span class=c1>// Or update using the X-Sequence-ID header</span>
<span class=k>await</span><span class=w> </span><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>  </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;X-Sequence-ID&#39;</span><span class=o>:</span><span class=w> </span><span class=nx>id</span><span class=w> </span><span class=p>},</span>
<span class=w>  </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Download complete&#39;</span>
<span class=p>});</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// Publish and parse the response to get the message ID</span>
<span class=nx>resp</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>Post</span><span class=p>(</span><span class=s>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;text/plain&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Downloading file...&quot;</span><span class=p>))</span>
<span class=kd>var</span><span class=w> </span><span class=nx>msg</span><span class=w> </span><span class=kd>struct</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>ID</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=s>`json:&quot;id&quot;`</span><span class=w> </span><span class=p>}</span>
<span class=nx>json</span><span class=p>.</span><span class=nx>NewDecoder</span><span class=p>(</span><span class=nx>resp</span><span class=p>.</span><span class=nx>Body</span><span class=p>).</span><span class=nx>Decode</span><span class=p>(</span><span class=o>&amp;</span><span class=nx>msg</span><span class=p>)</span>

<span class=c1>// Update via URL path</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>Post</span><span class=p>(</span><span class=s>&quot;https://ntfy.sh/mytopic/&quot;</span><span class=o>+</span><span class=nx>msg</span><span class=p>.</span><span class=nx>ID</span><span class=p>,</span><span class=w> </span><span class=s>&quot;text/plain&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Download 50% ...&quot;</span><span class=p>))</span>

<span class=c1>// Or update using the X-Sequence-ID header</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Download complete&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;X-Sequence-ID&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>msg</span><span class=p>.</span><span class=nx>ID</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c># Publish and get the message ID</span>
<span class=nv>$response</span> <span class=p>=</span> <span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=n>POST</span> <span class=n>-Uri</span> <span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span> <span class=n>-Body</span> <span class=s2>&quot;Downloading file...&quot;</span>
<span class=nv>$messageId</span> <span class=p>=</span> <span class=nv>$response</span><span class=p>.</span><span class=n>id</span>

<span class=c># Update via URL path</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=n>POST</span> <span class=n>-Uri</span> <span class=s2>&quot;https://ntfy.sh/mytopic/$messageId&quot;</span> <span class=n>-Body</span> <span class=s2>&quot;Download 50% ...&quot;</span>

<span class=c># Or update using the X-Sequence-ID header</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=n>POST</span> <span class=n>-Uri</span> <span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span> <span class=p>`</span>
    <span class=n>-Headers</span> <span class=p>@{</span><span class=s2>&quot;X-Sequence-ID&quot;</span><span class=p>=</span><span class=nv>$messageId</span><span class=p>}</span> <span class=n>-Body</span> <span class=s2>&quot;Download complete&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>requests</span>

<span class=c1># Publish and get the message ID</span>
<span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Downloading file...&quot;</span><span class=p>)</span>
<span class=n>message_id</span> <span class=o>=</span> <span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>()[</span><span class=s2>&quot;id&quot;</span><span class=p>]</span>

<span class=c1># Update via URL path</span>
<span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;https://ntfy.sh/mytopic/</span><span class=si>{</span><span class=n>message_id</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Download 50% ...&quot;</span><span class=p>)</span>

<span class=c1># Or update using the X-Sequence-ID header</span>
<span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;X-Sequence-ID&quot;</span><span class=p>:</span> <span class=n>message_id</span><span class=p>},</span> <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Download complete&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// Publish and get the message ID</span>
<span class=nv>$response</span> <span class=o>=</span> <span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span><span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Downloading file...&#39;</span><span class=p>]</span>
<span class=p>]));</span>
<span class=nv>$messageId</span> <span class=o>=</span> <span class=nb>json_decode</span><span class=p>(</span><span class=nv>$response</span><span class=p>)</span><span class=o>-&gt;</span><span class=na>id</span><span class=p>;</span>

<span class=c1>// Update via URL path</span>
<span class=nb>file_get_contents</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic/</span><span class=si>$messageId</span><span class=s2>&quot;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span><span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Download 50% ...&#39;</span><span class=p>]</span>
<span class=p>]));</span>

<span class=c1>// Or update using the X-Sequence-ID header</span>
<span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s2>&quot;X-Sequence-ID: </span><span class=si>$messageId</span><span class=s2>&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Download complete&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>You can also use a <strong>custom sequence ID</strong> (e.g., a download ID, job ID, etc.) when publishing the first message. <strong>This is less cumbersome</strong>, since you don't need to capture the message ID first. Just publish directly to <code>/&lt;topic&gt;/&lt;sequence_id&gt;</code>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=36:8><input checked=checked id=__tabbed_36_1 name=__tabbed_36 type=radio><input id=__tabbed_36_2 name=__tabbed_36 type=radio><input id=__tabbed_36_3 name=__tabbed_36 type=radio><input id=__tabbed_36_4 name=__tabbed_36 type=radio><input id=__tabbed_36_5 name=__tabbed_36 type=radio><input id=__tabbed_36_6 name=__tabbed_36 type=radio><input id=__tabbed_36_7 name=__tabbed_36 type=radio><input id=__tabbed_36_8 name=__tabbed_36 type=radio><div class=tabbed-labels><label for=__tabbed_36_1>Command line (curl)</label><label for=__tabbed_36_2>ntfy CLI</label><label for=__tabbed_36_3>HTTP</label><label for=__tabbed_36_4>JavaScript</label><label for=__tabbed_36_5>Go</label><label for=__tabbed_36_6>PowerShell</label><label for=__tabbed_36_7>Python</label><label for=__tabbed_36_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1># Publish with a custom sequence ID</span>
curl<span class=w> </span>-d<span class=w> </span><span class=s2>&quot;Downloading file...&quot;</span><span class=w> </span>ntfy.sh/mytopic/my-download-123

<span class=c1># Update using the same sequence ID (via URL path)</span>
curl<span class=w> </span>-d<span class=w> </span><span class=s2>&quot;Download 50% ...&quot;</span><span class=w> </span>ntfy.sh/mytopic/my-download-123

<span class=c1># Or update using the X-Sequence-ID header</span>
curl<span class=w> </span>-H<span class=w> </span><span class=s2>&quot;X-Sequence-ID: my-download-123&quot;</span><span class=w> </span>-d<span class=w> </span><span class=s2>&quot;Download complete&quot;</span><span class=w> </span>ntfy.sh/mytopic
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1># Publish with a sequence ID</span>
ntfy<span class=w> </span>pub<span class=w> </span>--sequence-id<span class=o>=</span>my-download-123<span class=w> </span>mytopic<span class=w> </span><span class=s2>&quot;Downloading file...&quot;</span>

<span class=c1># Update using the same sequence ID</span>
ntfy<span class=w> </span>pub<span class=w> </span>--sequence-id<span class=o>=</span>my-download-123<span class=w> </span>mytopic<span class=w> </span><span class=s2>&quot;Download 50% ...&quot;</span>

<span class=c1># Update again</span>
ntfy<span class=w> </span>pub<span class=w> </span>-S<span class=w> </span>my-download-123<span class=w> </span>mytopic<span class=w> </span><span class=s2>&quot;Download complete&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=err># Publish a message with a custom sequence ID</span>
<span class=nf>POST</span> <span class=nn>/mytopic/my-download-123</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>

Downloading file...

# Update again using the X-Sequence-ID header
POST /mytopic HTTP/1.1
Host: ntfy.sh
X-Sequence-ID: my-download-123

Download complete
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// First message</span>
<span class=k>await</span><span class=w> </span><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic/my-download-123&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>  </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Downloading file...&#39;</span>
<span class=p>});</span>

<span class=c1>// Update via URL path</span>
<span class=k>await</span><span class=w> </span><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic/my-download-123&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>  </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Download 50% ...&#39;</span>
<span class=p>});</span>

<span class=c1>// Or update using the X-Sequence-ID header</span>
<span class=k>await</span><span class=w> </span><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>  </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;X-Sequence-ID&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;my-download-123&#39;</span><span class=w> </span><span class=p>},</span>
<span class=w>  </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Download complete&#39;</span>
<span class=p>});</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// Publish with sequence ID in URL path</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>Post</span><span class=p>(</span><span class=s>&quot;https://ntfy.sh/mytopic/my-download-123&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;text/plain&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Downloading file...&quot;</span><span class=p>))</span>

<span class=c1>// Update via URL path</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>Post</span><span class=p>(</span><span class=s>&quot;https://ntfy.sh/mytopic/my-download-123&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;text/plain&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Download 50% ...&quot;</span><span class=p>))</span>

<span class=c1>// Or update using the X-Sequence-ID header</span>
<span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Download complete&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;X-Sequence-ID&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;my-download-123&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c># Publish with sequence ID</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=n>POST</span> <span class=n>-Uri</span> <span class=s2>&quot;https://ntfy.sh/mytopic/my-download-123&quot;</span> <span class=n>-Body</span> <span class=s2>&quot;Downloading file...&quot;</span>

<span class=c># Update via URL path</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=n>POST</span> <span class=n>-Uri</span> <span class=s2>&quot;https://ntfy.sh/mytopic/my-download-123&quot;</span> <span class=n>-Body</span> <span class=s2>&quot;Download 50% ...&quot;</span>

<span class=c># Or update using the X-Sequence-ID header</span>
<span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=n>POST</span> <span class=n>-Uri</span> <span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span> <span class=p>`</span>
    <span class=n>-Headers</span> <span class=p>@{</span><span class=s2>&quot;X-Sequence-ID&quot;</span><span class=p>=</span><span class=s2>&quot;my-download-123&quot;</span><span class=p>}</span> <span class=n>-Body</span> <span class=s2>&quot;Download complete&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>requests</span>

<span class=c1># Publish with sequence ID</span>
<span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic/my-download-123&quot;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Downloading file...&quot;</span><span class=p>)</span>

<span class=c1># Update via URL path</span>
<span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic/my-download-123&quot;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Download 50% ...&quot;</span><span class=p>)</span>

<span class=c1># Or update using the X-Sequence-ID header</span>
<span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;X-Sequence-ID&quot;</span><span class=p>:</span> <span class=s2>&quot;my-download-123&quot;</span><span class=p>},</span> <span class=n>data</span><span class=o>=</span><span class=s2>&quot;Download complete&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// Publish with sequence ID</span>
<span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic/my-download-123&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span><span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Downloading file...&#39;</span><span class=p>]</span>
<span class=p>]));</span>

<span class=c1>// Update via URL path</span>
<span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic/my-download-123&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span><span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Download 50% ...&#39;</span><span class=p>]</span>
<span class=p>]));</span>

<span class=c1>// Or update using the X-Sequence-ID header</span>
<span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;X-Sequence-ID: my-download-123&#39;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Download complete&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>You can also set the sequence ID via the <code>sequence-id</code> <a href=#list-of-all-parameters>query parameter</a>, or when <a href=#publish-as-json>publishing as JSON</a> using the <code>sequence_id</code> field.</p> <p>If the message ID (<code>id</code>) and the sequence ID (<code>sequence_id</code>) are different, the ntfy server will include the <code>sequence_id</code> field the response. A sequence of updates may look like this (first example from above):</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=s2>&quot;xE73Iyuabi&quot;</span><span class=p>,</span><span class=nt>&quot;time&quot;</span><span class=p>:</span><span class=mi>1673542291</span><span class=p>,</span><span class=nt>&quot;event&quot;</span><span class=p>:</span><span class=s2>&quot;message&quot;</span><span class=p>,</span><span class=nt>&quot;topic&quot;</span><span class=p>:</span><span class=s2>&quot;mytopic&quot;</span><span class=p>,</span><span class=nt>&quot;message&quot;</span><span class=p>:</span><span class=s2>&quot;Downloading file...&quot;</span><span class=p>}</span>
<span class=p>{</span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=s2>&quot;yF84Jzvbcj&quot;</span><span class=p>,</span><span class=nt>&quot;time&quot;</span><span class=p>:</span><span class=mi>1673542295</span><span class=p>,</span><span class=nt>&quot;event&quot;</span><span class=p>:</span><span class=s2>&quot;message&quot;</span><span class=p>,</span><span class=nt>&quot;topic&quot;</span><span class=p>:</span><span class=s2>&quot;mytopic&quot;</span><span class=p>,</span><span class=nt>&quot;sequence_id&quot;</span><span class=p>:</span><span class=s2>&quot;xE73Iyuabi&quot;</span><span class=p>,</span><span class=nt>&quot;message&quot;</span><span class=p>:</span><span class=s2>&quot;Download 50% ...&quot;</span><span class=p>}</span>
<span class=p>{</span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=s2>&quot;zG95Kawdde&quot;</span><span class=p>,</span><span class=nt>&quot;time&quot;</span><span class=p>:</span><span class=mi>1673542300</span><span class=p>,</span><span class=nt>&quot;event&quot;</span><span class=p>:</span><span class=s2>&quot;message&quot;</span><span class=p>,</span><span class=nt>&quot;topic&quot;</span><span class=p>:</span><span class=s2>&quot;mytopic&quot;</span><span class=p>,</span><span class=nt>&quot;sequence_id&quot;</span><span class=p>:</span><span class=s2>&quot;xE73Iyuabi&quot;</span><span class=p>,</span><span class=nt>&quot;message&quot;</span><span class=p>:</span><span class=s2>&quot;Download complete&quot;</span><span class=p>}</span>
</code></pre></div> <h3 id=clearing-notifications>Clearing notifications<a class=headerlink href=#clearing-notifications title="Permanent link">&para;</a></h3> <p>Clearing a notification means <strong>marking it as read and dismissing it from the notification drawer</strong>. </p> <p>To do this, send a PUT request to the <code>/&lt;topic&gt;/&lt;sequence_id&gt;/clear</code> endpoint (or <code>/&lt;topic&gt;/&lt;sequence_id&gt;/read</code> as an alias). This will then emit a <code>message_clear</code> event that is used by the clients (web app and Android app) to update the read status and dismiss the notification.</p> <div class="tabbed-set tabbed-alternate" data-tabs=37:7><input checked=checked id=__tabbed_37_1 name=__tabbed_37 type=radio><input id=__tabbed_37_2 name=__tabbed_37 type=radio><input id=__tabbed_37_3 name=__tabbed_37 type=radio><input id=__tabbed_37_4 name=__tabbed_37 type=radio><input id=__tabbed_37_5 name=__tabbed_37 type=radio><input id=__tabbed_37_6 name=__tabbed_37 type=radio><input id=__tabbed_37_7 name=__tabbed_37 type=radio><div class=tabbed-labels><label for=__tabbed_37_1>Command line (curl)</label><label for=__tabbed_37_2>HTTP</label><label for=__tabbed_37_3>JavaScript</label><label for=__tabbed_37_4>Go</label><label for=__tabbed_37_5>PowerShell</label><label for=__tabbed_37_6>Python</label><label for=__tabbed_37_7>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl<span class=w> </span>-X<span class=w> </span>PUT<span class=w> </span>ntfy.sh/mytopic/my-download-123/clear
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>PUT</span> <span class=nn>/mytopic/my-download-123/clear</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=k>await</span><span class=w> </span><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic/my-download-123/clear&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;PUT&#39;</span>
<span class=p>});</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;PUT&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mytopic/my-download-123/clear&quot;</span><span class=p>,</span><span class=w> </span><span class=kc>nil</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=n>PUT</span> <span class=n>-Uri</span> <span class=s2>&quot;https://ntfy.sh/mytopic/my-download-123/clear&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic/my-download-123/clear&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic/my-download-123/clear&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span><span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;PUT&#39;</span><span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>An example response from the server with the <code>message_clear</code> event may look like this:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=s2>&quot;jkl012&quot;</span><span class=p>,</span><span class=nt>&quot;time&quot;</span><span class=p>:</span><span class=mi>1673542305</span><span class=p>,</span><span class=nt>&quot;event&quot;</span><span class=p>:</span><span class=s2>&quot;message_clear&quot;</span><span class=p>,</span><span class=nt>&quot;topic&quot;</span><span class=p>:</span><span class=s2>&quot;mytopic&quot;</span><span class=p>,</span><span class=nt>&quot;sequence_id&quot;</span><span class=p>:</span><span class=s2>&quot;my-download-123&quot;</span><span class=p>}</span>
</code></pre></div> <h3 id=deleting-notifications>Deleting notifications<a class=headerlink href=#deleting-notifications title="Permanent link">&para;</a></h3> <p>Deleting a notification means <strong>removing it from the notification drawer and from the client's database</strong>.</p> <p>To do this, send a DELETE request to the <code>/&lt;topic&gt;/&lt;sequence_id&gt;</code> endpoint. This will emit a <code>message_delete</code> event that is used by the clients (web app and Android app) to remove the notification entirely.</p> <div class="tabbed-set tabbed-alternate" data-tabs=38:7><input checked=checked id=__tabbed_38_1 name=__tabbed_38 type=radio><input id=__tabbed_38_2 name=__tabbed_38 type=radio><input id=__tabbed_38_3 name=__tabbed_38 type=radio><input id=__tabbed_38_4 name=__tabbed_38 type=radio><input id=__tabbed_38_5 name=__tabbed_38 type=radio><input id=__tabbed_38_6 name=__tabbed_38 type=radio><input id=__tabbed_38_7 name=__tabbed_38 type=radio><div class=tabbed-labels><label for=__tabbed_38_1>Command line (curl)</label><label for=__tabbed_38_2>HTTP</label><label for=__tabbed_38_3>JavaScript</label><label for=__tabbed_38_4>Go</label><label for=__tabbed_38_5>PowerShell</label><label for=__tabbed_38_6>Python</label><label for=__tabbed_38_7>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl<span class=w> </span>-X<span class=w> </span>DELETE<span class=w> </span>ntfy.sh/mytopic/my-download-123
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>DELETE</span> <span class=nn>/mytopic/my-download-123</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=k>await</span><span class=w> </span><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic/my-download-123&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;DELETE&#39;</span>
<span class=p>});</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;DELETE&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mytopic/my-download-123&quot;</span><span class=p>,</span><span class=w> </span><span class=kc>nil</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>Invoke-RestMethod</span> <span class=n>-Method</span> <span class=n>DELETE</span> <span class=n>-Uri</span> <span class=s2>&quot;https://ntfy.sh/mytopic/my-download-123&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>delete</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic/my-download-123&quot;</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic/my-download-123&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span><span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;DELETE&#39;</span><span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>An example response from the server with the <code>message_delete</code> event may look like this:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=s2>&quot;mno345&quot;</span><span class=p>,</span><span class=nt>&quot;time&quot;</span><span class=p>:</span><span class=mi>1673542400</span><span class=p>,</span><span class=nt>&quot;event&quot;</span><span class=p>:</span><span class=s2>&quot;message_delete&quot;</span><span class=p>,</span><span class=nt>&quot;topic&quot;</span><span class=p>:</span><span class=s2>&quot;mytopic&quot;</span><span class=p>,</span><span class=nt>&quot;sequence_id&quot;</span><span class=p>:</span><span class=s2>&quot;my-download-123&quot;</span><span class=p>}</span>
</code></pre></div> <div class="admonition info"> <p class=admonition-title>Info</p> <p>Deleted sequences can be revived by publishing a new message with the same sequence ID. The notification will reappear as a new message.</p> </div> <h2 id=authentication>Authentication<a class=headerlink href=#authentication title="Permanent link">&para;</a></h2> <p>Depending on whether the server is configured to support <a href=../config/#access-control>access control</a>, some topics may be read/write protected so that only users with the correct credentials can subscribe or publish to them. To publish/subscribe to protected topics, you can: </p> <ul> <li>Use <a href=#username-password>username &amp; password</a> via Basic auth, e.g. <code>Authorization: Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk</code></li> <li>Use <a href=#access-tokens>access tokens</a> via Bearer/Basic auth, e.g. <code>Authorization: Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2</code></li> <li>or use either with the <a href=#query-param><code>auth</code> query parameter</a>, e.g. <code>?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw</code></li> </ul> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>When using Basic auth, base64 only encodes username and password. It <strong>is not encrypting it</strong>. For your self-hosted server, <strong>be sure to use HTTPS to avoid eavesdropping</strong> and exposing your password. </p> </div> <h3 id=username-password>Username + password<a class=headerlink href=#username-password title="Permanent link">&para;</a></h3> <p>The simplest way to authenticate against a ntfy server is to use <a href=https://en.wikipedia.org/wiki/Basic_access_authentication>Basic auth</a>. Here's an example with a user <code>testuser</code> and password <code>fakepassword</code>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=39:9><input checked=checked id=__tabbed_39_1 name=__tabbed_39 type=radio><input id=__tabbed_39_2 name=__tabbed_39 type=radio><input id=__tabbed_39_3 name=__tabbed_39 type=radio><input id=__tabbed_39_4 name=__tabbed_39 type=radio><input id=__tabbed_39_5 name=__tabbed_39 type=radio><input id=__tabbed_39_6 name=__tabbed_39 type=radio><input id=__tabbed_39_7 name=__tabbed_39 type=radio><input id=__tabbed_39_8 name=__tabbed_39 type=radio><input id=__tabbed_39_9 name=__tabbed_39 type=radio><div class=tabbed-labels><label for=__tabbed_39_1>Command line (curl)</label><label for=__tabbed_39_2>ntfy CLI</label><label for=__tabbed_39_3>HTTP</label><label for=__tabbed_39_4>JavaScript</label><label for=__tabbed_39_5>Go</label><label for=__tabbed_39_6>PowerShell 7+</label><label for=__tabbed_39_7>PowerShell 5 and earlier</label><label for=__tabbed_39_8>Python</label><label for=__tabbed_39_9>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
  -u testuser:fakepassword \
  -d &quot;Look ma, with auth&quot; \
  https://ntfy.example.com/mysecrets
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
  -u testuser:fakepassword \
  ntfy.example.com/mysecrets \
  &quot;Look ma, with auth&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mysecrets</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.example.com</span>
<span class=na>Authorization</span><span class=o>:</span> <span class=l>Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk</span>

Look ma, with auth
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// PUT works too</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Look ma, with auth&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=s1>&#39;Authorization&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk&#39;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.example.com/mysecrets&quot;</span><span class=p>,</span>
<span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Look ma, with auth&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Authorization&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c># Get the credentials from the user</span>
<span class=nv>$Credential</span> <span class=p>=</span> <span class=nb>Get-Credential</span> <span class=n>testuser</span>

<span class=c># Alternatively, create a PSCredential object with the password from scratch</span>
<span class=nv>$Credential</span> <span class=p>=</span> <span class=no>[PSCredential]</span><span class=p>::</span><span class=n>new</span><span class=p>(</span><span class=s2>&quot;testuser&quot;</span><span class=p>,</span> <span class=p>(</span><span class=nb>ConvertTo-SecureString</span> <span class=s2>&quot;password&quot;</span> <span class=n>-AsPlainText</span> <span class=n>-Force</span><span class=p>))</span>

<span class=c># Note that the Authentication parameter requires PowerShell 7 or later</span>
<span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.example.com/mysecrets&quot;</span>
  <span class=n>Authentication</span> <span class=p>=</span> <span class=s2>&quot;Basic&quot;</span>
  <span class=n>Credential</span> <span class=p>=</span> <span class=nv>$Credential</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Look ma, with auth&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c># With PowerShell 5 or earlier, we need to create the base64 username:password string ourselves</span>
<span class=nv>$CredentialString</span> <span class=p>=</span> <span class=s2>&quot;</span><span class=p>$(</span><span class=nv>$Credential</span><span class=p>.</span><span class=n>Username</span><span class=p>)</span><span class=s2>:</span><span class=p>$(</span><span class=nv>$Credential</span><span class=p>.</span><span class=n>GetNetworkCredential</span><span class=p>().</span><span class=n>Password</span><span class=p>)</span><span class=s2>&quot;</span>
<span class=nv>$EncodedCredential</span> <span class=p>=</span> <span class=no>[Convert]</span><span class=p>::</span><span class=n>ToBase64String</span><span class=p>(</span><span class=no>[Text.Encoding]</span><span class=p>::</span><span class=n>UTF8</span><span class=p>.</span><span class=n>GetBytes</span><span class=p>(</span><span class=nv>$CredentialString</span><span class=p>))</span>
<span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.example.com/mysecrets&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Authorization</span> <span class=p>=</span> <span class=s2>&quot;Basic $EncodedCredential&quot;</span><span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Look ma, with auth&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.example.com/mysecrets&quot;</span><span class=p>,</span>
<span class=n>data</span><span class=o>=</span><span class=s2>&quot;Look ma, with auth&quot;</span><span class=p>,</span>
<span class=n>headers</span><span class=o>=</span><span class=p>{</span>
    <span class=s2>&quot;Authorization&quot;</span><span class=p>:</span> <span class=s2>&quot;Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk&quot;</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=c1>// PUT also works</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s1>&#39;Content-Type: text/plain\r\n&#39;</span> <span class=o>.</span>
            <span class=s1>&#39;Authorization: Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk&#39;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Look ma, with auth&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>To generate the <code>Authorization</code> header, use <strong>standard base64</strong> to encode the colon-separated <code>&lt;username&gt;:&lt;password&gt;</code> and prepend the word <code>Basic</code>, i.e. <code>Authorization: Basic base64(&lt;username&gt;:&lt;password&gt;)</code>. Here's some pseudo-code that hopefully explains it better:</p> <div class=highlight><pre><span></span><code>username   = &quot;testuser&quot;
password   = &quot;fakepassword&quot;
authHeader = &quot;Basic &quot; + base64(username + &quot;:&quot; + password) // -&gt; Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk
</code></pre></div> <p>The following command will generate the appropriate value for you on *nix systems:</p> <div class=highlight><pre><span></span><code>echo &quot;Basic $(echo -n &#39;testuser:fakepassword&#39; | base64)&quot;
</code></pre></div> <h3 id=access-tokens>Access tokens<a class=headerlink href=#access-tokens title="Permanent link">&para;</a></h3> <p>In addition to username/password auth, ntfy also provides authentication via access tokens. Access tokens are useful to avoid having to configure your password across multiple publishing/subscribing applications. For instance, you may want to use a dedicated token to publish from your backup host, and one from your home automation system.</p> <p>You can create access tokens using the <code>ntfy token</code> command, or in the web app in the "Account" section (when logged in). See <a href=../config/#access-tokens>access tokens</a> for details.</p> <p>Once an access token is created, you can use it to authenticate against the ntfy server, e.g. when you publish or subscribe to topics. Here's an example using <a href=https://swagger.io/docs/specification/authentication/bearer-authentication/ >Bearer auth</a>, with the token <code>tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2</code>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=40:9><input checked=checked id=__tabbed_40_1 name=__tabbed_40 type=radio><input id=__tabbed_40_2 name=__tabbed_40 type=radio><input id=__tabbed_40_3 name=__tabbed_40 type=radio><input id=__tabbed_40_4 name=__tabbed_40 type=radio><input id=__tabbed_40_5 name=__tabbed_40 type=radio><input id=__tabbed_40_6 name=__tabbed_40 type=radio><input id=__tabbed_40_7 name=__tabbed_40 type=radio><input id=__tabbed_40_8 name=__tabbed_40 type=radio><input id=__tabbed_40_9 name=__tabbed_40 type=radio><div class=tabbed-labels><label for=__tabbed_40_1>Command line (curl)</label><label for=__tabbed_40_2>ntfy CLI</label><label for=__tabbed_40_3>HTTP</label><label for=__tabbed_40_4>JavaScript</label><label for=__tabbed_40_5>Go</label><label for=__tabbed_40_6>PowerShell 7+</label><label for=__tabbed_40_7>PowerShell 5 and earlier</label><label for=__tabbed_40_8>Python</label><label for=__tabbed_40_9>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
  -H &quot;Authorization: Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&quot; \
  -d &quot;Look ma, with auth&quot; \
  https://ntfy.example.com/mysecrets
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
  --token tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2 \
  ntfy.example.com/mysecrets \
  &quot;Look ma, with auth&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mysecrets</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.example.com</span>
<span class=na>Authorization</span><span class=o>:</span> <span class=l>Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2</span>

Look ma, with auth
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// PUT works too</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Look ma, with auth&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=s1>&#39;Authorization&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&#39;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.example.com/mysecrets&quot;</span><span class=p>,</span>
<span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Look ma, with auth&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Authorization&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c># With PowerShell 7 or greater, we can use the Authentication and Token parameters</span>
<span class=c># The Token parameter must be in the form of a System.Security.SecureString</span>

<span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.example.com/mysecrets&quot;</span>
  <span class=n>Authentication</span> <span class=p>=</span> <span class=s2>&quot;Bearer&quot;</span>
  <span class=n>Token</span> <span class=p>=</span> <span class=nb>ConvertTo-SecureString</span> <span class=s2>&quot;tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&quot;</span> <span class=n>-AsPlainText</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Look ma, with auth&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c># In PowerShell 5 and below, we can only send the Bearer token as a string in the Headers</span>
<span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.example.com/mysecrets&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Authorization</span> <span class=p>=</span> <span class=s2>&quot;Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&quot;</span> <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Look ma, with auth&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.example.com/mysecrets&quot;</span><span class=p>,</span>
<span class=n>data</span><span class=o>=</span><span class=s2>&quot;Look ma, with auth&quot;</span><span class=p>,</span>
<span class=n>headers</span><span class=o>=</span><span class=p>{</span>
    <span class=s2>&quot;Authorization&quot;</span><span class=p>:</span> <span class=s2>&quot;Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&quot;</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=c1>// PUT also works</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s1>&#39;Content-Type: text/plain\r\n&#39;</span> <span class=o>.</span>
            <span class=s1>&#39;Authorization: Bearer tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2&#39;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Look ma, with auth&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>Alternatively, you can use <a href=https://en.wikipedia.org/wiki/Basic_access_authentication>Basic Auth</a> to send the access token. When sending an empty username, the basic auth password is treated by the ntfy server as an access token. This is primarily useful to make <code>curl</code> calls easier, e.g. <code>curl -u:tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2 ...</code>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=41:8><input checked=checked id=__tabbed_41_1 name=__tabbed_41 type=radio><input id=__tabbed_41_2 name=__tabbed_41 type=radio><input id=__tabbed_41_3 name=__tabbed_41 type=radio><input id=__tabbed_41_4 name=__tabbed_41 type=radio><input id=__tabbed_41_5 name=__tabbed_41 type=radio><input id=__tabbed_41_6 name=__tabbed_41 type=radio><input id=__tabbed_41_7 name=__tabbed_41 type=radio><input id=__tabbed_41_8 name=__tabbed_41 type=radio><div class=tabbed-labels><label for=__tabbed_41_1>Command line (curl)</label><label for=__tabbed_41_2>ntfy CLI</label><label for=__tabbed_41_3>HTTP</label><label for=__tabbed_41_4>JavaScript</label><label for=__tabbed_41_5>Go</label><label for=__tabbed_41_6>PowerShell</label><label for=__tabbed_41_7>Python</label><label for=__tabbed_41_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
  -u :tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2 \
  -d &quot;Look ma, with auth&quot; \
  https://ntfy.example.com/mysecrets
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
  --token tk_AgQdq7mVBoFD37zQVN29RhuMzNIz2 \
  ntfy.example.com/mysecrets \
  &quot;Look ma, with auth&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mysecrets</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.example.com</span>
<span class=na>Authorization</span><span class=o>:</span> <span class=l>Basic OnRrX0FnUWRxN21WQm9GRDM3elFWTjI5Umh1TXpOSXoy</span>

Look ma, with auth
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// PUT works too</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Look ma, with auth&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>headers</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=s1>&#39;Authorization&#39;</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Basic OnRrX0FnUWRxN21WQm9GRDM3elFWTjI5Umh1TXpOSXoy&#39;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.example.com/mysecrets&quot;</span><span class=p>,</span>
<span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Look ma, with auth&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Authorization&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Basic OnRrX0FnUWRxN21WQm9GRDM3elFWTjI5Umh1TXpOSXoy&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c># Note that PSCredentials *must* have a username, so we fall back to placing the authorization in the Headers as with PowerShell 5</span>
<span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.example.com/mysecrets&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span>
    <span class=n>Authorization</span> <span class=p>=</span> <span class=s2>&quot;Basic OnRrX0FnUWRxN21WQm9GRDM3elFWTjI5Umh1TXpOSXoy&quot;</span>
  <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Look ma, with auth&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.example.com/mysecrets&quot;</span><span class=p>,</span>
<span class=n>data</span><span class=o>=</span><span class=s2>&quot;Look ma, with auth&quot;</span><span class=p>,</span>
<span class=n>headers</span><span class=o>=</span><span class=p>{</span>
    <span class=s2>&quot;Authorization&quot;</span><span class=p>:</span> <span class=s2>&quot;Basic OnRrX0FnUWRxN21WQm9GRDM3elFWTjI5Umh1TXpOSXoy&quot;</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=c1>// PUT also works</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s1>&#39;Content-Type: text/plain\r\n&#39;</span> <span class=o>.</span>
            <span class=s1>&#39;Authorization: Basic OnRrX0FnUWRxN21WQm9GRDM3elFWTjI5Umh1TXpOSXoy&#39;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Look ma, with auth&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <h3 id=query-param>Query param<a class=headerlink href=#query-param title="Permanent link">&para;</a></h3> <p>Here's an example using the <code>auth</code> query parameter:</p> <div class="tabbed-set tabbed-alternate" data-tabs=42:8><input checked=checked id=__tabbed_42_1 name=__tabbed_42 type=radio><input id=__tabbed_42_2 name=__tabbed_42 type=radio><input id=__tabbed_42_3 name=__tabbed_42 type=radio><input id=__tabbed_42_4 name=__tabbed_42 type=radio><input id=__tabbed_42_5 name=__tabbed_42 type=radio><input id=__tabbed_42_6 name=__tabbed_42 type=radio><input id=__tabbed_42_7 name=__tabbed_42 type=radio><input id=__tabbed_42_8 name=__tabbed_42 type=radio><div class=tabbed-labels><label for=__tabbed_42_1>Command line (curl)</label><label for=__tabbed_42_2>ntfy CLI</label><label for=__tabbed_42_3>HTTP</label><label for=__tabbed_42_4>JavaScript</label><label for=__tabbed_42_5>Go</label><label for=__tabbed_42_6>PowerShell</label><label for=__tabbed_42_7>Python</label><label for=__tabbed_42_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl \
  -d &quot;Look ma, with auth&quot; \
  &quot;https://ntfy.example.com/mysecrets?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
  -u testuser:fakepassword \
  ntfy.example.com/mysecrets \
  &quot;Look ma, with auth&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mysecrets?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.example.com</span>

Look ma, with auth
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// PUT works too</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;Look ma, with auth&#39;</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.example.com/mysecrets?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;Look ma, with auth&quot;</span><span class=p>))</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.example.com/mysecrets?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw&quot;</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;Look ma, with auth&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.example.com/mysecrets?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw&quot;</span><span class=p>,</span>
<span class=n>data</span><span class=o>=</span><span class=s2>&quot;Look ma, with auth&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.example.com/mysecrets?auth=QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span> <span class=c1>// PUT also works</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Content-Type: text/plain&#39;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Look ma, with auth&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <p>To generate the value of the <code>auth</code> parameter, encode the value of the <code>Authorization</code> header (see above) using <strong>raw base64 encoding</strong> (like base64, but strip any trailing <code>=</code>). Here's some pseudo-code that hopefully explains it better:</p> <div class=highlight><pre><span></span><code>username   = &quot;testuser&quot;
password   = &quot;fakepassword&quot;
authHeader = &quot;Basic &quot; + base64(username + &quot;:&quot; + password) // -&gt; Basic dGVzdHVzZXI6ZmFrZXBhc3N3b3Jk
authParam  = base64_raw(authHeader) // -&gt; QmFzaWMgZEdWemRIVnpaWEk2Wm1GclpYQmhjM04zYjNKaw (no trailing =)

// If your language does not have a function to encode raw base64, simply use normal base64
// and REMOVE TRAILING &quot;=&quot; characters. 
</code></pre></div> <p>The following command will generate the appropriate value for you on *nix systems:</p> <div class=highlight><pre><span></span><code>echo -n &quot;Basic `echo -n &#39;testuser:fakepassword&#39; | base64 -w0`&quot; | base64 -w0 | tr -d &#39;=&#39;
</code></pre></div> <p>For access tokens, you can use this instead:</p> <div class=highlight><pre><span></span><code>echo -n &quot;Bearer faketoken&quot; | base64 -w0 | tr -d &#39;=&#39;
</code></pre></div> <h2 id=advanced-features>Advanced features<a class=headerlink href=#advanced-features title="Permanent link">&para;</a></h2> <h3 id=message-caching>Message caching<a class=headerlink href=#message-caching title="Permanent link">&para;</a></h3> <div class="admonition info"> <p class=admonition-title>Info</p> <p>If <code>Cache: no</code> is used, messages will only be delivered to connected subscribers, and won't be re-delivered if a client re-connects. If a subscriber has (temporary) network issues or is reconnecting momentarily, <strong>messages might be missed</strong>.</p> </div> <p>By default, the ntfy server caches messages on disk for 12 hours (see <a href=../config/#message-cache>message caching</a>), so all messages you publish are stored server-side for a little while. The reason for this is to overcome temporary client-side network disruptions, but arguably this feature also may raise privacy concerns.</p> <p>To avoid messages being cached server-side entirely, you can set <code>X-Cache</code> header (or its alias: <code>Cache</code>) to <code>no</code>. This will make sure that your message is not cached on the server, even if server-side caching is enabled. Messages are still delivered to connected subscribers, but <a href=../subscribe/api/#fetch-cached-messages><code>since=</code></a> and <a href=../subscribe/api/#poll-for-messages><code>poll=1</code></a> won't return the message anymore.</p> <div class="tabbed-set tabbed-alternate" data-tabs=43:8><input checked=checked id=__tabbed_43_1 name=__tabbed_43 type=radio><input id=__tabbed_43_2 name=__tabbed_43 type=radio><input id=__tabbed_43_3 name=__tabbed_43 type=radio><input id=__tabbed_43_4 name=__tabbed_43 type=radio><input id=__tabbed_43_5 name=__tabbed_43 type=radio><input id=__tabbed_43_6 name=__tabbed_43 type=radio><input id=__tabbed_43_7 name=__tabbed_43 type=radio><input id=__tabbed_43_8 name=__tabbed_43 type=radio><div class=tabbed-labels><label for=__tabbed_43_1>Command line (curl)</label><label for=__tabbed_43_2>ntfy CLI</label><label for=__tabbed_43_3>HTTP</label><label for=__tabbed_43_4>JavaScript</label><label for=__tabbed_43_5>Go</label><label for=__tabbed_43_6>PowerShell</label><label for=__tabbed_43_7>Python</label><label for=__tabbed_43_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl -H &quot;X-Cache: no&quot; -d &quot;This message won&#39;t be stored server-side&quot; ntfy.sh/mytopic
curl -H &quot;Cache: no&quot; -d &quot;This message won&#39;t be stored server-side&quot; ntfy.sh/mytopic
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --no-cache \
    mytopic &quot;This message won&#39;t be stored server-side&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mytopic</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Cache</span><span class=o>:</span> <span class=l>no</span>

This message won&#39;t be stored server-side
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;This message won&#39;</span><span class=nx>t</span><span class=w> </span><span class=nx>be</span><span class=w> </span><span class=nx>stored</span><span class=w> </span><span class=nx>server</span><span class=o>-</span><span class=nx>side</span><span class=s1>&#39;,</span>
<span class=s1>    headers: { &#39;</span><span class=nx>Cache</span><span class=s1>&#39;: &#39;</span><span class=nx>no</span><span class=err>&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;This message won&#39;t be stored server-side&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Cache&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;no&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Cache</span><span class=p>=</span><span class=s2>&quot;no&quot;</span> <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;This message won&#39;t be stored server-side&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;This message won&#39;t be stored server-side&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Cache&quot;</span><span class=p>:</span> <span class=s2>&quot;no&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Cache: no&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;This message won&#39;</span><span class=nx>t</span> <span class=nx>be</span> <span class=nx>stored</span> <span class=nx>server</span><span class=o>-</span><span class=nx>side</span><span class=err>&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <h3 id=disable-firebase>Disable Firebase<a class=headerlink href=#disable-firebase title="Permanent link">&para;</a></h3> <div class="admonition info"> <p class=admonition-title>Info</p> <p>If <code>Firebase: no</code> is used and <a href=../subscribe/phone/#instant-delivery>instant delivery</a> isn't enabled in the Android app (Google Play variant only), <strong>message delivery will be significantly delayed (up to 15 minutes)</strong>. To overcome this delay, simply enable instant delivery.</p> </div> <p>The ntfy server can be configured to use <a href=https://firebase.google.com/docs/cloud-messaging>Firebase Cloud Messaging (FCM)</a> (see <a href=../config/#firebase-fcm>Firebase config</a>) for message delivery on Android (to minimize the app's battery footprint). The ntfy.sh server is configured this way, meaning that all messages published to ntfy.sh are also published to corresponding FCM topics.</p> <p>If you'd like to avoid forwarding messages to Firebase, you can set the <code>X-Firebase</code> header (or its alias: <code>Firebase</code>) to <code>no</code>. This will instruct the server not to forward messages to Firebase.</p> <div class="tabbed-set tabbed-alternate" data-tabs=44:8><input checked=checked id=__tabbed_44_1 name=__tabbed_44 type=radio><input id=__tabbed_44_2 name=__tabbed_44 type=radio><input id=__tabbed_44_3 name=__tabbed_44 type=radio><input id=__tabbed_44_4 name=__tabbed_44 type=radio><input id=__tabbed_44_5 name=__tabbed_44 type=radio><input id=__tabbed_44_6 name=__tabbed_44 type=radio><input id=__tabbed_44_7 name=__tabbed_44 type=radio><input id=__tabbed_44_8 name=__tabbed_44 type=radio><div class=tabbed-labels><label for=__tabbed_44_1>Command line (curl)</label><label for=__tabbed_44_2>ntfy CLI</label><label for=__tabbed_44_3>HTTP</label><label for=__tabbed_44_4>JavaScript</label><label for=__tabbed_44_5>Go</label><label for=__tabbed_44_6>PowerShell</label><label for=__tabbed_44_7>Python</label><label for=__tabbed_44_8>PHP</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>curl -H &quot;X-Firebase: no&quot; -d &quot;This message won&#39;t be forwarded to FCM&quot; ntfy.sh/mytopic
curl -H &quot;Firebase: no&quot; -d &quot;This message won&#39;t be forwarded to FCM&quot; ntfy.sh/mytopic
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code>ntfy publish \
    --no-firebase \
    mytopic &quot;This message won&#39;t be forwarded to FCM&quot;
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nf>POST</span> <span class=nn>/mytopic</span> <span class=kr>HTTP</span><span class=o>/</span><span class=m>1.1</span>
<span class=na>Host</span><span class=o>:</span> <span class=l>ntfy.sh</span>
<span class=na>Firebase</span><span class=o>:</span> <span class=l>no</span>

This message won&#39;t be forwarded to FCM
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>fetch</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nx>method</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=nx>body</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;This message won&#39;</span><span class=nx>t</span><span class=w> </span><span class=nx>be</span><span class=w> </span><span class=nx>forwarded</span><span class=w> </span><span class=nx>to</span><span class=w> </span><span class=nx>FCM</span><span class=s1>&#39;,</span>
<span class=s1>    headers: { &#39;</span><span class=nx>Firebase</span><span class=s1>&#39;: &#39;</span><span class=nx>no</span><span class=err>&#39;</span><span class=w> </span><span class=p>}</span>
<span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>req</span><span class=p>,</span><span class=w> </span><span class=nx>_</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>http</span><span class=p>.</span><span class=nx>NewRequest</span><span class=p>(</span><span class=s>&quot;POST&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span><span class=w> </span><span class=nx>strings</span><span class=p>.</span><span class=nx>NewReader</span><span class=p>(</span><span class=s>&quot;This message won&#39;t be forwarded to FCM&quot;</span><span class=p>))</span>
<span class=nx>req</span><span class=p>.</span><span class=nx>Header</span><span class=p>.</span><span class=nx>Set</span><span class=p>(</span><span class=s>&quot;Firebase&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;no&quot;</span><span class=p>)</span>
<span class=nx>http</span><span class=p>.</span><span class=nx>DefaultClient</span><span class=p>.</span><span class=nx>Do</span><span class=p>(</span><span class=nx>req</span><span class=p>)</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>$Request</span> <span class=p>=</span> <span class=p>@{</span>
  <span class=n>Method</span> <span class=p>=</span> <span class=s2>&quot;POST&quot;</span>
  <span class=n>URI</span> <span class=p>=</span> <span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span>
  <span class=n>Headers</span> <span class=p>=</span> <span class=p>@{</span> <span class=n>Firebase</span><span class=p>=</span><span class=s2>&quot;no&quot;</span> <span class=p>}</span>
  <span class=n>Body</span> <span class=p>=</span> <span class=s2>&quot;This message won&#39;t be forwarded to FCM&quot;</span>
<span class=p>}</span>
<span class=nb>Invoke-RestMethod</span> <span class=nv>@Request</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s2>&quot;https://ntfy.sh/mytopic&quot;</span><span class=p>,</span>
    <span class=n>data</span><span class=o>=</span><span class=s2>&quot;This message won&#39;t be forwarded to FCM&quot;</span><span class=p>,</span>
    <span class=n>headers</span><span class=o>=</span><span class=p>{</span> <span class=s2>&quot;Firebase&quot;</span><span class=p>:</span> <span class=s2>&quot;no&quot;</span> <span class=p>})</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nb>file_get_contents</span><span class=p>(</span><span class=s1>&#39;https://ntfy.sh/mytopic&#39;</span><span class=p>,</span> <span class=k>false</span><span class=p>,</span> <span class=nb>stream_context_create</span><span class=p>([</span>
    <span class=s1>&#39;http&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
        <span class=s1>&#39;method&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;POST&#39;</span><span class=p>,</span>
        <span class=s1>&#39;header&#39;</span> <span class=o>=&gt;</span>
            <span class=s2>&quot;Content-Type: text/plain</span><span class=se>\r\n</span><span class=s2>&quot;</span> <span class=o>.</span>
            <span class=s2>&quot;Firebase: no&quot;</span><span class=p>,</span>
        <span class=s1>&#39;content&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;This message won&#39;</span><span class=nx>t</span> <span class=nx>be</span> <span class=nx>stored</span> <span class=nx>server</span><span class=o>-</span><span class=nx>side</span><span class=err>&#39;</span>
    <span class=p>]</span>
<span class=p>]));</span>
</code></pre></div> </div> </div> </div> <h3 id=unifiedpush>UnifiedPush<a class=headerlink href=#unifiedpush title="Permanent link">&para;</a></h3> <div class="admonition info"> <p class=admonition-title>Info</p> <p>This setting is not relevant to users, only to app developers and people interested in <a href=https://unifiedpush.org>UnifiedPush</a>. </p> </div> <p><a href=https://unifiedpush.org>UnifiedPush</a> is a standard for receiving push notifications without using the Google-owned <a href=https://firebase.google.com/docs/cloud-messaging>Firebase Cloud Messaging (FCM)</a> service. It puts push notifications in the control of the user. ntfy can act as a <strong>UnifiedPush distributor</strong>, forwarding messages to apps that support it.</p> <p>When publishing messages to a topic, apps using ntfy as a UnifiedPush distributor can set the <code>X-UnifiedPush</code> header or query parameter (or any of its aliases <code>unifiedpush</code> or <code>up</code>) to <code>1</code> to <a href=#disable-firebase>disable Firebase</a>. As of today, this option is mostly equivalent to <code>Firebase: no</code>, but was introduced to allow future flexibility. The flag additionally enables auto-detection of the message encoding. If the message is binary, it'll be encoded as base64.</p> <h3 id=matrix-gateway>Matrix Gateway<a class=headerlink href=#matrix-gateway title="Permanent link">&para;</a></h3> <p>The ntfy server implements a <a href=https://spec.matrix.org/v1.2/push-gateway-api/ >Matrix Push Gateway</a> (in combination with <a href=https://unifiedpush.org>UnifiedPush</a> as the <a href=https://unifiedpush.org/developers/gateway/ >Provider Push Protocol</a>). This makes it easier to integrate with self-hosted <a href=https://matrix.org/ >Matrix</a> servers (such as <a href=https://github.com/matrix-org/synapse>synapse</a>), since you don't have to set up a separate push proxy (such as <a href=https://github.com/UnifiedPush/common-proxies>common-proxies</a>).</p> <p>In short, ntfy accepts Matrix messages on the <code>/_matrix/push/v1/notify</code> endpoint (see <a href=https://spec.matrix.org/v1.2/push-gateway-api/ >Push Gateway API</a>), and forwards them to the ntfy topic defined in the <code>pushkey</code> of the message. The message will then be forwarded to the ntfy Android app, and passed on to the Matrix client there.</p> <p>There is a nice diagram in the <a href=https://spec.matrix.org/v1.2/push-gateway-api/ >Push Gateway docs</a>. In this diagram, the ntfy server plays the role of the Push Gateway, as well as the Push Provider. UnifiedPush is the Provider Push Protocol.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>This is not a generic Matrix Push Gateway. It only works in combination with UnifiedPush and ntfy.</p> </div> <h2 id=public-topics>Public topics<a class=headerlink href=#public-topics title="Permanent link">&para;</a></h2> <p>Obviously all topics on ntfy.sh are public, but there are a few designated topics that are used in examples, and topics that you can use to try out what <a href=#authentication>authentication and access control</a> looks like.</p> <table> <thead> <tr> <th>Topic</th> <th>User</th> <th>Permissions</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><a href=https://ntfy.sh/announcements>announcements</a></td> <td><code>*</code> (unauthenticated)</td> <td>Read-only for everyone</td> <td>Release announcements and such</td> </tr> <tr> <td><a href=https://ntfy.sh/stats>stats</a></td> <td><code>*</code> (unauthenticated)</td> <td>Read-only for everyone</td> <td>Daily statistics about ntfy.sh usage</td> </tr> </tbody> </table> <h2 id=limitations>Limitations<a class=headerlink href=#limitations title="Permanent link">&para;</a></h2> <p>There are a few limitations to the API to prevent abuse and to keep the server healthy. Almost all of these settings are configurable via the server side <a href=../config/#rate-limiting>rate limiting settings</a>. Most of these limits you won't run into, but just in case, let's list them all:</p> <table> <thead> <tr> <th>Limit</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong>Message length</strong></td> <td>Each message can be up to 4,096 bytes long. Longer messages are treated as <a href=#attachments>attachments</a>.</td> </tr> <tr> <td><strong>Requests</strong></td> <td>By default, the server is configured to allow 60 requests per visitor at once, and then refills the your allowed requests bucket at a rate of one request per 5 seconds.</td> </tr> <tr> <td><strong>Daily messages</strong></td> <td>By default, the number of messages is governed by the request limits. This can be overridden. On ntfy.sh, the daily message limit is 250.</td> </tr> <tr> <td><strong>E-mails</strong></td> <td>By default, the server is configured to allow sending 16 e-mails per visitor at once, and then refills the your allowed e-mail bucket at a rate of one per hour. On ntfy.sh, the daily limit is 5.</td> </tr> <tr> <td><strong>Phone calls</strong></td> <td>By default, the server does not allow any phone calls, except for users with a tier that has a call limit.</td> </tr> <tr> <td><strong>Subscription limit</strong></td> <td>By default, the server allows each visitor to keep 30 connections to the server open.</td> </tr> <tr> <td><strong>Attachment size limit</strong></td> <td>By default, the server allows attachments up to 15 MB in size, up to 100 MB in total per visitor and up to 5 GB across all visitors. On ntfy.sh, the attachment size limit is 2 MB, and the per-visitor total is 20 MB.</td> </tr> <tr> <td><strong>Attachment expiry</strong></td> <td>By default, the server deletes attachments after 3 hours and thereby frees up space from the total visitor attachment limit.</td> </tr> <tr> <td><strong>Attachment bandwidth</strong></td> <td>By default, the server allows 500 MB of GET/PUT/POST traffic for attachments per visitor in a 24 hour period. Traffic exceeding that is rejected. On ntfy.sh, the daily bandwidth limit is 200 MB.</td> </tr> <tr> <td><strong>Total number of topics</strong></td> <td>By default, the server is configured to allow 15,000 topics. The ntfy.sh server has higher limits though.</td> </tr> </tbody> </table> <p>These limits can be changed on a per-user basis using <a href=../config/#tiers>tiers</a>. If <a href=../config/#payments>payments</a> are enabled, a user tier can be changed by purchasing a higher tier. ntfy.sh offers multiple paid tiers, which allows for much hier limits than the ones listed above. </p> <h2 id=list-of-all-parameters>List of all parameters<a class=headerlink href=#list-of-all-parameters title="Permanent link">&para;</a></h2> <p>The following is a list of all parameters that can be passed when publishing a message. Parameter names are <strong>case-insensitive</strong> when used in <strong>HTTP headers</strong>, and must be <strong>lowercase</strong> when used as <strong>query parameters in the URL</strong>. They are listed in the table in their canonical form.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>ntfy supports UTF-8 in HTTP headers, but <a href=https://www.jmix.io/blog/utf-8-in-http-headers/ >not every library or programming language does</a>. If non-ASCII characters are causing issues for you in the title (i.e. you're seeing <code>?</code> symbols), you may also encode any header as <a href=https://datatracker.ietf.org/doc/html/rfc2047#section-2>RFC 2047</a>, e.g. <code>=?UTF-8?B?8J+HqfCfh6o=?=</code> (<a href=https://en.wikipedia.org/wiki/Base64>base64</a>), or <code>=?UTF-8?Q?=C3=84pfel?=</code> (<a href=https://en.wikipedia.org/wiki/Quoted-printable>quoted-printable</a>).</p> </div> <table> <thead> <tr> <th>Parameter</th> <th>Aliases</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>X-Message</code></td> <td><code>Message</code>, <code>m</code></td> <td>Main body of the message as shown in the notification</td> </tr> <tr> <td><code>X-Title</code></td> <td><code>Title</code>, <code>t</code></td> <td><a href=#message-title>Message title</a></td> </tr> <tr> <td><code>X-Sequence-ID</code></td> <td><code>Sequence-ID</code>, <code>SID</code></td> <td><a href=#updating-deleting-notifications>Sequence ID</a> for updating/clearing/deleting notifications</td> </tr> <tr> <td><code>X-Priority</code></td> <td><code>Priority</code>, <code>prio</code>, <code>p</code></td> <td><a href=#message-priority>Message priority</a></td> </tr> <tr> <td><code>X-Tags</code></td> <td><code>Tags</code>, <code>Tag</code>, <code>ta</code></td> <td><a href=#tags-emojis>Tags and emojis</a></td> </tr> <tr> <td><code>X-Delay</code></td> <td><code>Delay</code>, <code>X-At</code>, <code>At</code>, <code>X-In</code>, <code>In</code></td> <td>Timestamp or duration for <a href=#scheduled-delivery>delayed delivery</a></td> </tr> <tr> <td><code>X-Actions</code></td> <td><code>Actions</code>, <code>Action</code></td> <td>JSON array or short format of <a href=#action-buttons>user actions</a></td> </tr> <tr> <td><code>X-Click</code></td> <td><code>Click</code></td> <td>URL to open when <a href=#click-action>notification is clicked</a></td> </tr> <tr> <td><code>X-Attach</code></td> <td><code>Attach</code>, <code>a</code></td> <td>URL to send as an <a href=#attachments>attachment</a>, as an alternative to PUT/POST-ing an attachment</td> </tr> <tr> <td><code>X-Markdown</code></td> <td><code>Markdown</code>, <code>md</code></td> <td>Enable <a href=#markdown-formatting>Markdown formatting</a> in the notification body</td> </tr> <tr> <td><code>X-Icon</code></td> <td><code>Icon</code></td> <td>URL to use as notification <a href=#icons>icon</a></td> </tr> <tr> <td><code>X-Filename</code></td> <td><code>Filename</code>, <code>file</code>, <code>f</code></td> <td>Optional <a href=#attachments>attachment</a> filename, as it appears in the client</td> </tr> <tr> <td><code>X-Email</code></td> <td><code>X-E-Mail</code>, <code>Email</code>, <code>E-Mail</code>, <code>mail</code>, <code>e</code></td> <td>E-mail address for <a href=#e-mail-notifications>e-mail notifications</a></td> </tr> <tr> <td><code>X-Call</code></td> <td><code>Call</code></td> <td>Phone number for <a href=#phone-calls>phone calls</a></td> </tr> <tr> <td><code>X-Cache</code></td> <td><code>Cache</code></td> <td>Allows disabling <a href=#message-caching>message caching</a></td> </tr> <tr> <td><code>X-Firebase</code></td> <td><code>Firebase</code></td> <td>Allows disabling <a href=#disable-firebase>sending to Firebase</a></td> </tr> <tr> <td><code>X-UnifiedPush</code></td> <td><code>UnifiedPush</code>, <code>up</code></td> <td><a href=#unifiedpush>UnifiedPush</a> publish option, only to be used by UnifiedPush apps</td> </tr> <tr> <td><code>X-Poll-ID</code></td> <td><code>Poll-ID</code></td> <td>Internal parameter, used for <a href=../config/#ios-instant-notifications>iOS push notifications</a></td> </tr> <tr> <td><code>Authorization</code></td> <td>-</td> <td>If supported by the server, you can <a href=#authentication>login to access</a> protected topics</td> </tr> <tr> <td><code>Content-Type</code></td> <td>-</td> <td>If set to <code>text/markdown</code>, <a href=#markdown-formatting>Markdown formatting</a> is enabled</td> </tr> </tbody> </table> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Made with ‚ù§Ô∏è by Philipp C. Heckel </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/binwiederhier target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "..", "features": ["search.suggest", "search.highlight", "search.share", "navigation.sections", "toc.integrate", "content.tabs.link"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.79ae519e.min.js></script> <script src=../static/js/extra.js></script> </body> </html>