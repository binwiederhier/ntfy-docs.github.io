<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Send push notifications to your phone via PUT/POST"><link href=https://ntfy.sh/publish/template-functions/ rel=canonical><link href=../../emojis/ rel=prev><link href=../../troubleshooting/ rel=next><link rel=icon href=../../static/img/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.21"><title>Template functions - ntfy</title><link rel=stylesheet href=../../assets/stylesheets/main.2a3383ac.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=stylesheet href=../../static/css/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#template-functions class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <style>
    div[data-md-component="announce"] {
        z-index: 10;
    }

    div[data-md-component="announce"] a {
        color: white;
    }

    div[data-md-component="announce"] a:hover, div[data-md-component="announce"] a:focus {
        transition: ease-in 150ms;
        color: #ccc;
    }

    div[data-md-component="announce"] .md-banner__button {
        color: #ccc;
    }

    div[data-md-component="announce"] .md-banner.hidden {
        display: none;
    }

    div[data-md-component="announce"] .twemoji {
        margin-top: 2px;
    }
</style> <button id=announce-bar-close class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"> <path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path> </svg> </button> If you like ntfy, please consider sponsoring me via <a target=_blank href=https://github.com/sponsors/binwiederhier><strong>GitHub Sponsors</strong></a> or <a href=https://en.liberapay.com/ntfy/ target=_blank><strong>Liberapay</strong></a> <svg xmlns=http://www.w3.org/2000/svg role=img viewbox="0 0 36 36" class="twemoji md-footer-custom-text"> <path fill=#DD2E44 d="M35.885 11.833c0-5.45-4.418-9.868-9.867-9.868-3.308 0-6.227 1.633-8.018 4.129-1.791-2.496-4.71-4.129-8.017-4.129-5.45 0-9.868 4.417-9.868 9.868 0 .772.098 1.52.266 2.241C1.751 22.587 11.216 31.568 18 34.034c6.783-2.466 16.249-11.447 17.617-19.959.17-.721.268-1.469.268-2.242z"/> </svg>, or subscribing to <a target=_blank href=https://ntfy.sh/app><strong>ntfy Pro</strong></a>. <script>
    announceBarKey = 'announce-bar-closed-sponsor';
    document.getElementById('announce-bar-close').addEventListener('click', (e) => {
        localStorage.setItem(announceBarKey, 'true');
        document.querySelector('div[data-md-component="announce"] .md-banner').style.display = 'none';
    });
    if (localStorage.getItem(announceBarKey) === 'true') {
        document.querySelector('div[data-md-component="announce"] .md-banner').style.display = 'none';
    }
</script> </div> </aside> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=/ title=ntfy class="md-header__button md-logo" aria-label=ntfy data-md-component=logo> <img src=../../static/img/ntfy.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ntfy </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Template functions </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/binwiederhier/ntfy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> binwiederhier/ntfy </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=/ title=ntfy class="md-nav__button md-logo" aria-label=ntfy data-md-component=logo> <img src=../../static/img/ntfy.png alt=logo> </a> ntfy </label> <div class=md-nav__source> <a href=https://github.com/binwiederhier/ntfy title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> binwiederhier/ntfy </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Getting started </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Publishing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Publishing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> <span class=md-ellipsis> Sending messages </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Subscribing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Subscribing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../subscribe/phone/ class=md-nav__link> <span class=md-ellipsis> From your phone </span> </a> </li> <li class=md-nav__item> <a href=../../subscribe/web/ class=md-nav__link> <span class=md-ellipsis> From the Web app </span> </a> </li> <li class=md-nav__item> <a href=../../subscribe/pwa/ class=md-nav__link> <span class=md-ellipsis> From the Desktop </span> </a> </li> <li class=md-nav__item> <a href=../../subscribe/cli/ class=md-nav__link> <span class=md-ellipsis> From the CLI </span> </a> </li> <li class=md-nav__item> <a href=../../subscribe/api/ class=md-nav__link> <span class=md-ellipsis> Using the API </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Self-hosting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Self-hosting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../install/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../../config/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Other things </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Other things </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../faq/ class=md-nav__link> <span class=md-ellipsis> FAQs </span> </a> </li> <li class=md-nav__item> <a href=../../examples/ class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> <li class=md-nav__item> <a href=../../integrations/ class=md-nav__link> <span class=md-ellipsis> Integrations + projects </span> </a> </li> <li class=md-nav__item> <a href=../../releases/ class=md-nav__link> <span class=md-ellipsis> Release notes </span> </a> </li> <li class=md-nav__item> <a href=../../emojis/ class=md-nav__link> <span class=md-ellipsis> Emojis ü•≥ üéâ </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Template functions </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Template functions </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#table-of-contents class=md-nav__link> <span class=md-ellipsis> Table of Contents </span> </a> </li> <li class=md-nav__item> <a href=#string-functions class=md-nav__link> <span class=md-ellipsis> String Functions </span> </a> <nav class=md-nav aria-label="String Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trim class=md-nav__link> <span class=md-ellipsis> trim </span> </a> </li> <li class=md-nav__item> <a href=#trimall class=md-nav__link> <span class=md-ellipsis> trimAll </span> </a> </li> <li class=md-nav__item> <a href=#trimsuffix class=md-nav__link> <span class=md-ellipsis> trimSuffix </span> </a> </li> <li class=md-nav__item> <a href=#trimprefix class=md-nav__link> <span class=md-ellipsis> trimPrefix </span> </a> </li> <li class=md-nav__item> <a href=#upper class=md-nav__link> <span class=md-ellipsis> upper </span> </a> </li> <li class=md-nav__item> <a href=#lower class=md-nav__link> <span class=md-ellipsis> lower </span> </a> </li> <li class=md-nav__item> <a href=#title class=md-nav__link> <span class=md-ellipsis> title </span> </a> </li> <li class=md-nav__item> <a href=#repeat class=md-nav__link> <span class=md-ellipsis> repeat </span> </a> </li> <li class=md-nav__item> <a href=#substr class=md-nav__link> <span class=md-ellipsis> substr </span> </a> </li> <li class=md-nav__item> <a href=#trunc class=md-nav__link> <span class=md-ellipsis> trunc </span> </a> </li> <li class=md-nav__item> <a href=#contains class=md-nav__link> <span class=md-ellipsis> contains </span> </a> </li> <li class=md-nav__item> <a href=#hasprefix-and-hassuffix class=md-nav__link> <span class=md-ellipsis> hasPrefix and hasSuffix </span> </a> </li> <li class=md-nav__item> <a href=#quote-and-squote class=md-nav__link> <span class=md-ellipsis> quote and squote </span> </a> </li> <li class=md-nav__item> <a href=#cat class=md-nav__link> <span class=md-ellipsis> cat </span> </a> </li> <li class=md-nav__item> <a href=#indent class=md-nav__link> <span class=md-ellipsis> indent </span> </a> </li> <li class=md-nav__item> <a href=#nindent class=md-nav__link> <span class=md-ellipsis> nindent </span> </a> </li> <li class=md-nav__item> <a href=#replace class=md-nav__link> <span class=md-ellipsis> replace </span> </a> </li> <li class=md-nav__item> <a href=#plural class=md-nav__link> <span class=md-ellipsis> plural </span> </a> </li> <li class=md-nav__item> <a href=#regexmatch-mustregexmatch class=md-nav__link> <span class=md-ellipsis> regexMatch, mustRegexMatch </span> </a> </li> <li class=md-nav__item> <a href=#regexfindall-mustregexfindall class=md-nav__link> <span class=md-ellipsis> regexFindAll, mustRegexFindAll </span> </a> </li> <li class=md-nav__item> <a href=#regexfind-mustregexfind class=md-nav__link> <span class=md-ellipsis> regexFind, mustRegexFind </span> </a> </li> <li class=md-nav__item> <a href=#regexreplaceall-mustregexreplaceall class=md-nav__link> <span class=md-ellipsis> regexReplaceAll, mustRegexReplaceAll </span> </a> </li> <li class=md-nav__item> <a href=#regexreplaceallliteral-mustregexreplaceallliteral class=md-nav__link> <span class=md-ellipsis> regexReplaceAllLiteral, mustRegexReplaceAllLiteral </span> </a> </li> <li class=md-nav__item> <a href=#regexsplit-mustregexsplit class=md-nav__link> <span class=md-ellipsis> regexSplit, mustRegexSplit </span> </a> </li> <li class=md-nav__item> <a href=#regexquotemeta class=md-nav__link> <span class=md-ellipsis> regexQuoteMeta </span> </a> </li> <li class=md-nav__item> <a href=#see-also class=md-nav__link> <span class=md-ellipsis> See Also... </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#string-list-functions class=md-nav__link> <span class=md-ellipsis> String List Functions </span> </a> <nav class=md-nav aria-label="String List Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#join class=md-nav__link> <span class=md-ellipsis> join </span> </a> </li> <li class=md-nav__item> <a href=#splitlist-and-split class=md-nav__link> <span class=md-ellipsis> splitList and split </span> </a> </li> <li class=md-nav__item> <a href=#splitn class=md-nav__link> <span class=md-ellipsis> splitn </span> </a> </li> <li class=md-nav__item> <a href=#sortalpha class=md-nav__link> <span class=md-ellipsis> sortAlpha </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#integer-math-functions class=md-nav__link> <span class=md-ellipsis> Integer Math Functions </span> </a> <nav class=md-nav aria-label="Integer Math Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#add class=md-nav__link> <span class=md-ellipsis> add </span> </a> </li> <li class=md-nav__item> <a href=#add1 class=md-nav__link> <span class=md-ellipsis> add1 </span> </a> </li> <li class=md-nav__item> <a href=#sub class=md-nav__link> <span class=md-ellipsis> sub </span> </a> </li> <li class=md-nav__item> <a href=#div class=md-nav__link> <span class=md-ellipsis> div </span> </a> </li> <li class=md-nav__item> <a href=#mod class=md-nav__link> <span class=md-ellipsis> mod </span> </a> </li> <li class=md-nav__item> <a href=#mul class=md-nav__link> <span class=md-ellipsis> mul </span> </a> </li> <li class=md-nav__item> <a href=#max class=md-nav__link> <span class=md-ellipsis> max </span> </a> </li> <li class=md-nav__item> <a href=#min class=md-nav__link> <span class=md-ellipsis> min </span> </a> </li> <li class=md-nav__item> <a href=#floor class=md-nav__link> <span class=md-ellipsis> floor </span> </a> </li> <li class=md-nav__item> <a href=#ceil class=md-nav__link> <span class=md-ellipsis> ceil </span> </a> </li> <li class=md-nav__item> <a href=#round class=md-nav__link> <span class=md-ellipsis> round </span> </a> </li> <li class=md-nav__item> <a href=#randint class=md-nav__link> <span class=md-ellipsis> randInt </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#integer-list-functions class=md-nav__link> <span class=md-ellipsis> Integer List Functions </span> </a> <nav class=md-nav aria-label="Integer List Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#until class=md-nav__link> <span class=md-ellipsis> until </span> </a> </li> <li class=md-nav__item> <a href=#untilstep class=md-nav__link> <span class=md-ellipsis> untilStep </span> </a> </li> <li class=md-nav__item> <a href=#seq class=md-nav__link> <span class=md-ellipsis> seq </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#float-math-functions class=md-nav__link> <span class=md-ellipsis> Float Math Functions </span> </a> <nav class=md-nav aria-label="Float Math Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#maxf class=md-nav__link> <span class=md-ellipsis> maxf </span> </a> </li> <li class=md-nav__item> <a href=#minf class=md-nav__link> <span class=md-ellipsis> minf </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#date-functions class=md-nav__link> <span class=md-ellipsis> Date Functions </span> </a> <nav class=md-nav aria-label="Date Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#now class=md-nav__link> <span class=md-ellipsis> now </span> </a> </li> <li class=md-nav__item> <a href=#ago class=md-nav__link> <span class=md-ellipsis> ago </span> </a> </li> <li class=md-nav__item> <a href=#date class=md-nav__link> <span class=md-ellipsis> date </span> </a> </li> <li class=md-nav__item> <a href=#dateinzone class=md-nav__link> <span class=md-ellipsis> dateInZone </span> </a> </li> <li class=md-nav__item> <a href=#duration class=md-nav__link> <span class=md-ellipsis> duration </span> </a> </li> <li class=md-nav__item> <a href=#durationround class=md-nav__link> <span class=md-ellipsis> durationRound </span> </a> </li> <li class=md-nav__item> <a href=#unixepoch class=md-nav__link> <span class=md-ellipsis> unixEpoch </span> </a> </li> <li class=md-nav__item> <a href=#datemodify-mustdatemodify class=md-nav__link> <span class=md-ellipsis> dateModify, mustDateModify </span> </a> </li> <li class=md-nav__item> <a href=#htmldate class=md-nav__link> <span class=md-ellipsis> htmlDate </span> </a> </li> <li class=md-nav__item> <a href=#htmldateinzone class=md-nav__link> <span class=md-ellipsis> htmlDateInZone </span> </a> </li> <li class=md-nav__item> <a href=#todate-musttodate class=md-nav__link> <span class=md-ellipsis> toDate, mustToDate </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#default-functions class=md-nav__link> <span class=md-ellipsis> Default Functions </span> </a> <nav class=md-nav aria-label="Default Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#default class=md-nav__link> <span class=md-ellipsis> default </span> </a> </li> <li class=md-nav__item> <a href=#empty class=md-nav__link> <span class=md-ellipsis> empty </span> </a> </li> <li class=md-nav__item> <a href=#coalesce class=md-nav__link> <span class=md-ellipsis> coalesce </span> </a> </li> <li class=md-nav__item> <a href=#all class=md-nav__link> <span class=md-ellipsis> all </span> </a> </li> <li class=md-nav__item> <a href=#any class=md-nav__link> <span class=md-ellipsis> any </span> </a> </li> <li class=md-nav__item> <a href=#fromjson-mustfromjson class=md-nav__link> <span class=md-ellipsis> fromJSON, mustFromJSON </span> </a> </li> <li class=md-nav__item> <a href=#tojson-musttojson class=md-nav__link> <span class=md-ellipsis> toJSON, mustToJSON </span> </a> </li> <li class=md-nav__item> <a href=#toprettyjson-musttoprettyjson class=md-nav__link> <span class=md-ellipsis> toPrettyJSON, mustToPrettyJSON </span> </a> </li> <li class=md-nav__item> <a href=#torawjson-musttorawjson class=md-nav__link> <span class=md-ellipsis> toRawJSON, mustToRawJSON </span> </a> </li> <li class=md-nav__item> <a href=#ternary class=md-nav__link> <span class=md-ellipsis> ternary </span> </a> <nav class=md-nav aria-label=ternary> <ul class=md-nav__list> <li class=md-nav__item> <a href=#true-test-value class=md-nav__link> <span class=md-ellipsis> true test value </span> </a> </li> <li class=md-nav__item> <a href=#false-test-value class=md-nav__link> <span class=md-ellipsis> false test value </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#encoding-functions class=md-nav__link> <span class=md-ellipsis> Encoding Functions </span> </a> </li> <li class=md-nav__item> <a href=#lists-and-list-functions class=md-nav__link> <span class=md-ellipsis> Lists and List Functions </span> </a> <nav class=md-nav aria-label="Lists and List Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#first-mustfirst class=md-nav__link> <span class=md-ellipsis> first, mustFirst </span> </a> </li> <li class=md-nav__item> <a href=#rest-mustrest class=md-nav__link> <span class=md-ellipsis> rest, mustRest </span> </a> </li> <li class=md-nav__item> <a href=#last-mustlast class=md-nav__link> <span class=md-ellipsis> last, mustLast </span> </a> </li> <li class=md-nav__item> <a href=#initial-mustinitial class=md-nav__link> <span class=md-ellipsis> initial, mustInitial </span> </a> </li> <li class=md-nav__item> <a href=#append-mustappend class=md-nav__link> <span class=md-ellipsis> append, mustAppend </span> </a> </li> <li class=md-nav__item> <a href=#prepend-mustprepend class=md-nav__link> <span class=md-ellipsis> prepend, mustPrepend </span> </a> </li> <li class=md-nav__item> <a href=#concat class=md-nav__link> <span class=md-ellipsis> concat </span> </a> </li> <li class=md-nav__item> <a href=#reverse-mustreverse class=md-nav__link> <span class=md-ellipsis> reverse, mustReverse </span> </a> </li> <li class=md-nav__item> <a href=#uniq-mustuniq class=md-nav__link> <span class=md-ellipsis> uniq, mustUniq </span> </a> </li> <li class=md-nav__item> <a href=#without-mustwithout class=md-nav__link> <span class=md-ellipsis> without, mustWithout </span> </a> </li> <li class=md-nav__item> <a href=#has-musthas class=md-nav__link> <span class=md-ellipsis> has, mustHas </span> </a> </li> <li class=md-nav__item> <a href=#compact-mustcompact class=md-nav__link> <span class=md-ellipsis> compact, mustCompact </span> </a> </li> <li class=md-nav__item> <a href=#slice-mustslice class=md-nav__link> <span class=md-ellipsis> slice, mustSlice </span> </a> </li> <li class=md-nav__item> <a href=#chunk class=md-nav__link> <span class=md-ellipsis> chunk </span> </a> </li> <li class=md-nav__item> <a href=#a-note-on-list-internals class=md-nav__link> <span class=md-ellipsis> A Note on List Internals </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dictionaries-and-dict-functions class=md-nav__link> <span class=md-ellipsis> Dictionaries and Dict Functions </span> </a> <nav class=md-nav aria-label="Dictionaries and Dict Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dict class=md-nav__link> <span class=md-ellipsis> dict </span> </a> </li> <li class=md-nav__item> <a href=#get class=md-nav__link> <span class=md-ellipsis> get </span> </a> </li> <li class=md-nav__item> <a href=#set class=md-nav__link> <span class=md-ellipsis> set </span> </a> </li> <li class=md-nav__item> <a href=#unset class=md-nav__link> <span class=md-ellipsis> unset </span> </a> </li> <li class=md-nav__item> <a href=#haskey class=md-nav__link> <span class=md-ellipsis> hasKey </span> </a> </li> <li class=md-nav__item> <a href=#pluck class=md-nav__link> <span class=md-ellipsis> pluck </span> </a> </li> <li class=md-nav__item> <a href=#dig class=md-nav__link> <span class=md-ellipsis> dig </span> </a> </li> <li class=md-nav__item> <a href=#keys class=md-nav__link> <span class=md-ellipsis> keys </span> </a> </li> <li class=md-nav__item> <a href=#pick class=md-nav__link> <span class=md-ellipsis> pick </span> </a> </li> <li class=md-nav__item> <a href=#omit class=md-nav__link> <span class=md-ellipsis> omit </span> </a> </li> <li class=md-nav__item> <a href=#values class=md-nav__link> <span class=md-ellipsis> values </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#type-conversion-functions class=md-nav__link> <span class=md-ellipsis> Type Conversion Functions </span> </a> <nav class=md-nav aria-label="Type Conversion Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#tostrings class=md-nav__link> <span class=md-ellipsis> toStrings </span> </a> </li> <li class=md-nav__item> <a href=#todecimal class=md-nav__link> <span class=md-ellipsis> toDecimal </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#path-and-filepath-functions class=md-nav__link> <span class=md-ellipsis> Path and Filepath Functions </span> </a> <nav class=md-nav aria-label="Path and Filepath Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#paths class=md-nav__link> <span class=md-ellipsis> Paths </span> </a> <nav class=md-nav aria-label=Paths> <ul class=md-nav__list> <li class=md-nav__item> <a href=#base class=md-nav__link> <span class=md-ellipsis> base </span> </a> </li> <li class=md-nav__item> <a href=#dir class=md-nav__link> <span class=md-ellipsis> dir </span> </a> </li> <li class=md-nav__item> <a href=#clean class=md-nav__link> <span class=md-ellipsis> clean </span> </a> </li> <li class=md-nav__item> <a href=#ext class=md-nav__link> <span class=md-ellipsis> ext </span> </a> </li> <li class=md-nav__item> <a href=#isabs class=md-nav__link> <span class=md-ellipsis> isAbs </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#filepaths class=md-nav__link> <span class=md-ellipsis> Filepaths </span> </a> <nav class=md-nav aria-label=Filepaths> <ul class=md-nav__list> <li class=md-nav__item> <a href=#osbase class=md-nav__link> <span class=md-ellipsis> osBase </span> </a> </li> <li class=md-nav__item> <a href=#osdir class=md-nav__link> <span class=md-ellipsis> osDir </span> </a> </li> <li class=md-nav__item> <a href=#osclean class=md-nav__link> <span class=md-ellipsis> osClean </span> </a> </li> <li class=md-nav__item> <a href=#osext class=md-nav__link> <span class=md-ellipsis> osExt </span> </a> </li> <li class=md-nav__item> <a href=#osisabs class=md-nav__link> <span class=md-ellipsis> osIsAbs </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#flow-control-functions class=md-nav__link> <span class=md-ellipsis> Flow Control Functions </span> </a> <nav class=md-nav aria-label="Flow Control Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fail class=md-nav__link> <span class=md-ellipsis> fail </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#reflection-functions class=md-nav__link> <span class=md-ellipsis> Reflection Functions </span> </a> <nav class=md-nav aria-label="Reflection Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#kind-functions class=md-nav__link> <span class=md-ellipsis> Kind Functions </span> </a> </li> <li class=md-nav__item> <a href=#type-functions class=md-nav__link> <span class=md-ellipsis> Type Functions </span> </a> </li> <li class=md-nav__item> <a href=#deepequal class=md-nav__link> <span class=md-ellipsis> deepEqual </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cryptographic-and-security-functions class=md-nav__link> <span class=md-ellipsis> Cryptographic and Security Functions </span> </a> <nav class=md-nav aria-label="Cryptographic and Security Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sha1sum class=md-nav__link> <span class=md-ellipsis> sha1sum </span> </a> </li> <li class=md-nav__item> <a href=#sha256sum class=md-nav__link> <span class=md-ellipsis> sha256sum </span> </a> </li> <li class=md-nav__item> <a href=#sha512sum class=md-nav__link> <span class=md-ellipsis> sha512sum </span> </a> </li> <li class=md-nav__item> <a href=#adler32sum class=md-nav__link> <span class=md-ellipsis> adler32sum </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#url-functions class=md-nav__link> <span class=md-ellipsis> URL Functions </span> </a> <nav class=md-nav aria-label="URL Functions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#urlparse class=md-nav__link> <span class=md-ellipsis> urlParse </span> </a> </li> <li class=md-nav__item> <a href=#urljoin class=md-nav__link> <span class=md-ellipsis> urlJoin </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> <li class=md-nav__item> <a href=../../known-issues/ class=md-nav__link> <span class=md-ellipsis> Known issues </span> </a> </li> <li class=md-nav__item> <a href=../../deprecations/ class=md-nav__link> <span class=md-ellipsis> Deprecation notices </span> </a> </li> <li class=md-nav__item> <a href=../../develop/ class=md-nav__link> <span class=md-ellipsis> Development </span> </a> </li> <li class=md-nav__item> <a href=../../privacy/ class=md-nav__link> <span class=md-ellipsis> Privacy policy </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=template-functions>Template Functions<a class=headerlink href=#template-functions title="Permanent link">&para;</a></h1> <p>These template functions may be used in the <strong><a href=../#message-templating>message template</a></strong> feature of ntfy. Please refer to the examples in the documentation for how to use them.</p> <p>The original set of template functions is based on the <a href=https://masterminds.github.io/sprig/ >Sprig library</a>. This documentation page is a (slightly modified) copy of their docs. <strong>Thank you to the Sprig developers for their work!</strong> üôè</p> <h2 id=table-of-contents>Table of Contents<a class=headerlink href=#table-of-contents title="Permanent link">&para;</a></h2> <ul> <li><a href=#string-functions>String Functions</a></li> <li><a href=#string-list-functions>String List Functions</a></li> <li><a href=#integer-math-functions>Integer Math Functions</a></li> <li><a href=#integer-list-functions>Integer List Functions</a></li> <li><a href=#float-math-functions>Float Math Functions</a></li> <li><a href=#date-functions>Date Functions</a></li> <li><a href=#default-functions>Default Functions</a></li> <li><a href=#encoding-functions>Encoding Functions</a></li> <li><a href=#lists-and-list-functions>Lists and List Functions</a></li> <li><a href=#dictionaries-and-dict-functions>Dictionaries and Dict Functions</a></li> <li><a href=#type-conversion-functions>Type Conversion Functions</a></li> <li><a href=#path-and-filepath-functions>Path and Filepath Functions</a></li> <li><a href=#flow-control-functions>Flow Control Functions</a></li> <li><a href=#reflection-functions>Reflection Functions</a></li> <li><a href=#cryptographic-and-security-functions>Cryptographic and Security Functions</a></li> <li><a href=#url-functions>URL Functions</a></li> </ul> <h2 id=string-functions>String Functions<a class=headerlink href=#string-functions title="Permanent link">&para;</a></h2> <p>Sprig has a number of string manipulation functions.</p> <h3 id=trim>trim<a class=headerlink href=#trim title="Permanent link">&para;</a></h3> <p>The <code>trim</code> function removes space from either side of a string:</p> <div class=highlight><pre><span></span><code>trim &quot;   hello    &quot;
</code></pre></div> <p>The above produces <code>hello</code></p> <h3 id=trimall>trimAll<a class=headerlink href=#trimall title="Permanent link">&para;</a></h3> <p>Remove given characters from the front or back of a string:</p> <div class=highlight><pre><span></span><code>trimAll &quot;$&quot; &quot;$5.00&quot;
</code></pre></div> <p>The above returns <code>5.00</code> (as a string).</p> <h3 id=trimsuffix>trimSuffix<a class=headerlink href=#trimsuffix title="Permanent link">&para;</a></h3> <p>Trim just the suffix from a string:</p> <div class=highlight><pre><span></span><code>trimSuffix &quot;-&quot; &quot;hello-&quot;
</code></pre></div> <p>The above returns <code>hello</code></p> <h3 id=trimprefix>trimPrefix<a class=headerlink href=#trimprefix title="Permanent link">&para;</a></h3> <p>Trim just the prefix from a string:</p> <div class=highlight><pre><span></span><code>trimPrefix &quot;-&quot; &quot;-hello&quot;
</code></pre></div> <p>The above returns <code>hello</code></p> <h3 id=upper>upper<a class=headerlink href=#upper title="Permanent link">&para;</a></h3> <p>Convert the entire string to uppercase:</p> <div class=highlight><pre><span></span><code>upper &quot;hello&quot;
</code></pre></div> <p>The above returns <code>HELLO</code></p> <h3 id=lower>lower<a class=headerlink href=#lower title="Permanent link">&para;</a></h3> <p>Convert the entire string to lowercase:</p> <div class=highlight><pre><span></span><code>lower &quot;HELLO&quot;
</code></pre></div> <p>The above returns <code>hello</code></p> <h3 id=title>title<a class=headerlink href=#title title="Permanent link">&para;</a></h3> <p>Convert to title case:</p> <div class=highlight><pre><span></span><code>title &quot;hello world&quot;
</code></pre></div> <p>The above returns <code>Hello World</code></p> <h3 id=repeat>repeat<a class=headerlink href=#repeat title="Permanent link">&para;</a></h3> <p>Repeat a string multiple times:</p> <div class=highlight><pre><span></span><code>repeat 3 &quot;hello&quot;
</code></pre></div> <p>The above returns <code>hellohellohello</code></p> <h3 id=substr>substr<a class=headerlink href=#substr title="Permanent link">&para;</a></h3> <p>Get a substring from a string. It takes three parameters:</p> <ul> <li>start (int)</li> <li>end (int)</li> <li>string (string)</li> </ul> <div class=highlight><pre><span></span><code>substr 0 5 &quot;hello world&quot;
</code></pre></div> <p>The above returns <code>hello</code></p> <h3 id=trunc>trunc<a class=headerlink href=#trunc title="Permanent link">&para;</a></h3> <p>Truncate a string (and add no suffix)</p> <div class=highlight><pre><span></span><code>trunc 5 &quot;hello world&quot;
</code></pre></div> <p>The above produces <code>hello</code>.</p> <div class=highlight><pre><span></span><code>trunc -5 &quot;hello world&quot;
</code></pre></div> <p>The above produces <code>world</code>.</p> <h3 id=contains>contains<a class=headerlink href=#contains title="Permanent link">&para;</a></h3> <p>Test to see if one string is contained inside of another:</p> <div class=highlight><pre><span></span><code>contains &quot;cat&quot; &quot;catch&quot;
</code></pre></div> <p>The above returns <code>true</code> because <code>catch</code> contains <code>cat</code>.</p> <h3 id=hasprefix-and-hassuffix>hasPrefix and hasSuffix<a class=headerlink href=#hasprefix-and-hassuffix title="Permanent link">&para;</a></h3> <p>The <code>hasPrefix</code> and <code>hasSuffix</code> functions test whether a string has a given prefix or suffix:</p> <div class=highlight><pre><span></span><code>hasPrefix &quot;cat&quot; &quot;catch&quot;
</code></pre></div> <p>The above returns <code>true</code> because <code>catch</code> has the prefix <code>cat</code>.</p> <h3 id=quote-and-squote>quote and squote<a class=headerlink href=#quote-and-squote title="Permanent link">&para;</a></h3> <p>These functions wrap a string in double quotes (<code>quote</code>) or single quotes (<code>squote</code>).</p> <h3 id=cat>cat<a class=headerlink href=#cat title="Permanent link">&para;</a></h3> <p>The <code>cat</code> function concatenates multiple strings together into one, separating them with spaces:</p> <div class=highlight><pre><span></span><code>cat &quot;hello&quot; &quot;beautiful&quot; &quot;world&quot;
</code></pre></div> <p>The above produces <code>hello beautiful world</code></p> <h3 id=indent>indent<a class=headerlink href=#indent title="Permanent link">&para;</a></h3> <p>The <code>indent</code> function indents every line in a given string to the specified indent width. This is useful when aligning multi-line strings:</p> <div class=highlight><pre><span></span><code>indent 4 $lots_of_text
</code></pre></div> <p>The above will indent every line of text by 4 space characters.</p> <h3 id=nindent>nindent<a class=headerlink href=#nindent title="Permanent link">&para;</a></h3> <p>The <code>nindent</code> function is the same as the indent function, but prepends a new line to the beginning of the string.</p> <div class=highlight><pre><span></span><code>nindent 4 $lots_of_text
</code></pre></div> <p>The above will indent every line of text by 4 space characters and add a new line to the beginning.</p> <h3 id=replace>replace<a class=headerlink href=#replace title="Permanent link">&para;</a></h3> <p>Perform simple string replacement.</p> <p>It takes three arguments:</p> <ul> <li>string to replace</li> <li>string to replace with</li> <li>source string</li> </ul> <div class=highlight><pre><span></span><code>&quot;I Am Henry VIII&quot; | replace &quot; &quot; &quot;-&quot;
</code></pre></div> <p>The above will produce <code>I-Am-Henry-VIII</code></p> <h3 id=plural>plural<a class=headerlink href=#plural title="Permanent link">&para;</a></h3> <p>Pluralize a string.</p> <div class=highlight><pre><span></span><code>len $fish | plural &quot;one anchovy&quot; &quot;many anchovies&quot;
</code></pre></div> <p>In the above, if the length of the string is 1, the first argument will be printed (<code>one anchovy</code>). Otherwise, the second argument will be printed (<code>many anchovies</code>).</p> <p>The arguments are:</p> <ul> <li>singular string</li> <li>plural string</li> <li>length integer</li> </ul> <p>NOTE: Sprig does not currently support languages with more complex pluralization rules. And <code>0</code> is considered a plural because the English language treats it as such (<code>zero anchovies</code>). The Sprig developers are working on a solution for better internationalization.</p> <h3 id=regexmatch-mustregexmatch>regexMatch, mustRegexMatch<a class=headerlink href=#regexmatch-mustregexmatch title="Permanent link">&para;</a></h3> <p>Returns true if the input string contains any match of the regular expression.</p> <div class=highlight><pre><span></span><code>regexMatch &quot;^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$&quot; &quot;test@acme.com&quot;
</code></pre></div> <p>The above produces <code>true</code></p> <p><code>regexMatch</code> panics if there is a problem and <code>mustRegexMatch</code> returns an error to the template engine if there is a problem.</p> <h3 id=regexfindall-mustregexfindall>regexFindAll, mustRegexFindAll<a class=headerlink href=#regexfindall-mustregexfindall title="Permanent link">&para;</a></h3> <p>Returns a slice of all matches of the regular expression in the input string. The last parameter n determines the number of substrings to return, where -1 means return all matches</p> <div class=highlight><pre><span></span><code>regexFindAll &quot;[2,4,6,8]&quot; &quot;123456789&quot; -1
</code></pre></div> <p>The above produces <code>[2 4 6 8]</code></p> <p><code>regexFindAll</code> panics if there is a problem and <code>mustRegexFindAll</code> returns an error to the template engine if there is a problem.</p> <h3 id=regexfind-mustregexfind>regexFind, mustRegexFind<a class=headerlink href=#regexfind-mustregexfind title="Permanent link">&para;</a></h3> <p>Return the first (left most) match of the regular expression in the input string</p> <div class=highlight><pre><span></span><code>regexFind &quot;[a-zA-Z][1-9]&quot; &quot;abcd1234&quot;
</code></pre></div> <p>The above produces <code>d1</code></p> <p><code>regexFind</code> panics if there is a problem and <code>mustRegexFind</code> returns an error to the template engine if there is a problem.</p> <h3 id=regexreplaceall-mustregexreplaceall>regexReplaceAll, mustRegexReplaceAll<a class=headerlink href=#regexreplaceall-mustregexreplaceall title="Permanent link">&para;</a></h3> <p>Returns a copy of the input string, replacing matches of the Regexp with the replacement string replacement. Inside string replacement, $ signs are interpreted as in Expand, so for instance $1 represents the text of the first submatch</p> <div class=highlight><pre><span></span><code>regexReplaceAll &quot;a(x*)b&quot; &quot;-ab-axxb-&quot; &quot;${1}W&quot;
</code></pre></div> <p>The above produces <code>-W-xxW-</code></p> <p><code>regexReplaceAll</code> panics if there is a problem and <code>mustRegexReplaceAll</code> returns an error to the template engine if there is a problem.</p> <h3 id=regexreplaceallliteral-mustregexreplaceallliteral>regexReplaceAllLiteral, mustRegexReplaceAllLiteral<a class=headerlink href=#regexreplaceallliteral-mustregexreplaceallliteral title="Permanent link">&para;</a></h3> <p>Returns a copy of the input string, replacing matches of the Regexp with the replacement string replacement The replacement string is substituted directly, without using Expand</p> <div class=highlight><pre><span></span><code>regexReplaceAllLiteral &quot;a(x*)b&quot; &quot;-ab-axxb-&quot; &quot;${1}&quot;
</code></pre></div> <p>The above produces <code>-${1}-${1}-</code></p> <p><code>regexReplaceAllLiteral</code> panics if there is a problem and <code>mustRegexReplaceAllLiteral</code> returns an error to the template engine if there is a problem.</p> <h3 id=regexsplit-mustregexsplit>regexSplit, mustRegexSplit<a class=headerlink href=#regexsplit-mustregexsplit title="Permanent link">&para;</a></h3> <p>Slices the input string into substrings separated by the expression and returns a slice of the substrings between those expression matches. The last parameter <code>n</code> determines the number of substrings to return, where <code>-1</code> means return all matches</p> <div class=highlight><pre><span></span><code>regexSplit &quot;z+&quot; &quot;pizza&quot; -1
</code></pre></div> <p>The above produces <code>[pi a]</code></p> <p><code>regexSplit</code> panics if there is a problem and <code>mustRegexSplit</code> returns an error to the template engine if there is a problem.</p> <h3 id=regexquotemeta>regexQuoteMeta<a class=headerlink href=#regexquotemeta title="Permanent link">&para;</a></h3> <p>Returns a string that escapes all regular expression metacharacters inside the argument text; the returned string is a regular expression matching the literal text.</p> <div class=highlight><pre><span></span><code>regexQuoteMeta &quot;1.2.3&quot;
</code></pre></div> <p>The above produces <code>1\.2\.3</code></p> <h3 id=see-also>See Also...<a class=headerlink href=#see-also title="Permanent link">&para;</a></h3> <p>The <a href=#type-conversion-functions>Conversion Functions</a> contain functions for converting strings. The <a href=#string-list-functions>String List Functions</a> contains functions for working with an array of strings.</p> <h2 id=string-list-functions>String List Functions<a class=headerlink href=#string-list-functions title="Permanent link">&para;</a></h2> <p>These functions operate on or generate slices of strings. In Go, a slice is a growable array. In Sprig, it's a special case of a <code>list</code>.</p> <h3 id=join>join<a class=headerlink href=#join title="Permanent link">&para;</a></h3> <p>Join a list of strings into a single string, with the given separator.</p> <div class=highlight><pre><span></span><code>list &quot;hello&quot; &quot;world&quot; | join &quot;_&quot;
</code></pre></div> <p>The above will produce <code>hello_world</code></p> <p><code>join</code> will try to convert non-strings to a string value:</p> <div class=highlight><pre><span></span><code>list 1 2 3 | join &quot;+&quot;
</code></pre></div> <p>The above will produce <code>1+2+3</code></p> <h3 id=splitlist-and-split>splitList and split<a class=headerlink href=#splitlist-and-split title="Permanent link">&para;</a></h3> <p>Split a string into a list of strings:</p> <div class=highlight><pre><span></span><code>splitList &quot;$&quot; &quot;foo$bar$baz&quot;
</code></pre></div> <p>The above will return <code>[foo bar baz]</code></p> <p>The older <code>split</code> function splits a string into a <code>dict</code>. It is designed to make it easy to use template dot notation for accessing members:</p> <div class=highlight><pre><span></span><code>$a := split &quot;$&quot; &quot;foo$bar$baz&quot;
</code></pre></div> <p>The above produces a map with index keys. <code>{_0: foo, _1: bar, _2: baz}</code></p> <div class=highlight><pre><span></span><code>$a._0
</code></pre></div> <p>The above produces <code>foo</code></p> <h3 id=splitn>splitn<a class=headerlink href=#splitn title="Permanent link">&para;</a></h3> <p><code>splitn</code> function splits a string into a <code>dict</code> with <code>n</code> keys. It is designed to make it easy to use template dot notation for accessing members:</p> <div class=highlight><pre><span></span><code>$a := splitn &quot;$&quot; 2 &quot;foo$bar$baz&quot;
</code></pre></div> <p>The above produces a map with index keys. <code>{_0: foo, _1: bar$baz}</code></p> <div class=highlight><pre><span></span><code>$a._0
</code></pre></div> <p>The above produces <code>foo</code></p> <h3 id=sortalpha>sortAlpha<a class=headerlink href=#sortalpha title="Permanent link">&para;</a></h3> <p>The <code>sortAlpha</code> function sorts a list of strings into alphabetical (lexicographical) order.</p> <p>It does <em>not</em> sort in place, but returns a sorted copy of the list, in keeping with the immutability of lists.</p> <h2 id=integer-math-functions>Integer Math Functions<a class=headerlink href=#integer-math-functions title="Permanent link">&para;</a></h2> <p>The following math functions operate on <code>int64</code> values.</p> <h3 id=add>add<a class=headerlink href=#add title="Permanent link">&para;</a></h3> <p>Sum numbers with <code>add</code>. Accepts two or more inputs.</p> <div class=highlight><pre><span></span><code>add 1 2 3
</code></pre></div> <h3 id=add1>add1<a class=headerlink href=#add1 title="Permanent link">&para;</a></h3> <p>To increment by 1, use <code>add1</code></p> <h3 id=sub>sub<a class=headerlink href=#sub title="Permanent link">&para;</a></h3> <p>To subtract, use <code>sub</code></p> <h3 id=div>div<a class=headerlink href=#div title="Permanent link">&para;</a></h3> <p>Perform integer division with <code>div</code></p> <h3 id=mod>mod<a class=headerlink href=#mod title="Permanent link">&para;</a></h3> <p>Modulo with <code>mod</code></p> <h3 id=mul>mul<a class=headerlink href=#mul title="Permanent link">&para;</a></h3> <p>Multiply with <code>mul</code>. Accepts two or more inputs.</p> <div class=highlight><pre><span></span><code>mul 1 2 3
</code></pre></div> <h3 id=max>max<a class=headerlink href=#max title="Permanent link">&para;</a></h3> <p>Return the largest of a series of integers:</p> <p>This will return <code>3</code>:</p> <div class=highlight><pre><span></span><code>max 1 2 3
</code></pre></div> <h3 id=min>min<a class=headerlink href=#min title="Permanent link">&para;</a></h3> <p>Return the smallest of a series of integers.</p> <p><code>min 1 2 3</code> will return <code>1</code></p> <h3 id=floor>floor<a class=headerlink href=#floor title="Permanent link">&para;</a></h3> <p>Returns the greatest float value less than or equal to input value</p> <p><code>floor 123.9999</code> will return <code>123.0</code></p> <h3 id=ceil>ceil<a class=headerlink href=#ceil title="Permanent link">&para;</a></h3> <p>Returns the greatest float value greater than or equal to input value</p> <p><code>ceil 123.001</code> will return <code>124.0</code></p> <h3 id=round>round<a class=headerlink href=#round title="Permanent link">&para;</a></h3> <p>Returns a float value with the remainder rounded to the given number to digits after the decimal point.</p> <p><code>round 123.555555 3</code> will return <code>123.556</code></p> <h3 id=randint>randInt<a class=headerlink href=#randint title="Permanent link">&para;</a></h3> <p>Returns a random integer value from min (inclusive) to max (exclusive).</p> <div class=highlight><pre><span></span><code>randInt 12 30
</code></pre></div> <p>The above will produce a random number in the range [12,30].</p> <h2 id=integer-list-functions>Integer List Functions<a class=headerlink href=#integer-list-functions title="Permanent link">&para;</a></h2> <h3 id=until>until<a class=headerlink href=#until title="Permanent link">&para;</a></h3> <p>The <code>until</code> function builds a range of integers.</p> <div class=highlight><pre><span></span><code>until 5
</code></pre></div> <p>The above generates the list <code>[0, 1, 2, 3, 4]</code>.</p> <p>This is useful for looping with <code>range $i, $e := until 5</code>.</p> <h3 id=untilstep>untilStep<a class=headerlink href=#untilstep title="Permanent link">&para;</a></h3> <p>Like <code>until</code>, <code>untilStep</code> generates a list of counting integers. But it allows you to define a start, stop, and step:</p> <div class=highlight><pre><span></span><code>untilStep 3 6 2
</code></pre></div> <p>The above will produce <code>[3 5]</code> by starting with 3, and adding 2 until it is equal or greater than 6. This is similar to Python's <code>range</code> function.</p> <h3 id=seq>seq<a class=headerlink href=#seq title="Permanent link">&para;</a></h3> <p>Works like the bash <code>seq</code> command. * 1 parameter (end) - will generate all counting integers between 1 and <code>end</code> inclusive. * 2 parameters (start, end) - will generate all counting integers between <code>start</code> and <code>end</code> inclusive incrementing or decrementing by 1. * 3 parameters (start, step, end) - will generate all counting integers between <code>start</code> and <code>end</code> inclusive incrementing or decrementing by <code>step</code>.</p> <div class=highlight><pre><span></span><code>seq 5       =&gt; 1 2 3 4 5
seq -3      =&gt; 1 0 -1 -2 -3
seq 0 2     =&gt; 0 1 2
seq 2 -2    =&gt; 2 1 0 -1 -2
seq 0 2 10  =&gt; 0 2 4 6 8 10
seq 0 -2 -5 =&gt; 0 -2 -4
</code></pre></div> <h2 id=float-math-functions>Float Math Functions<a class=headerlink href=#float-math-functions title="Permanent link">&para;</a></h2> <h3 id=maxf>maxf<a class=headerlink href=#maxf title="Permanent link">&para;</a></h3> <p>Return the largest of a series of floats:</p> <p>This will return <code>3</code>:</p> <div class=highlight><pre><span></span><code>maxf 1 2.5 3
</code></pre></div> <h3 id=minf>minf<a class=headerlink href=#minf title="Permanent link">&para;</a></h3> <p>Return the smallest of a series of floats.</p> <p>This will return <code>1.5</code>:</p> <div class=highlight><pre><span></span><code>minf 1.5 2 3
</code></pre></div> <h2 id=date-functions>Date Functions<a class=headerlink href=#date-functions title="Permanent link">&para;</a></h2> <h3 id=now>now<a class=headerlink href=#now title="Permanent link">&para;</a></h3> <p>The current date/time. Use this in conjunction with other date functions.</p> <h3 id=ago>ago<a class=headerlink href=#ago title="Permanent link">&para;</a></h3> <p>The <code>ago</code> function returns duration from time.Now in seconds resolution.</p> <div class=highlight><pre><span></span><code>ago .CreatedAt
</code></pre></div> <p>returns in <code>time.Duration</code> String() format</p> <div class=highlight><pre><span></span><code>2h34m7s
</code></pre></div> <h3 id=date>date<a class=headerlink href=#date title="Permanent link">&para;</a></h3> <p>The <code>date</code> function formats a date.</p> <p>Format the date to YEAR-MONTH-DAY:</p> <div class=highlight><pre><span></span><code>now | date &quot;2006-01-02&quot;
</code></pre></div> <p>Date formatting in Go is a <a href=https://pauladamsmith.com/blog/2011/05/go_time.html>little bit different</a>.</p> <p>In short, take this as the base date:</p> <div class=highlight><pre><span></span><code>Mon Jan 2 15:04:05 MST 2006
</code></pre></div> <p>Write it in the format you want. Above, <code>2006-01-02</code> is the same date, but in the format we want.</p> <h3 id=dateinzone>dateInZone<a class=headerlink href=#dateinzone title="Permanent link">&para;</a></h3> <p>Same as <code>date</code>, but with a timezone.</p> <div class=highlight><pre><span></span><code>dateInZone &quot;2006-01-02&quot; (now) &quot;UTC&quot;
</code></pre></div> <h3 id=duration>duration<a class=headerlink href=#duration title="Permanent link">&para;</a></h3> <p>Formats a given amount of seconds as a <code>time.Duration</code>.</p> <p>This returns 1m35s</p> <div class=highlight><pre><span></span><code>duration &quot;95&quot;
</code></pre></div> <h3 id=durationround>durationRound<a class=headerlink href=#durationround title="Permanent link">&para;</a></h3> <p>Rounds a given duration to the most significant unit. Strings and <code>time.Duration</code> gets parsed as a duration, while a <code>time.Time</code> is calculated as the duration since.</p> <p>This return 2h</p> <div class=highlight><pre><span></span><code>durationRound &quot;2h10m5s&quot;
</code></pre></div> <p>This returns 3mo</p> <div class=highlight><pre><span></span><code>durationRound &quot;2400h10m5s&quot;
</code></pre></div> <h3 id=unixepoch>unixEpoch<a class=headerlink href=#unixepoch title="Permanent link">&para;</a></h3> <p>Returns the seconds since the unix epoch for a <code>time.Time</code>.</p> <div class=highlight><pre><span></span><code>now | unixEpoch
</code></pre></div> <h3 id=datemodify-mustdatemodify>dateModify, mustDateModify<a class=headerlink href=#datemodify-mustdatemodify title="Permanent link">&para;</a></h3> <p>The <code>dateModify</code> takes a modification and a date and returns the timestamp.</p> <p>Subtract an hour and thirty minutes from the current time:</p> <div class=highlight><pre><span></span><code>now | dateModify &quot;-1.5h&quot;
</code></pre></div> <p>If the modification format is wrong <code>dateModify</code> will return the date unmodified. <code>mustDateModify</code> will return an error otherwise.</p> <h3 id=htmldate>htmlDate<a class=headerlink href=#htmldate title="Permanent link">&para;</a></h3> <p>The <code>htmlDate</code> function formats a date for inserting into an HTML date picker input field.</p> <div class=highlight><pre><span></span><code>now | htmlDate
</code></pre></div> <h3 id=htmldateinzone>htmlDateInZone<a class=headerlink href=#htmldateinzone title="Permanent link">&para;</a></h3> <p>Same as htmlDate, but with a timezone.</p> <div class=highlight><pre><span></span><code>htmlDateInZone (now) &quot;UTC&quot;
</code></pre></div> <h3 id=todate-musttodate>toDate, mustToDate<a class=headerlink href=#todate-musttodate title="Permanent link">&para;</a></h3> <p><code>toDate</code> converts a string to a date. The first argument is the date layout and the second the date string. If the string can't be convert it returns the zero value. <code>mustToDate</code> will return an error in case the string cannot be converted.</p> <p>This is useful when you want to convert a string date to another format (using pipe). The example below converts "2017-12-31" to "31/12/2017".</p> <div class=highlight><pre><span></span><code>toDate &quot;2006-01-02&quot; &quot;2017-12-31&quot; | date &quot;02/01/2006&quot;
</code></pre></div> <h2 id=default-functions>Default Functions<a class=headerlink href=#default-functions title="Permanent link">&para;</a></h2> <p>Sprig provides tools for setting default values for templates.</p> <h3 id=default>default<a class=headerlink href=#default title="Permanent link">&para;</a></h3> <p>To set a simple default value, use <code>default</code>:</p> <div class=highlight><pre><span></span><code>default &quot;foo&quot; .Bar
</code></pre></div> <p>In the above, if <code>.Bar</code> evaluates to a non-empty value, it will be used. But if it is empty, <code>foo</code> will be returned instead.</p> <p>The definition of "empty" depends on type:</p> <ul> <li>Numeric: 0</li> <li>String: ""</li> <li>Lists: <code>[]</code></li> <li>Dicts: <code>{}</code></li> <li>Boolean: <code>false</code></li> <li>And always <code>nil</code> (aka null)</li> </ul> <p>For structs, there is no definition of empty, so a struct will never return the default.</p> <h3 id=empty>empty<a class=headerlink href=#empty title="Permanent link">&para;</a></h3> <p>The <code>empty</code> function returns <code>true</code> if the given value is considered empty, and <code>false</code> otherwise. The empty values are listed in the <code>default</code> section.</p> <div class=highlight><pre><span></span><code>empty .Foo
</code></pre></div> <p>Note that in Go template conditionals, emptiness is calculated for you. Thus, you rarely need <code>if empty .Foo</code>. Instead, just use <code>if .Foo</code>.</p> <h3 id=coalesce>coalesce<a class=headerlink href=#coalesce title="Permanent link">&para;</a></h3> <p>The <code>coalesce</code> function takes a list of values and returns the first non-empty one.</p> <div class=highlight><pre><span></span><code>coalesce 0 1 2
</code></pre></div> <p>The above returns <code>1</code>.</p> <p>This function is useful for scanning through multiple variables or values:</p> <div class=highlight><pre><span></span><code>coalesce .name .parent.name &quot;Matt&quot;
</code></pre></div> <p>The above will first check to see if <code>.name</code> is empty. If it is not, it will return that value. If it <em>is</em> empty, <code>coalesce</code> will evaluate <code>.parent.name</code> for emptiness. Finally, if both <code>.name</code> and <code>.parent.name</code> are empty, it will return <code>Matt</code>.</p> <h3 id=all>all<a class=headerlink href=#all title="Permanent link">&para;</a></h3> <p>The <code>all</code> function takes a list of values and returns true if all values are non-empty.</p> <div class=highlight><pre><span></span><code>all 0 1 2
</code></pre></div> <p>The above returns <code>false</code>.</p> <p>This function is useful for evaluating multiple conditions of variables or values:</p> <div class=highlight><pre><span></span><code>all (eq .Request.TLS.Version 0x0304) (.Request.ProtoAtLeast 2 0) (eq .Request.Method &quot;POST&quot;)
</code></pre></div> <p>The above will check http.Request is POST with tls 1.3 and http/2.</p> <h3 id=any>any<a class=headerlink href=#any title="Permanent link">&para;</a></h3> <p>The <code>any</code> function takes a list of values and returns true if any value is non-empty.</p> <div class=highlight><pre><span></span><code>any 0 1 2
</code></pre></div> <p>The above returns <code>true</code>.</p> <p>This function is useful for evaluating multiple conditions of variables or values:</p> <div class=highlight><pre><span></span><code>any (eq .Request.Method &quot;GET&quot;) (eq .Request.Method &quot;POST&quot;) (eq .Request.Method &quot;OPTIONS&quot;)
</code></pre></div> <p>The above will check http.Request method is one of GET/POST/OPTIONS.</p> <h3 id=fromjson-mustfromjson>fromJSON, mustFromJSON<a class=headerlink href=#fromjson-mustfromjson title="Permanent link">&para;</a></h3> <p><code>fromJSON</code> decodes a JSON document into a structure. If the input cannot be decoded as JSON the function will return an empty string. <code>mustFromJSON</code> will return an error in case the JSON is invalid.</p> <div class=highlight><pre><span></span><code>fromJSON &quot;{\&quot;foo\&quot;: 55}&quot;
</code></pre></div> <h3 id=tojson-musttojson>toJSON, mustToJSON<a class=headerlink href=#tojson-musttojson title="Permanent link">&para;</a></h3> <p>The <code>toJSON</code> function encodes an item into a JSON string. If the item cannot be converted to JSON the function will return an empty string. <code>mustToJSON</code> will return an error in case the item cannot be encoded in JSON.</p> <div class=highlight><pre><span></span><code>toJSON .Item
</code></pre></div> <p>The above returns JSON string representation of <code>.Item</code>.</p> <h3 id=toprettyjson-musttoprettyjson>toPrettyJSON, mustToPrettyJSON<a class=headerlink href=#toprettyjson-musttoprettyjson title="Permanent link">&para;</a></h3> <p>The <code>toPrettyJSON</code> function encodes an item into a pretty (indented) JSON string.</p> <div class=highlight><pre><span></span><code>toPrettyJSON .Item
</code></pre></div> <p>The above returns indented JSON string representation of <code>.Item</code>.</p> <h3 id=torawjson-musttorawjson>toRawJSON, mustToRawJSON<a class=headerlink href=#torawjson-musttorawjson title="Permanent link">&para;</a></h3> <p>The <code>toRawJSON</code> function encodes an item into JSON string with HTML characters unescaped.</p> <div class=highlight><pre><span></span><code>toRawJSON .Item
</code></pre></div> <p>The above returns unescaped JSON string representation of <code>.Item</code>.</p> <h3 id=ternary>ternary<a class=headerlink href=#ternary title="Permanent link">&para;</a></h3> <p>The <code>ternary</code> function takes two values, and a test value. If the test value is true, the first value will be returned. If the test value is empty, the second value will be returned. This is similar to the c ternary operator.</p> <h4 id=true-test-value>true test value<a class=headerlink href=#true-test-value title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code>ternary &quot;foo&quot; &quot;bar&quot; true
</code></pre></div> <p>or</p> <div class=highlight><pre><span></span><code>true | ternary &quot;foo&quot; &quot;bar&quot;
</code></pre></div> <p>The above returns <code>"foo"</code>.</p> <h4 id=false-test-value>false test value<a class=headerlink href=#false-test-value title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code>ternary &quot;foo&quot; &quot;bar&quot; false
</code></pre></div> <p>or</p> <div class=highlight><pre><span></span><code>false | ternary &quot;foo&quot; &quot;bar&quot;
</code></pre></div> <p>The above returns <code>"bar"</code>.</p> <h2 id=encoding-functions>Encoding Functions<a class=headerlink href=#encoding-functions title="Permanent link">&para;</a></h2> <p>Sprig has the following encoding and decoding functions:</p> <ul> <li><code>b64enc</code>/<code>b64dec</code>: Encode or decode with Base64</li> <li><code>b32enc</code>/<code>b32dec</code>: Encode or decode with Base32</li> </ul> <h2 id=lists-and-list-functions>Lists and List Functions<a class=headerlink href=#lists-and-list-functions title="Permanent link">&para;</a></h2> <p>Sprig provides a simple <code>list</code> type that can contain arbitrary sequential lists of data. This is similar to arrays or slices, but lists are designed to be used as immutable data types.</p> <p>Create a list of integers:</p> <div class=highlight><pre><span></span><code>$myList := list 1 2 3 4 5
</code></pre></div> <p>The above creates a list of <code>[1 2 3 4 5]</code>.</p> <h3 id=first-mustfirst>first, mustFirst<a class=headerlink href=#first-mustfirst title="Permanent link">&para;</a></h3> <p>To get the head item on a list, use <code>first</code>.</p> <p><code>first $myList</code> returns <code>1</code></p> <p><code>first</code> panics if there is a problem while <code>mustFirst</code> returns an error to the template engine if there is a problem.</p> <h3 id=rest-mustrest>rest, mustRest<a class=headerlink href=#rest-mustrest title="Permanent link">&para;</a></h3> <p>To get the tail of the list (everything but the first item), use <code>rest</code>.</p> <p><code>rest $myList</code> returns <code>[2 3 4 5]</code></p> <p><code>rest</code> panics if there is a problem while <code>mustRest</code> returns an error to the template engine if there is a problem.</p> <h3 id=last-mustlast>last, mustLast<a class=headerlink href=#last-mustlast title="Permanent link">&para;</a></h3> <p>To get the last item on a list, use <code>last</code>:</p> <p><code>last $myList</code> returns <code>5</code>. This is roughly analogous to reversing a list and then calling <code>first</code>.</p> <p><code>last</code> panics if there is a problem while <code>mustLast</code> returns an error to the template engine if there is a problem.</p> <h3 id=initial-mustinitial>initial, mustInitial<a class=headerlink href=#initial-mustinitial title="Permanent link">&para;</a></h3> <p>This compliments <code>last</code> by returning all <em>but</em> the last element. <code>initial $myList</code> returns <code>[1 2 3 4]</code>.</p> <p><code>initial</code> panics if there is a problem while <code>mustInitial</code> returns an error to the template engine if there is a problem.</p> <h3 id=append-mustappend>append, mustAppend<a class=headerlink href=#append-mustappend title="Permanent link">&para;</a></h3> <p>Append a new item to an existing list, creating a new list.</p> <div class=highlight><pre><span></span><code>$new = append $myList 6
</code></pre></div> <p>The above would set <code>$new</code> to <code>[1 2 3 4 5 6]</code>. <code>$myList</code> would remain unaltered.</p> <p><code>append</code> panics if there is a problem while <code>mustAppend</code> returns an error to the template engine if there is a problem.</p> <h3 id=prepend-mustprepend>prepend, mustPrepend<a class=headerlink href=#prepend-mustprepend title="Permanent link">&para;</a></h3> <p>Push an element onto the front of a list, creating a new list.</p> <div class=highlight><pre><span></span><code>prepend $myList 0
</code></pre></div> <p>The above would produce <code>[0 1 2 3 4 5]</code>. <code>$myList</code> would remain unaltered.</p> <p><code>prepend</code> panics if there is a problem while <code>mustPrepend</code> returns an error to the template engine if there is a problem.</p> <h3 id=concat>concat<a class=headerlink href=#concat title="Permanent link">&para;</a></h3> <p>Concatenate arbitrary number of lists into one.</p> <div class=highlight><pre><span></span><code>concat $myList ( list 6 7 ) ( list 8 )
</code></pre></div> <p>The above would produce <code>[1 2 3 4 5 6 7 8]</code>. <code>$myList</code> would remain unaltered.</p> <h3 id=reverse-mustreverse>reverse, mustReverse<a class=headerlink href=#reverse-mustreverse title="Permanent link">&para;</a></h3> <p>Produce a new list with the reversed elements of the given list.</p> <div class=highlight><pre><span></span><code>reverse $myList
</code></pre></div> <p>The above would generate the list <code>[5 4 3 2 1]</code>.</p> <p><code>reverse</code> panics if there is a problem while <code>mustReverse</code> returns an error to the template engine if there is a problem.</p> <h3 id=uniq-mustuniq>uniq, mustUniq<a class=headerlink href=#uniq-mustuniq title="Permanent link">&para;</a></h3> <p>Generate a list with all of the duplicates removed.</p> <div class=highlight><pre><span></span><code>list 1 1 1 2 | uniq
</code></pre></div> <p>The above would produce <code>[1 2]</code></p> <p><code>uniq</code> panics if there is a problem while <code>mustUniq</code> returns an error to the template engine if there is a problem.</p> <h3 id=without-mustwithout>without, mustWithout<a class=headerlink href=#without-mustwithout title="Permanent link">&para;</a></h3> <p>The <code>without</code> function filters items out of a list.</p> <div class=highlight><pre><span></span><code>without $myList 3
</code></pre></div> <p>The above would produce <code>[1 2 4 5]</code></p> <p>Without can take more than one filter:</p> <div class=highlight><pre><span></span><code>without $myList 1 3 5
</code></pre></div> <p>That would produce <code>[2 4]</code></p> <p><code>without</code> panics if there is a problem while <code>mustWithout</code> returns an error to the template engine if there is a problem.</p> <h3 id=has-musthas>has, mustHas<a class=headerlink href=#has-musthas title="Permanent link">&para;</a></h3> <p>Test to see if a list has a particular element.</p> <div class=highlight><pre><span></span><code>has 4 $myList
</code></pre></div> <p>The above would return <code>true</code>, while <code>has "hello" $myList</code> would return false.</p> <p><code>has</code> panics if there is a problem while <code>mustHas</code> returns an error to the template engine if there is a problem.</p> <h3 id=compact-mustcompact>compact, mustCompact<a class=headerlink href=#compact-mustcompact title="Permanent link">&para;</a></h3> <p>Accepts a list and removes entries with empty values.</p> <div class=highlight><pre><span></span><code>$list := list 1 &quot;a&quot; &quot;foo&quot; &quot;&quot;
$copy := compact $list
</code></pre></div> <p><code>compact</code> will return a new list with the empty (i.e., "") item removed.</p> <p><code>compact</code> panics if there is a problem and <code>mustCompact</code> returns an error to the template engine if there is a problem.</p> <h3 id=slice-mustslice>slice, mustSlice<a class=headerlink href=#slice-mustslice title="Permanent link">&para;</a></h3> <p>To get partial elements of a list, use <code>slice list [n] [m]</code>. It is equivalent of <code>list[n:m]</code>.</p> <ul> <li><code>slice $myList</code> returns <code>[1 2 3 4 5]</code>. It is same as <code>myList[:]</code>.</li> <li><code>slice $myList 3</code> returns <code>[4 5]</code>. It is same as <code>myList[3:]</code>.</li> <li><code>slice $myList 1 3</code> returns <code>[2 3]</code>. It is same as <code>myList[1:3]</code>.</li> <li><code>slice $myList 0 3</code> returns <code>[1 2 3]</code>. It is same as <code>myList[:3]</code>.</li> </ul> <p><code>slice</code> panics if there is a problem while <code>mustSlice</code> returns an error to the template engine if there is a problem.</p> <h3 id=chunk>chunk<a class=headerlink href=#chunk title="Permanent link">&para;</a></h3> <p>To split a list into chunks of given size, use <code>chunk size list</code>. This is useful for pagination.</p> <div class=highlight><pre><span></span><code>chunk 3 (list 1 2 3 4 5 6 7 8)
</code></pre></div> <p>This produces list of lists <code>[ [ 1 2 3 ] [ 4 5 6 ] [ 7 8 ] ]</code>.</p> <h3 id=a-note-on-list-internals>A Note on List Internals<a class=headerlink href=#a-note-on-list-internals title="Permanent link">&para;</a></h3> <p>A list is implemented in Go as a <code>[]any</code>. For Go developers embedding Sprig, you may pass <code>[]any</code> items into your template context and be able to use all of the <code>list</code> functions on those items.</p> <h2 id=dictionaries-and-dict-functions>Dictionaries and Dict Functions<a class=headerlink href=#dictionaries-and-dict-functions title="Permanent link">&para;</a></h2> <p>Sprig provides a key/value storage type called a <code>dict</code> (short for "dictionary", as in Python). A <code>dict</code> is an <em>unorder</em> type.</p> <p>The key to a dictionary <strong>must be a string</strong>. However, the value can be any type, even another <code>dict</code> or <code>list</code>.</p> <p>Unlike <code>list</code>s, <code>dict</code>s are not immutable. The <code>set</code> and <code>unset</code> functions will modify the contents of a dictionary.</p> <h3 id=dict>dict<a class=headerlink href=#dict title="Permanent link">&para;</a></h3> <p>Creating dictionaries is done by calling the <code>dict</code> function and passing it a list of pairs.</p> <p>The following creates a dictionary with three items:</p> <div class=highlight><pre><span></span><code>$myDict := dict &quot;name1&quot; &quot;value1&quot; &quot;name2&quot; &quot;value2&quot; &quot;name3&quot; &quot;value 3&quot;
</code></pre></div> <h3 id=get>get<a class=headerlink href=#get title="Permanent link">&para;</a></h3> <p>Given a map and a key, get the value from the map.</p> <div class=highlight><pre><span></span><code>get $myDict &quot;name1&quot;
</code></pre></div> <p>The above returns <code>"value1"</code></p> <p>Note that if the key is not found, this operation will simply return <code>""</code>. No error will be generated.</p> <h3 id=set>set<a class=headerlink href=#set title="Permanent link">&para;</a></h3> <p>Use <code>set</code> to add a new key/value pair to a dictionary.</p> <div class=highlight><pre><span></span><code>$_ := set $myDict &quot;name4&quot; &quot;value4&quot;
</code></pre></div> <p>Note that <code>set</code> <em>returns the dictionary</em> (a requirement of Go template functions), so you may need to trap the value as done above with the <code>$_</code> assignment.</p> <h3 id=unset>unset<a class=headerlink href=#unset title="Permanent link">&para;</a></h3> <p>Given a map and a key, delete the key from the map.</p> <div class=highlight><pre><span></span><code>$_ := unset $myDict &quot;name4&quot;
</code></pre></div> <p>As with <code>set</code>, this returns the dictionary.</p> <p>Note that if the key is not found, this operation will simply return. No error will be generated.</p> <h3 id=haskey>hasKey<a class=headerlink href=#haskey title="Permanent link">&para;</a></h3> <p>The <code>hasKey</code> function returns <code>true</code> if the given dict contains the given key.</p> <div class=highlight><pre><span></span><code>hasKey $myDict &quot;name1&quot;
</code></pre></div> <p>If the key is not found, this returns <code>false</code>.</p> <h3 id=pluck>pluck<a class=headerlink href=#pluck title="Permanent link">&para;</a></h3> <p>The <code>pluck</code> function makes it possible to give one key and multiple maps, and get a list of all of the matches:</p> <div class=highlight><pre><span></span><code>pluck &quot;name1&quot; $myDict $myOtherDict
</code></pre></div> <p>The above will return a <code>list</code> containing every found value (<code>[value1 otherValue1]</code>).</p> <p>If the give key is <em>not found</em> in a map, that map will not have an item in the list (and the length of the returned list will be less than the number of dicts in the call to <code>pluck</code>.</p> <p>If the key is <em>found</em> but the value is an empty value, that value will be inserted.</p> <p>A common idiom in Sprig templates is to uses <code>pluck... | first</code> to get the first matching key out of a collection of dictionaries.</p> <h3 id=dig>dig<a class=headerlink href=#dig title="Permanent link">&para;</a></h3> <p>The <code>dig</code> function traverses a nested set of dicts, selecting keys from a list of values. It returns a default value if any of the keys are not found at the associated dict.</p> <div class=highlight><pre><span></span><code>dig &quot;user&quot; &quot;role&quot; &quot;humanName&quot; &quot;guest&quot; $dict
</code></pre></div> <p>Given a dict structured like <div class=highlight><pre><span></span><code>{
  user: {
    role: {
      humanName: &quot;curator&quot;
    }
  }
}
</code></pre></div></p> <p>the above would return <code>"curator"</code>. If the dict lacked even a <code>user</code> field, the result would be <code>"guest"</code>.</p> <p>Dig can be very useful in cases where you'd like to avoid guard clauses, especially since Go's template package's <code>and</code> doesn't shortcut. For instance <code>and a.maybeNil a.maybeNil.iNeedThis</code> will always evaluate <code>a.maybeNil.iNeedThis</code>, and panic if <code>a</code> lacks a <code>maybeNil</code> field.)</p> <p><code>dig</code> accepts its dict argument last in order to support pipelining.</p> <h3 id=keys>keys<a class=headerlink href=#keys title="Permanent link">&para;</a></h3> <p>The <code>keys</code> function will return a <code>list</code> of all of the keys in one or more <code>dict</code> types. Since a dictionary is <em>unordered</em>, the keys will not be in a predictable order. They can be sorted with <code>sortAlpha</code>.</p> <div class=highlight><pre><span></span><code>keys $myDict | sortAlpha
</code></pre></div> <p>When supplying multiple dictionaries, the keys will be concatenated. Use the <code>uniq</code> function along with <code>sortAlpha</code> to get a unqiue, sorted list of keys.</p> <div class=highlight><pre><span></span><code>keys $myDict $myOtherDict | uniq | sortAlpha
</code></pre></div> <h3 id=pick>pick<a class=headerlink href=#pick title="Permanent link">&para;</a></h3> <p>The <code>pick</code> function selects just the given keys out of a dictionary, creating a new <code>dict</code>.</p> <div class=highlight><pre><span></span><code>$new := pick $myDict &quot;name1&quot; &quot;name2&quot;
</code></pre></div> <p>The above returns <code>{name1: value1, name2: value2}</code></p> <h3 id=omit>omit<a class=headerlink href=#omit title="Permanent link">&para;</a></h3> <p>The <code>omit</code> function is similar to <code>pick</code>, except it returns a new <code>dict</code> with all the keys that <em>do not</em> match the given keys.</p> <div class=highlight><pre><span></span><code>$new := omit $myDict &quot;name1&quot; &quot;name3&quot;
</code></pre></div> <p>The above returns <code>{name2: value2}</code></p> <h3 id=values>values<a class=headerlink href=#values title="Permanent link">&para;</a></h3> <p>The <code>values</code> function is similar to <code>keys</code>, except it returns a new <code>list</code> with all the values of the source <code>dict</code> (only one dictionary is supported).</p> <div class=highlight><pre><span></span><code>$vals := values $myDict
</code></pre></div> <p>The above returns <code>list["value1", "value2", "value 3"]</code>. Note that the <code>values</code> function gives no guarantees about the result ordering- if you care about this, then use <code>sortAlpha</code>.</p> <h2 id=type-conversion-functions>Type Conversion Functions<a class=headerlink href=#type-conversion-functions title="Permanent link">&para;</a></h2> <p>The following type conversion functions are provided by Sprig:</p> <ul> <li><code>atoi</code>: Convert a string to an integer.</li> <li><code>float64</code>: Convert to a <code>float64</code>.</li> <li><code>int</code>: Convert to an <code>int</code> at the system's width.</li> <li><code>int64</code>: Convert to an <code>int64</code>.</li> <li><code>toDecimal</code>: Convert a unix octal to a <code>int64</code>.</li> <li><code>toString</code>: Convert to a string.</li> <li><code>toStrings</code>: Convert a list, slice, or array to a list of strings.</li> </ul> <p>Only <code>atoi</code> requires that the input be a specific type. The others will attempt to convert from any type to the destination type. For example, <code>int64</code> can convert floats to ints, and it can also convert strings to ints.</p> <h3 id=tostrings>toStrings<a class=headerlink href=#tostrings title="Permanent link">&para;</a></h3> <p>Given a list-like collection, produce a slice of strings.</p> <div class=highlight><pre><span></span><code>list 1 2 3 | toStrings
</code></pre></div> <p>The above converts <code>1</code> to <code>"1"</code>, <code>2</code> to <code>"2"</code>, and so on, and then returns them as a list.</p> <h3 id=todecimal>toDecimal<a class=headerlink href=#todecimal title="Permanent link">&para;</a></h3> <p>Given a unix octal permission, produce a decimal.</p> <div class=highlight><pre><span></span><code>&quot;0777&quot; | toDecimal
</code></pre></div> <p>The above converts <code>0777</code> to <code>511</code> and returns the value as an int64.</p> <h2 id=path-and-filepath-functions>Path and Filepath Functions<a class=headerlink href=#path-and-filepath-functions title="Permanent link">&para;</a></h2> <p>While Sprig does not grant access to the filesystem, it does provide functions for working with strings that follow file path conventions.</p> <h3 id=paths>Paths<a class=headerlink href=#paths title="Permanent link">&para;</a></h3> <p>Paths separated by the slash character (<code>/</code>), processed by the <code>path</code> package.</p> <p>Examples:</p> <ul> <li>The <a href=https://en.wikipedia.org/wiki/Linux>Linux</a> and <a href=https://en.wikipedia.org/wiki/MacOS>MacOS</a> <a href=https://en.wikipedia.org/wiki/File_system>filesystems</a>: <code>/home/user/file</code>, <code>/etc/config</code>;</li> <li>The path component of <a href=https://en.wikipedia.org/wiki/Uniform_Resource_Identifier>URIs</a>: <code>https://example.com/some/content/</code>, <code>ftp://example.com/file/</code>.</li> </ul> <h4 id=base>base<a class=headerlink href=#base title="Permanent link">&para;</a></h4> <p>Return the last element of a path.</p> <div class=highlight><pre><span></span><code>base &quot;foo/bar/baz&quot;
</code></pre></div> <p>The above prints "baz".</p> <h4 id=dir>dir<a class=headerlink href=#dir title="Permanent link">&para;</a></h4> <p>Return the directory, stripping the last part of the path. So <code>dir "foo/bar/baz"</code> returns <code>foo/bar</code>.</p> <h4 id=clean>clean<a class=headerlink href=#clean title="Permanent link">&para;</a></h4> <p>Clean up a path.</p> <div class=highlight><pre><span></span><code>clean &quot;foo/bar/../baz&quot;
</code></pre></div> <p>The above resolves the <code>..</code> and returns <code>foo/baz</code>.</p> <h4 id=ext>ext<a class=headerlink href=#ext title="Permanent link">&para;</a></h4> <p>Return the file extension.</p> <div class=highlight><pre><span></span><code>ext &quot;foo.bar&quot;
</code></pre></div> <p>The above returns <code>.bar</code>.</p> <h4 id=isabs>isAbs<a class=headerlink href=#isabs title="Permanent link">&para;</a></h4> <p>To check whether a path is absolute, use <code>isAbs</code>.</p> <h3 id=filepaths>Filepaths<a class=headerlink href=#filepaths title="Permanent link">&para;</a></h3> <p>Paths separated by the <code>os.PathSeparator</code> variable, processed by the <code>path/filepath</code> package.</p> <p>These are the recommended functions to use when parsing paths of local filesystems, usually when dealing with local files, directories, etc.</p> <p>Examples:</p> <ul> <li>Running on Linux or MacOS the filesystem path is separated by the slash character (<code>/</code>): <code>/home/user/file</code>, <code>/etc/config</code>;</li> <li>Running on <a href=https://en.wikipedia.org/wiki/Microsoft_Windows>Windows</a> the filesystem path is separated by the backslash character (<code>\</code>): <code>C:\Users\Username\</code>, <code>C:\Program Files\Application\</code>;</li> </ul> <h4 id=osbase>osBase<a class=headerlink href=#osbase title="Permanent link">&para;</a></h4> <p>Return the last element of a filepath.</p> <div class=highlight><pre><span></span><code>osBase &quot;/foo/bar/baz&quot;
osBase &quot;C:\\foo\\bar\\baz&quot;
</code></pre></div> <p>The above prints "baz" on Linux and Windows, respectively.</p> <h4 id=osdir>osDir<a class=headerlink href=#osdir title="Permanent link">&para;</a></h4> <p>Return the directory, stripping the last part of the path. So <code>osDir "/foo/bar/baz"</code> returns <code>/foo/bar</code> on Linux, and <code>osDir "C:\\foo\\bar\\baz"</code> returns <code>C:\\foo\\bar</code> on Windows.</p> <h4 id=osclean>osClean<a class=headerlink href=#osclean title="Permanent link">&para;</a></h4> <p>Clean up a path.</p> <div class=highlight><pre><span></span><code>osClean &quot;/foo/bar/../baz&quot;
osClean &quot;C:\\foo\\bar\\..\\baz&quot;
</code></pre></div> <p>The above resolves the <code>..</code> and returns <code>foo/baz</code> on Linux and <code>C:\\foo\\baz</code> on Windows.</p> <h4 id=osext>osExt<a class=headerlink href=#osext title="Permanent link">&para;</a></h4> <p>Return the file extension.</p> <div class=highlight><pre><span></span><code>osExt &quot;/foo.bar&quot;
osExt &quot;C:\\foo.bar&quot;
</code></pre></div> <p>The above returns <code>.bar</code> on Linux and Windows, respectively.</p> <h4 id=osisabs>osIsAbs<a class=headerlink href=#osisabs title="Permanent link">&para;</a></h4> <p>To check whether a file path is absolute, use <code>osIsAbs</code>.</p> <h2 id=flow-control-functions>Flow Control Functions<a class=headerlink href=#flow-control-functions title="Permanent link">&para;</a></h2> <h3 id=fail>fail<a class=headerlink href=#fail title="Permanent link">&para;</a></h3> <p>Unconditionally returns an empty <code>string</code> and an <code>error</code> with the specified text. This is useful in scenarios where other conditionals have determined that template rendering should fail.</p> <div class=highlight><pre><span></span><code>fail &quot;Please accept the end user license agreement&quot;
</code></pre></div> <h2 id=reflection-functions>Reflection Functions<a class=headerlink href=#reflection-functions title="Permanent link">&para;</a></h2> <p>Sprig provides rudimentary reflection tools. These help advanced template developers understand the underlying Go type information for a particular value.</p> <p>Go has several primitive <em>kinds</em>, like <code>string</code>, <code>slice</code>, <code>int64</code>, and <code>bool</code>.</p> <p>Go has an open <em>type</em> system that allows developers to create their own types.</p> <p>Sprig provides a set of functions for each.</p> <h3 id=kind-functions>Kind Functions<a class=headerlink href=#kind-functions title="Permanent link">&para;</a></h3> <p>There are two Kind functions: <code>kindOf</code> returns the kind of an object.</p> <div class=highlight><pre><span></span><code>kindOf &quot;hello&quot;
</code></pre></div> <p>The above would return <code>string</code>. For simple tests (like in <code>if</code> blocks), the <code>kindIs</code> function will let you verify that a value is a particular kind:</p> <div class=highlight><pre><span></span><code>kindIs &quot;int&quot; 123
</code></pre></div> <p>The above will return <code>true</code></p> <h3 id=type-functions>Type Functions<a class=headerlink href=#type-functions title="Permanent link">&para;</a></h3> <p>Types are slightly harder to work with, so there are three different functions:</p> <ul> <li><code>typeOf</code> returns the underlying type of a value: <code>typeOf $foo</code></li> <li><code>typeIs</code> is like <code>kindIs</code>, but for types: <code>typeIs "*io.Buffer" $myVal</code></li> <li><code>typeIsLike</code> works as <code>typeIs</code>, except that it also dereferences pointers.</li> </ul> <p><strong>Note:</strong> None of these can test whether or not something implements a given interface, since doing so would require compiling the interface in ahead of time.</p> <h3 id=deepequal>deepEqual<a class=headerlink href=#deepequal title="Permanent link">&para;</a></h3> <p><code>deepEqual</code> returns true if two values are <a href=https://golang.org/pkg/reflect/#DeepEqual>"deeply equal"</a></p> <p>Works for non-primitive types as well (compared to the built-in <code>eq</code>).</p> <div class=highlight><pre><span></span><code>deepEqual (list 1 2 3) (list 1 2 3)
</code></pre></div> <p>The above will return <code>true</code></p> <h2 id=cryptographic-and-security-functions>Cryptographic and Security Functions<a class=headerlink href=#cryptographic-and-security-functions title="Permanent link">&para;</a></h2> <p>Sprig provides a couple of advanced cryptographic functions.</p> <h3 id=sha1sum>sha1sum<a class=headerlink href=#sha1sum title="Permanent link">&para;</a></h3> <p>The <code>sha1sum</code> function receives a string, and computes it's SHA1 digest.</p> <div class=highlight><pre><span></span><code>sha1sum &quot;Hello world!&quot;
</code></pre></div> <h3 id=sha256sum>sha256sum<a class=headerlink href=#sha256sum title="Permanent link">&para;</a></h3> <p>The <code>sha256sum</code> function receives a string, and computes it's SHA256 digest.</p> <div class=highlight><pre><span></span><code>sha256sum &quot;Hello world!&quot;
</code></pre></div> <p>The above will compute the SHA 256 sum in an "ASCII armored" format that is safe to print.</p> <h3 id=sha512sum>sha512sum<a class=headerlink href=#sha512sum title="Permanent link">&para;</a></h3> <p>The <code>sha512sum</code> function receives a string, and computes it's SHA512 digest.</p> <div class=highlight><pre><span></span><code>sha512sum &quot;Hello world!&quot;
</code></pre></div> <p>The above will compute the SHA 512 sum in an "ASCII armored" format that is safe to print.</p> <h3 id=adler32sum>adler32sum<a class=headerlink href=#adler32sum title="Permanent link">&para;</a></h3> <p>The <code>adler32sum</code> function receives a string, and computes its Adler-32 checksum.</p> <div class=highlight><pre><span></span><code>adler32sum &quot;Hello world!&quot;
</code></pre></div> <h2 id=url-functions>URL Functions<a class=headerlink href=#url-functions title="Permanent link">&para;</a></h2> <h3 id=urlparse>urlParse<a class=headerlink href=#urlparse title="Permanent link">&para;</a></h3> <p>Parses string for URL and produces dict with URL parts</p> <div class=highlight><pre><span></span><code>urlParse &quot;http://admin:secret@server.com:8080/api?list=false#anchor&quot;
</code></pre></div> <p>The above returns a dict, containing URL object: <div class=highlight><pre><span></span><code><span class=nt>scheme</span><span class=p>:</span><span class=w>   </span><span class=s>&#39;http&#39;</span>
<span class=nt>host</span><span class=p>:</span><span class=w>     </span><span class=s>&#39;server.com:8080&#39;</span>
<span class=nt>path</span><span class=p>:</span><span class=w>     </span><span class=s>&#39;/api&#39;</span>
<span class=nt>query</span><span class=p>:</span><span class=w>    </span><span class=s>&#39;list=false&#39;</span>
<span class=nt>opaque</span><span class=p>:</span><span class=w>   </span><span class="l l-Scalar l-Scalar-Plain">nil</span>
<span class=nt>fragment</span><span class=p>:</span><span class=w> </span><span class=s>&#39;anchor&#39;</span>
<span class=nt>userinfo</span><span class=p>:</span><span class=w> </span><span class=s>&#39;admin:secret&#39;</span>
</code></pre></div></p> <p>For more info, check https://golang.org/pkg/net/url/#URL</p> <h3 id=urljoin>urlJoin<a class=headerlink href=#urljoin title="Permanent link">&para;</a></h3> <p>Joins map (produced by <code>urlParse</code>) to produce URL string</p> <div class=highlight><pre><span></span><code>urlJoin (dict &quot;fragment&quot; &quot;fragment&quot; &quot;host&quot; &quot;host:80&quot; &quot;path&quot; &quot;/path&quot; &quot;query&quot; &quot;query&quot; &quot;scheme&quot; &quot;http&quot;)
</code></pre></div> <p>The above returns the following string: <div class=highlight><pre><span></span><code>proto://host:80/path?query#fragment
</code></pre></div></p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Made with ‚ù§Ô∏è by Philipp C. Heckel </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/binwiederhier target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["search.suggest", "search.highlight", "search.share", "navigation.sections", "toc.integrate", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.f55a23d4.min.js></script> <script src=../../static/js/extra.js></script> </body> </html>